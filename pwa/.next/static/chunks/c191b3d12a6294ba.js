(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,14400,e=>{e.v("/_next/static/media/absurder_sql_bg.4b006aa8.wasm")},4948,__turbopack_context__=>{"use strict";let wasm,__TURBOPACK__import$2e$meta__={get url(){return`file://${__turbopack_context__.P("pwa/node_modules/@npiesco/absurder-sql/absurder_sql.js")}`}},cachedUint8ArrayMemory0=null;function getUint8ArrayMemory0(){return(null===cachedUint8ArrayMemory0||0===cachedUint8ArrayMemory0.byteLength)&&(cachedUint8ArrayMemory0=new Uint8Array(wasm.memory.buffer)),cachedUint8ArrayMemory0}let cachedTextDecoder=new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0});cachedTextDecoder.decode();let MAX_SAFARI_DECODE_BYTES=0x7ff00000,numBytesDecoded=0;function decodeText(e,t){return(numBytesDecoded+=t)>=MAX_SAFARI_DECODE_BYTES&&((cachedTextDecoder=new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0})).decode(),numBytesDecoded=t),cachedTextDecoder.decode(getUint8ArrayMemory0().subarray(e,e+t))}function getStringFromWasm0(e,t){return decodeText(e>>>=0,t)}let WASM_VECTOR_LEN=0,cachedTextEncoder=new TextEncoder;function passStringToWasm0(e,t,n){if(void 0===n){let n=cachedTextEncoder.encode(e),r=t(n.length,1)>>>0;return getUint8ArrayMemory0().subarray(r,r+n.length).set(n),WASM_VECTOR_LEN=n.length,r}let r=e.length,a=t(r,1)>>>0,_=getUint8ArrayMemory0(),i=0;for(;i<r;i++){let t=e.charCodeAt(i);if(t>127)break;_[a+i]=t}if(i!==r){0!==i&&(e=e.slice(i)),a=n(a,r,r=i+3*e.length,1)>>>0;let t=getUint8ArrayMemory0().subarray(a+i,a+r);i+=cachedTextEncoder.encodeInto(e,t).written,a=n(a,r,i,1)>>>0}return WASM_VECTOR_LEN=i,a}"encodeInto"in cachedTextEncoder||(cachedTextEncoder.encodeInto=function(e,t){let n=cachedTextEncoder.encode(e);return t.set(n),{read:e.length,written:n.length}});let cachedDataViewMemory0=null;function getDataViewMemory0(){return(null===cachedDataViewMemory0||!0===cachedDataViewMemory0.buffer.detached||void 0===cachedDataViewMemory0.buffer.detached&&cachedDataViewMemory0.buffer!==wasm.memory.buffer)&&(cachedDataViewMemory0=new DataView(wasm.memory.buffer)),cachedDataViewMemory0}function isLikeNone(e){return null==e}function debugString(e){let t,n=typeof e;if("number"==n||"boolean"==n||null==e)return`${e}`;if("string"==n)return`"${e}"`;if("symbol"==n){let t=e.description;return null==t?"Symbol":`Symbol(${t})`}if("function"==n){let t=e.name;return"string"==typeof t&&t.length>0?`Function(${t})`:"Function"}if(Array.isArray(e)){let t=e.length,n="[";t>0&&(n+=debugString(e[0]));for(let r=1;r<t;r++)n+=", "+debugString(e[r]);return n+"]"}let r=/\[object ([^\]]+)\]/.exec(toString.call(e));if(!r||!(r.length>1))return toString.call(e);if("Object"==(t=r[1]))try{return"Object("+JSON.stringify(e)+")"}catch(e){return"Object"}return e instanceof Error?`${e.name}: ${e.message}
${e.stack}`:t}function addToExternrefTable0(e){let t=wasm.__externref_table_alloc();return wasm.__wbindgen_externrefs.set(t,e),t}function handleError(e,t){try{return e.apply(this,t)}catch(t){let e=addToExternrefTable0(t);wasm.__wbindgen_exn_store(e)}}function getArrayU8FromWasm0(e,t){return e>>>=0,getUint8ArrayMemory0().subarray(e/1,e/1+t)}let CLOSURE_DTORS="undefined"==typeof FinalizationRegistry?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(e=>e.dtor(e.a,e.b));function makeMutClosure(e,t,n,r){let a={a:e,b:t,cnt:1,dtor:n},_=(...e)=>{a.cnt++;let t=a.a;a.a=0;try{return r(t,a.b,...e)}finally{a.a=t,_._wbg_cb_unref()}};return _._wbg_cb_unref=()=>{0==--a.cnt&&(a.dtor(a.a,a.b),a.a=0,CLOSURE_DTORS.unregister(a))},CLOSURE_DTORS.register(_,a,a),_}function init_logger(){wasm.init_logger()}function takeFromExternrefTable0(e){let t=wasm.__wbindgen_externrefs.get(e);return wasm.__externref_table_dealloc(e),t}function passArray8ToWasm0(e,t){let n=t(+e.length,1)>>>0;return getUint8ArrayMemory0().set(e,n/1),WASM_VECTOR_LEN=e.length,n}function wasm_bindgen__convert__closures_____invoke__h3ba5f0fbfb39f2bc(e,t,n){wasm.wasm_bindgen__convert__closures_____invoke__h3ba5f0fbfb39f2bc(e,t,n)}function wasm_bindgen__convert__closures_____invoke__h4a40dd3e40c810c9(e,t,n){wasm.wasm_bindgen__convert__closures_____invoke__h4a40dd3e40c810c9(e,t,n)}function wasm_bindgen__convert__closures_____invoke__h22534da7d54bf13b(e,t){wasm.wasm_bindgen__convert__closures_____invoke__h22534da7d54bf13b(e,t)}function wasm_bindgen__convert__closures_____invoke__h0645e20ee34c432f(e,t,n,r){wasm.wasm_bindgen__convert__closures_____invoke__h0645e20ee34c432f(e,t,n,r)}let __wbindgen_enum_IdbTransactionMode=["readonly","readwrite","versionchange","readwriteflush","cleanup"],DatabaseFinalization="undefined"==typeof FinalizationRegistry?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(e=>wasm.__wbg_database_free(e>>>0,1));class Database{static __wrap(e){e>>>=0;let t=Object.create(Database.prototype);return t.__wbg_ptr=e,DatabaseFinalization.register(t,t.__wbg_ptr,t),t}__destroy_into_raw(){let e=this.__wbg_ptr;return this.__wbg_ptr=0,DatabaseFinalization.unregister(this),e}free(){let e=this.__destroy_into_raw();wasm.__wbg_database_free(e,0)}static newDatabase(e){let t=passStringToWasm0(e,wasm.__wbindgen_malloc,wasm.__wbindgen_realloc),n=WASM_VECTOR_LEN;return wasm.database_newDatabase(t,n)}static getAllDatabases(){return wasm.database_getAllDatabases()}static deleteDatabase(e){let t=passStringToWasm0(e,wasm.__wbindgen_malloc,wasm.__wbindgen_realloc),n=WASM_VECTOR_LEN;return wasm.database_deleteDatabase(t,n)}execute(e){let t=passStringToWasm0(e,wasm.__wbindgen_malloc,wasm.__wbindgen_realloc),n=WASM_VECTOR_LEN;return wasm.database_execute(this.__wbg_ptr,t,n)}executeWithParams(e,t){let n=passStringToWasm0(e,wasm.__wbindgen_malloc,wasm.__wbindgen_realloc),r=WASM_VECTOR_LEN;return wasm.database_executeWithParams(this.__wbg_ptr,n,r,t)}close(){return wasm.database_close(this.__wbg_ptr)}forceCloseConnection(){return wasm.database_forceCloseConnection(this.__wbg_ptr)}sync(){return wasm.database_sync(this.__wbg_ptr)}allowNonLeaderWrites(e){return wasm.database_allowNonLeaderWrites(this.__wbg_ptr,e)}exportToFile(){return wasm.database_exportToFile(this.__wbg_ptr)}importFromFile(e){return wasm.database_importFromFile(this.__wbg_ptr,e)}waitForLeadership(){return wasm.database_waitForLeadership(this.__wbg_ptr)}requestLeadership(){return wasm.database_requestLeadership(this.__wbg_ptr)}getLeaderInfo(){return wasm.database_getLeaderInfo(this.__wbg_ptr)}queueWrite(e){let t=passStringToWasm0(e,wasm.__wbindgen_malloc,wasm.__wbindgen_realloc),n=WASM_VECTOR_LEN;return wasm.database_queueWrite(this.__wbg_ptr,t,n)}queueWriteWithTimeout(e,t){let n=passStringToWasm0(e,wasm.__wbindgen_malloc,wasm.__wbindgen_realloc),r=WASM_VECTOR_LEN;return wasm.database_queueWriteWithTimeout(this.__wbg_ptr,n,r,t)}isLeader(){return wasm.database_isLeader(this.__wbg_ptr)}is_leader(){return wasm.database_is_leader(this.__wbg_ptr)}onDataChange(e){let t=wasm.database_onDataChange(this.__wbg_ptr,e);if(t[1])throw takeFromExternrefTable0(t[0])}enableOptimisticUpdates(e){return wasm.database_enableOptimisticUpdates(this.__wbg_ptr,e)}isOptimisticMode(){return wasm.database_isOptimisticMode(this.__wbg_ptr)}trackOptimisticWrite(e){let t=passStringToWasm0(e,wasm.__wbindgen_malloc,wasm.__wbindgen_realloc),n=WASM_VECTOR_LEN;return wasm.database_trackOptimisticWrite(this.__wbg_ptr,t,n)}getPendingWritesCount(){return wasm.database_getPendingWritesCount(this.__wbg_ptr)}clearOptimisticWrites(){return wasm.database_clearOptimisticWrites(this.__wbg_ptr)}enableCoordinationMetrics(e){return wasm.database_enableCoordinationMetrics(this.__wbg_ptr,e)}isCoordinationMetricsEnabled(){return wasm.database_isCoordinationMetricsEnabled(this.__wbg_ptr)}recordLeadershipChange(e){return wasm.database_recordLeadershipChange(this.__wbg_ptr,e)}recordNotificationLatency(e){return wasm.database_recordNotificationLatency(this.__wbg_ptr,e)}recordWriteConflict(){return wasm.database_recordWriteConflict(this.__wbg_ptr)}recordFollowerRefresh(){return wasm.database_recordFollowerRefresh(this.__wbg_ptr)}getCoordinationMetrics(){return wasm.database_getCoordinationMetrics(this.__wbg_ptr)}resetCoordinationMetrics(){return wasm.database_resetCoordinationMetrics(this.__wbg_ptr)}}Symbol.dispose&&(Database.prototype[Symbol.dispose]=Database.prototype.free);let WasmColumnValueFinalization="undefined"==typeof FinalizationRegistry?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(e=>wasm.__wbg_wasmcolumnvalue_free(e>>>0,1));class WasmColumnValue{static __wrap(e){e>>>=0;let t=Object.create(WasmColumnValue.prototype);return t.__wbg_ptr=e,WasmColumnValueFinalization.register(t,t.__wbg_ptr,t),t}__destroy_into_raw(){let e=this.__wbg_ptr;return this.__wbg_ptr=0,WasmColumnValueFinalization.unregister(this),e}free(){let e=this.__destroy_into_raw();wasm.__wbg_wasmcolumnvalue_free(e,0)}static createNull(){let e=wasm.wasmcolumnvalue_createNull();return WasmColumnValue.__wrap(e)}static createInteger(e){let t=wasm.wasmcolumnvalue_createInteger(e);return WasmColumnValue.__wrap(t)}static createReal(e){let t=wasm.wasmcolumnvalue_createReal(e);return WasmColumnValue.__wrap(t)}static createText(e){let t=passStringToWasm0(e,wasm.__wbindgen_malloc,wasm.__wbindgen_realloc),n=WASM_VECTOR_LEN,r=wasm.wasmcolumnvalue_createText(t,n);return WasmColumnValue.__wrap(r)}static createBlob(e){let t=passArray8ToWasm0(e,wasm.__wbindgen_malloc),n=WASM_VECTOR_LEN,r=wasm.wasmcolumnvalue_createBlob(t,n);return WasmColumnValue.__wrap(r)}static createBigInt(e){let t=passStringToWasm0(e,wasm.__wbindgen_malloc,wasm.__wbindgen_realloc),n=WASM_VECTOR_LEN,r=wasm.wasmcolumnvalue_createBigInt(t,n);return WasmColumnValue.__wrap(r)}static createDate(e){let t=wasm.wasmcolumnvalue_createDate(e);return WasmColumnValue.__wrap(t)}static fromJsValue(e){let t=wasm.wasmcolumnvalue_fromJsValue(e);return WasmColumnValue.__wrap(t)}static null(){let e=wasm.wasmcolumnvalue_createNull();return WasmColumnValue.__wrap(e)}static integer(e){let t=wasm.wasmcolumnvalue_integer(e);return WasmColumnValue.__wrap(t)}static real(e){let t=wasm.wasmcolumnvalue_createReal(e);return WasmColumnValue.__wrap(t)}static text(e){let t=passStringToWasm0(e,wasm.__wbindgen_malloc,wasm.__wbindgen_realloc),n=WASM_VECTOR_LEN,r=wasm.wasmcolumnvalue_createText(t,n);return WasmColumnValue.__wrap(r)}static blob(e){let t=passArray8ToWasm0(e,wasm.__wbindgen_malloc),n=WASM_VECTOR_LEN,r=wasm.wasmcolumnvalue_blob(t,n);return WasmColumnValue.__wrap(r)}static big_int(e){let t=passStringToWasm0(e,wasm.__wbindgen_malloc,wasm.__wbindgen_realloc),n=WASM_VECTOR_LEN,r=wasm.wasmcolumnvalue_big_int(t,n);return WasmColumnValue.__wrap(r)}static date(e){let t=wasm.wasmcolumnvalue_createDate(e);return WasmColumnValue.__wrap(t)}}Symbol.dispose&&(WasmColumnValue.prototype[Symbol.dispose]=WasmColumnValue.prototype.free);let EXPECTED_RESPONSE_TYPES=new Set(["basic","cors","default"]);async function __wbg_load(e,t){if("function"==typeof Response&&e instanceof Response){if("function"==typeof WebAssembly.instantiateStreaming)try{return await WebAssembly.instantiateStreaming(e,t)}catch(t){if(e.ok&&EXPECTED_RESPONSE_TYPES.has(e.type)&&"application/wasm"!==e.headers.get("Content-Type"))console.warn("`WebAssembly.instantiateStreaming` failed because your server does not serve Wasm with `application/wasm` MIME type. Falling back to `WebAssembly.instantiate` which is slower. Original error:\n",t);else throw t}let n=await e.arrayBuffer();return await WebAssembly.instantiate(n,t)}{let n=await WebAssembly.instantiate(e,t);return n instanceof WebAssembly.Instance?{instance:n,module:e}:n}}function __wbg_get_imports(){let imports={};return imports.wbg={},imports.wbg.__wbg_Error_e83987f665cf5504=function(e,t){return Error(getStringFromWasm0(e,t))},imports.wbg.__wbg_Number_bb48ca12f395cd08=function(e){return Number(e)},imports.wbg.__wbg_String_8f0eb39a4a4c2f66=function(e,t){let n=passStringToWasm0(String(t),wasm.__wbindgen_malloc,wasm.__wbindgen_realloc),r=WASM_VECTOR_LEN;getDataViewMemory0().setInt32(e+4,r,!0),getDataViewMemory0().setInt32(e+0,n,!0)},imports.wbg.__wbg___wbindgen_bigint_get_as_i64_f3ebc5a755000afd=function(e,t){let n=t,r="bigint"==typeof n?n:void 0;getDataViewMemory0().setBigInt64(e+8,isLikeNone(r)?BigInt(0):r,!0),getDataViewMemory0().setInt32(e+0,!isLikeNone(r),!0)},imports.wbg.__wbg___wbindgen_boolean_get_6d5a1ee65bab5f68=function(e){let t=e,n="boolean"==typeof t?t:void 0;return isLikeNone(n)?0xffffff:+!!n},imports.wbg.__wbg___wbindgen_debug_string_df47ffb5e35e6763=function(e,t){let n=passStringToWasm0(debugString(t),wasm.__wbindgen_malloc,wasm.__wbindgen_realloc),r=WASM_VECTOR_LEN;getDataViewMemory0().setInt32(e+4,r,!0),getDataViewMemory0().setInt32(e+0,n,!0)},imports.wbg.__wbg___wbindgen_in_bb933bd9e1b3bc0f=function(e,t){return e in t},imports.wbg.__wbg___wbindgen_is_bigint_cb320707dcd35f0b=function(e){return"bigint"==typeof e},imports.wbg.__wbg___wbindgen_is_function_ee8a6c5833c90377=function(e){return"function"==typeof e},imports.wbg.__wbg___wbindgen_is_null_5e69f72e906cc57c=function(e){return null===e},imports.wbg.__wbg___wbindgen_is_object_c818261d21f283a4=function(e){let t=e;return"object"==typeof t&&null!==t},imports.wbg.__wbg___wbindgen_is_string_fbb76cb2940daafd=function(e){return"string"==typeof e},imports.wbg.__wbg___wbindgen_is_undefined_2d472862bd29a478=function(e){return void 0===e},imports.wbg.__wbg___wbindgen_jsval_eq_6b13ab83478b1c50=function(e,t){return e===t},imports.wbg.__wbg___wbindgen_jsval_loose_eq_b664b38a2f582147=function(e,t){return e==t},imports.wbg.__wbg___wbindgen_number_get_a20bf9b85341449d=function(e,t){let n=t,r="number"==typeof n?n:void 0;getDataViewMemory0().setFloat64(e+8,isLikeNone(r)?0:r,!0),getDataViewMemory0().setInt32(e+0,!isLikeNone(r),!0)},imports.wbg.__wbg___wbindgen_string_get_e4f06c90489ad01b=function(e,t){let n=t,r="string"==typeof n?n:void 0;var a=isLikeNone(r)?0:passStringToWasm0(r,wasm.__wbindgen_malloc,wasm.__wbindgen_realloc),_=WASM_VECTOR_LEN;getDataViewMemory0().setInt32(e+4,_,!0),getDataViewMemory0().setInt32(e+0,a,!0)},imports.wbg.__wbg___wbindgen_throw_b855445ff6a94295=function(e,t){throw Error(getStringFromWasm0(e,t))},imports.wbg.__wbg__wbg_cb_unref_2454a539ea5790d9=function(e){e._wbg_cb_unref()},imports.wbg.__wbg_bound_bcd18f6fa2e57078=function(){return handleError(function(e,t){return IDBKeyRange.bound(e,t)},arguments)},imports.wbg.__wbg_call_525440f72fbfc0ea=function(){return handleError(function(e,t,n){return e.call(t,n)},arguments)},imports.wbg.__wbg_call_e762c39fa8ea36bf=function(){return handleError(function(e,t){return e.call(t)},arguments)},imports.wbg.__wbg_cancelIdleCallback_415499de61339350=function(e,t){e.cancelIdleCallback(t>>>0)},imports.wbg.__wbg_clearInterval_0675249bbe52da7b=function(e,t){e.clearInterval(t)},imports.wbg.__wbg_close_209083eb02f34c98=function(e){e.close()},imports.wbg.__wbg_close_74386af11ef5ae35=function(e){e.close()},imports.wbg.__wbg_contains_9f431f3a4577dba6=function(e,t,n){return e.contains(getStringFromWasm0(t,n))},imports.wbg.__wbg_continue_a31229352363abe4=function(){return handleError(function(e){e.continue()},arguments)},imports.wbg.__wbg_createObjectStore_7df0fb1da746f44d=function(){return handleError(function(e,t,n){return e.createObjectStore(getStringFromWasm0(t,n))},arguments)},imports.wbg.__wbg_data_ee4306d069f24f2d=function(e){return e.data},imports.wbg.__wbg_database_new=function(e){return Database.__wrap(e)},imports.wbg.__wbg_debug_f4b0c59db649db48=function(e){console.debug(e)},imports.wbg.__wbg_document_725ae06eb442a6db=function(e){let t=e.document;return isLikeNone(t)?0:addToExternrefTable0(t)},imports.wbg.__wbg_done_2042aa2670fb1db1=function(e){return e.done},imports.wbg.__wbg_entries_e171b586f8f6bdbf=function(e){return Object.entries(e)},imports.wbg.__wbg_error_a7f8fbb0523dae15=function(e){console.error(e)},imports.wbg.__wbg_eval_89be3645cf120ed3=function(){return handleError(function(arg0,arg1){let ret=eval(getStringFromWasm0(arg0,arg1));return ret},arguments)},imports.wbg.__wbg_getDate_5a70d2f6a482d99f=function(e){return e.getDate()},imports.wbg.__wbg_getDay_a150a3fd757619d1=function(e){return e.getDay()},imports.wbg.__wbg_getFullYear_8240d5a15191feae=function(e){return e.getFullYear()},imports.wbg.__wbg_getHours_5e476e0b9ebc42d1=function(e){return e.getHours()},imports.wbg.__wbg_getItem_89f57d6acc51a876=function(){return handleError(function(e,t,n,r){let a=t.getItem(getStringFromWasm0(n,r));var _=isLikeNone(a)?0:passStringToWasm0(a,wasm.__wbindgen_malloc,wasm.__wbindgen_realloc),i=WASM_VECTOR_LEN;getDataViewMemory0().setInt32(e+4,i,!0),getDataViewMemory0().setInt32(e+0,_,!0)},arguments)},imports.wbg.__wbg_getMinutes_c95dfb65f1ea8f02=function(e){return e.getMinutes()},imports.wbg.__wbg_getMonth_25c1c5a601d72773=function(e){return e.getMonth()},imports.wbg.__wbg_getSeconds_8113bf8709718eb2=function(e){return e.getSeconds()},imports.wbg.__wbg_getTime_14776bfb48a1bff9=function(e){return e.getTime()},imports.wbg.__wbg_getTimezoneOffset_d391cb11d54969f8=function(e){return e.getTimezoneOffset()},imports.wbg.__wbg_get_7bed016f185add81=function(e,t){return e[t>>>0]},imports.wbg.__wbg_get_e7f29cbc382cd519=function(e,t,n){let r=t[n>>>0];var a=isLikeNone(r)?0:passStringToWasm0(r,wasm.__wbindgen_malloc,wasm.__wbindgen_realloc),_=WASM_VECTOR_LEN;getDataViewMemory0().setInt32(e+4,_,!0),getDataViewMemory0().setInt32(e+0,a,!0)},imports.wbg.__wbg_get_efcb449f58ec27c2=function(){return handleError(function(e,t){return Reflect.get(e,t)},arguments)},imports.wbg.__wbg_get_fb1fa70beb44a754=function(){return handleError(function(e,t){return e.get(t)},arguments)},imports.wbg.__wbg_get_with_ref_key_1dc361bd10053bfe=function(e,t){return e[t]},imports.wbg.__wbg_info_e674a11f4f50cc0c=function(e){console.info(e)},imports.wbg.__wbg_instanceof_ArrayBuffer_70beb1189ca63b38=function(e){let t;try{t=e instanceof ArrayBuffer}catch(e){t=!1}return t},imports.wbg.__wbg_instanceof_IdbDatabase_fcf75ffeeec3ec8c=function(e){let t;try{t=e instanceof IDBDatabase}catch(e){t=!1}return t},imports.wbg.__wbg_instanceof_IdbFactory_b39cfd3ab00cea49=function(e){let t;try{t=e instanceof IDBFactory}catch(e){t=!1}return t},imports.wbg.__wbg_instanceof_IdbOpenDbRequest_08e4929084e51476=function(e){let t;try{t=e instanceof IDBOpenDBRequest}catch(e){t=!1}return t},imports.wbg.__wbg_instanceof_Map_8579b5e2ab5437c7=function(e){let t;try{t=e instanceof Map}catch(e){t=!1}return t},imports.wbg.__wbg_instanceof_Uint8Array_20c8e73002f7af98=function(e){let t;try{t=e instanceof Uint8Array}catch(e){t=!1}return t},imports.wbg.__wbg_instanceof_Window_4846dbb3de56c84c=function(e){let t;try{t=e instanceof Window}catch(e){t=!1}return t},imports.wbg.__wbg_isArray_96e0af9891d0945d=function(e){return Array.isArray(e)},imports.wbg.__wbg_isSafeInteger_d216eda7911dde36=function(e){return Number.isSafeInteger(e)},imports.wbg.__wbg_iterator_e5822695327a3c39=function(){return Symbol.iterator},imports.wbg.__wbg_key_d84f6472d959b974=function(){return handleError(function(e){return e.key},arguments)},imports.wbg.__wbg_length_69bca3cb64fc8748=function(e){return e.length},imports.wbg.__wbg_length_a95b69f903b746c4=function(e){return e.length},imports.wbg.__wbg_length_cdd215e10d9dd507=function(e){return e.length},imports.wbg.__wbg_length_efec72473f10bc42=function(e){return e.length},imports.wbg.__wbg_localStorage_3034501cd2b3da3f=function(){return handleError(function(e){let t=e.localStorage;return isLikeNone(t)?0:addToExternrefTable0(t)},arguments)},imports.wbg.__wbg_log_8cec76766b8c0e33=function(e){console.log(e)},imports.wbg.__wbg_new_0_f9740686d739025c=function(){return new Date},imports.wbg.__wbg_new_1acc0b6eea89d040=function(){return{}},imports.wbg.__wbg_new_3c3d849046688a66=function(e,t){try{var n={a:e,b:t},r=(e,t)=>{let r=n.a;n.a=0;try{return wasm_bindgen__convert__closures_____invoke__h0645e20ee34c432f(r,n.b,e,t)}finally{n.a=r}};return new Promise(r)}finally{n.a=n.b=0}},imports.wbg.__wbg_new_5a79be3ab53b8aa5=function(e){return new Uint8Array(e)},imports.wbg.__wbg_new_67069b49258d9f2a=function(){return handleError(function(e,t){return new BroadcastChannel(getStringFromWasm0(e,t))},arguments)},imports.wbg.__wbg_new_93d9417ed3fb115d=function(e){return new Date(e)},imports.wbg.__wbg_new_e17d9f43105b08be=function(){return[]},imports.wbg.__wbg_new_from_slice_92f4d78ca282a2d2=function(e,t){return new Uint8Array(getArrayU8FromWasm0(e,t))},imports.wbg.__wbg_new_no_args_ee98eee5275000a4=function(e,t){return Function(getStringFromWasm0(e,t))},imports.wbg.__wbg_new_with_length_01aa0dc35aa13543=function(e){return new Uint8Array(e>>>0)},imports.wbg.__wbg_new_with_year_month_day_6236812cf591750d=function(e,t,n){return new Date(e>>>0,t,n)},imports.wbg.__wbg_next_020810e0ae8ebcb0=function(){return handleError(function(e){return e.next()},arguments)},imports.wbg.__wbg_next_2c826fe5dfec6b6a=function(e){return e.next},imports.wbg.__wbg_now_793306c526e2e3b6=function(){return Date.now()},imports.wbg.__wbg_objectStoreNames_cfcd75f76eff34e4=function(e){return e.objectStoreNames},imports.wbg.__wbg_objectStore_2aab1d8b165c62a6=function(){return handleError(function(e,t,n){return e.objectStore(getStringFromWasm0(t,n))},arguments)},imports.wbg.__wbg_openCursor_da22e71977afb7d7=function(){return handleError(function(e,t){return e.openCursor(t)},arguments)},imports.wbg.__wbg_open_9d8c51d122a5a6ea=function(){return handleError(function(e,t,n,r){return e.open(getStringFromWasm0(t,n),r>>>0)},arguments)},imports.wbg.__wbg_parse_2a704d6b78abb2b8=function(){return handleError(function(e,t){return JSON.parse(getStringFromWasm0(e,t))},arguments)},imports.wbg.__wbg_postMessage_2e1248c7fe808340=function(){return handleError(function(e,t){e.postMessage(t)},arguments)},imports.wbg.__wbg_prototypesetcall_2a6620b6922694b2=function(e,t,n){Uint8Array.prototype.set.call(getArrayU8FromWasm0(e,t),n)},imports.wbg.__wbg_push_df81a39d04db858c=function(e,t){return e.push(t)},imports.wbg.__wbg_put_88678dd575c85637=function(){return handleError(function(e,t,n){return e.put(t,n)},arguments)},imports.wbg.__wbg_queueMicrotask_34d692c25c47d05b=function(e){return e.queueMicrotask},imports.wbg.__wbg_queueMicrotask_9d76cacb20c84d58=function(e){queueMicrotask(e)},imports.wbg.__wbg_random_babe96ffc73e60a2=function(){return Math.random()},imports.wbg.__wbg_removeEventListener_aa21ef619e743518=function(){return handleError(function(e,t,n,r){e.removeEventListener(getStringFromWasm0(t,n),r)},arguments)},imports.wbg.__wbg_removeItem_0e1e70f1687b5304=function(){return handleError(function(e,t,n){e.removeItem(getStringFromWasm0(t,n))},arguments)},imports.wbg.__wbg_resolve_caf97c30b83f7053=function(e){return Promise.resolve(e)},imports.wbg.__wbg_result_25e75004b82b9830=function(){return handleError(function(e){return e.result},arguments)},imports.wbg.__wbg_setInterval_6714a9bec1e91fa3=function(){return handleError(function(e,t,n){return e.setInterval(t,n)},arguments)},imports.wbg.__wbg_setItem_64dfb54d7b20d84c=function(){return handleError(function(e,t,n,r,a){e.setItem(getStringFromWasm0(t,n),getStringFromWasm0(r,a))},arguments)},imports.wbg.__wbg_setTimeout_780ac15e3df4c663=function(){return handleError(function(e,t,n){return e.setTimeout(t,n)},arguments)},imports.wbg.__wbg_set_3f1d0b984ed272ed=function(e,t,n){e[t]=n},imports.wbg.__wbg_set_9e6516df7b7d0f19=function(e,t,n){e.set(getArrayU8FromWasm0(t,n))},imports.wbg.__wbg_set_c213c871859d6500=function(e,t,n){e[t>>>0]=n},imports.wbg.__wbg_set_c2abbebe8b9ebee1=function(){return handleError(function(e,t,n){return Reflect.set(e,t,n)},arguments)},imports.wbg.__wbg_set_oncomplete_71dbeb19a31158ae=function(e,t){e.oncomplete=t},imports.wbg.__wbg_set_onerror_2a8ad6135dc1ec74=function(e,t){e.onerror=t},imports.wbg.__wbg_set_onerror_dc82fea584ffccaa=function(e,t){e.onerror=t},imports.wbg.__wbg_set_onmessage_86d8d65dbed3a751=function(e,t){e.onmessage=t},imports.wbg.__wbg_set_onsuccess_f367d002b462109e=function(e,t){e.onsuccess=t},imports.wbg.__wbg_set_onupgradeneeded_0a519a73284a1418=function(e,t){e.onupgradeneeded=t},imports.wbg.__wbg_slice_3e7e2fc0da7cc625=function(e,t,n){return e.slice(t>>>0,n>>>0)},imports.wbg.__wbg_static_accessor_GLOBAL_89e1d9ac6a1b250e=function(){let e=__turbopack_context__.g;return isLikeNone(e)?0:addToExternrefTable0(e)},imports.wbg.__wbg_static_accessor_GLOBAL_THIS_8b530f326a9e48ac=function(){let e="undefined"==typeof globalThis?null:globalThis;return isLikeNone(e)?0:addToExternrefTable0(e)},imports.wbg.__wbg_static_accessor_SELF_6fdf4b64710cc91b=function(){let e="undefined"==typeof self?null:self;return isLikeNone(e)?0:addToExternrefTable0(e)},imports.wbg.__wbg_static_accessor_WINDOW_b45bfc5a37f6cfa2=function(){let e="undefined"==typeof window?null:window;return isLikeNone(e)?0:addToExternrefTable0(e)},imports.wbg.__wbg_stringify_b5fb28f6465d9c3e=function(){return handleError(function(e){return JSON.stringify(e)},arguments)},imports.wbg.__wbg_target_1447f5d3a6fa6fe0=function(e){let t=e.target;return isLikeNone(t)?0:addToExternrefTable0(t)},imports.wbg.__wbg_then_4f46f6544e6b4a28=function(e,t){return e.then(t)},imports.wbg.__wbg_then_70d05cf780a18d77=function(e,t,n){return e.then(t,n)},imports.wbg.__wbg_toString_331854e6e3c16849=function(){return handleError(function(e,t){return e.toString(t)},arguments)},imports.wbg.__wbg_transaction_b93f1b2d9bd57727=function(){return handleError(function(e,t,n){return e.transaction(getStringFromWasm0(t,n))},arguments)},imports.wbg.__wbg_transaction_cd940bd89781f616=function(){return handleError(function(e,t,n){return e.transaction(t,__wbindgen_enum_IdbTransactionMode[n])},arguments)},imports.wbg.__wbg_transaction_e90346abb797e13b=function(){return handleError(function(e,t){return e.transaction(t)},arguments)},imports.wbg.__wbg_value_692627309814bb8c=function(e){return e.value},imports.wbg.__wbg_value_bf03593c8a7b58b8=function(){return handleError(function(e){return e.value},arguments)},imports.wbg.__wbg_warn_1d74dddbe2fd1dbb=function(e){console.warn(e)},imports.wbg.__wbindgen_cast_2241b6af4c4b2941=function(e,t){return getStringFromWasm0(e,t)},imports.wbg.__wbindgen_cast_4625c577ab2ec9ee=function(e){return BigInt.asUintN(64,e)},imports.wbg.__wbindgen_cast_57a169896fc88a99=function(e,t){return makeMutClosure(e,t,wasm.wasm_bindgen__closure__destroy__h2f37bf16a5f8f009,wasm_bindgen__convert__closures_____invoke__h4a40dd3e40c810c9)},imports.wbg.__wbindgen_cast_5ad24f94af76dc58=function(e,t){return makeMutClosure(e,t,wasm.wasm_bindgen__closure__destroy__h2f37bf16a5f8f009,wasm_bindgen__convert__closures_____invoke__h4a40dd3e40c810c9)},imports.wbg.__wbindgen_cast_835f1eef5edca652=function(e,t){return makeMutClosure(e,t,wasm.wasm_bindgen__closure__destroy__hddca379abe978273,wasm_bindgen__convert__closures_____invoke__h3ba5f0fbfb39f2bc)},imports.wbg.__wbindgen_cast_9ae0607507abb057=function(e){return e},imports.wbg.__wbindgen_cast_ca47f5f1baddc70e=function(e,t){return makeMutClosure(e,t,wasm.wasm_bindgen__closure__destroy__h2f37bf16a5f8f009,wasm_bindgen__convert__closures_____invoke__h22534da7d54bf13b)},imports.wbg.__wbindgen_cast_d6cd19b81560fd6e=function(e){return e},imports.wbg.__wbindgen_init_externref_table=function(){let e=wasm.__wbindgen_externrefs,t=e.grow(4);e.set(0,void 0),e.set(t+0,void 0),e.set(t+1,null),e.set(t+2,!0),e.set(t+3,!1)},imports}function __wbg_finalize_init(e,t){return wasm=e.exports,__wbg_init.__wbindgen_wasm_module=t,cachedDataViewMemory0=null,cachedUint8ArrayMemory0=null,wasm.__wbindgen_start(),wasm}function initSync(e){if(void 0!==wasm)return wasm;void 0!==e&&(Object.getPrototypeOf(e)===Object.prototype?{module:e}=e:console.warn("using deprecated parameters for `initSync()`; pass a single object instead"));let t=__wbg_get_imports();return e instanceof WebAssembly.Module||(e=new WebAssembly.Module(e)),__wbg_finalize_init(new WebAssembly.Instance(e,t),e)}async function __wbg_init(e){if(void 0!==wasm)return wasm;void 0!==e&&(Object.getPrototypeOf(e)===Object.prototype?{module_or_path:e}=e:console.warn("using deprecated parameters for the initialization function; pass a single object instead")),void 0===e&&(e=new __turbopack_context__.U(__turbopack_context__.r(14400)));let t=__wbg_get_imports();("string"==typeof e||"function"==typeof Request&&e instanceof Request||"function"==typeof URL&&e instanceof URL)&&(e=fetch(e));let{instance:n,module:r}=await __wbg_load(await e,t);return __wbg_finalize_init(n,r)}let __TURBOPACK__default__export__=__wbg_init;__turbopack_context__.s(["Database",()=>Database,"WasmColumnValue",()=>WasmColumnValue,"default",0,__TURBOPACK__default__export__,"initSync",()=>initSync,"init_logger",()=>init_logger])},58612,e=>{"use strict";var t=e.i(4948);class n{db=null;dbName=null;initialized=!1;async initialize(){if(!this.initialized)try{await (0,t.default)(),this.initialized=!0}catch(e){throw console.error("Failed to initialize WASM module:",e),Error(`WASM initialization failed: ${e}`)}}isInitialized(){return this.initialized}async open(e){if(await this.initialize(),this.db)throw Error("Database is already open. Close it first.");try{this.db=await t.Database.newDatabase(e),this.dbName=e,console.log(`DatabaseClient: Opened database "${e}"`)}catch(e){throw console.error("DatabaseClient: Failed to open database:",e),Error(`Failed to open database: ${e}`)}}async execute(e,t){if(!this.db)throw Error("Database not opened. Call open() first.");try{if(t&&t.length>0)return await this.db.executeWithParams(e,t);return await this.db.execute(e)}catch(e){throw console.error("Query execution failed:",e),Error(`Query failed: ${e}`)}}async export(){if(!this.db)throw Error("Database not opened. Call open() first.");try{let e=await this.db.exportToFile();return new Blob([e],{type:"application/x-sqlite3"})}catch(e){throw console.error("Database export failed:",e),Error(`Export failed: ${e}`)}}async import(e){if(!this.db||!this.dbName)throw Error("Database not opened. Call open() first to create initial database instance.");try{let n=await e.arrayBuffer();await this.db.importFromFile(new Uint8Array(n)),console.log(`Import complete, reopening database "${this.dbName}"...`),this.db=await t.Database.newDatabase(this.dbName),console.log("Database reopened after import")}catch(e){throw console.error("Database import failed:",e),Error(`Import failed: ${e}`)}}async sync(){if(!this.db)throw Error("Database not opened. Call open() first.");try{await this.db.sync()}catch(e){throw console.error("Database sync failed:",e),Error(`Sync failed: ${e}`)}}async close(){if(this.db)try{await this.db.close(),this.db=null,this.dbName=null}catch(e){throw console.error("Database close failed:",e),Error(`Close failed: ${e}`)}}isOpen(){return null!==this.db}getDatabaseName(){return this.dbName}async exportDatabase(){return this.export()}async importDatabase(e,n){await this.initialize(),this.db&&await this.close();try{this.db=await t.Database.newDatabase(e),this.dbName=e;let r=await n.arrayBuffer();await this.db.importFromFile(new Uint8Array(r)),console.log(`Import complete, reopening database "${e}"...`),this.db=await t.Database.newDatabase(e),console.log("Database reopened after import")}catch(e){throw console.error("Database import failed:",e),this.db=null,this.dbName=null,Error(`Import failed: ${e}`)}}async deleteDatabase(e){await this.initialize(),this.dbName===e&&this.db&&await this.close();try{let t=indexedDB.deleteDatabase(e);await new Promise((n,r)=>{t.onsuccess=()=>{console.log(`Deleted database "${e}"`),n()},t.onerror=()=>{r(Error(`Failed to delete database: ${t.error}`))},t.onblocked=()=>{console.warn(`Delete blocked for database "${e}". Close all connections first.`)}})}catch(t){throw console.error(`Failed to delete database "${e}":`,t),Error(`Delete failed: ${t}`)}}getDatabase(){return this.db}async isLeader(){if(!this.db)throw Error("Database not opened. Call open() first.");return await this.db.isLeader()}async waitForLeadership(){if(!this.db)throw Error("Database not opened. Call open() first.");return await this.db.waitForLeadership()}async requestLeadership(){if(!this.db)throw Error("Database not opened. Call open() first.");return await this.db.requestLeadership()}async allowNonLeaderWrites(e){if(!this.db)throw Error("Database not opened. Call open() first.");return await this.db.allowNonLeaderWrites(e)}}e.s(["DatabaseClient",()=>n])},31164,e=>{"use strict";var t=e.i(73444),n=e.i(74907),r=e.i(58612);let a=(0,n.createContext)(void 0);function _({children:e,dbName:_}){let[i,o]=(0,n.useState)(null),[b,c]=(0,n.useState)(!0),[s,u]=(0,n.useState)(null),l=async e=>{c(!0),u(null);try{let t=new r.DatabaseClient;await t.open(e),o(t),console.log(`DatabaseProvider: Initialized database "${e}"`)}catch(e){console.error("DatabaseProvider: Initialization failed:",e),u(e)}finally{c(!1)}};(0,n.useEffect)(()=>(l(_),()=>{i&&i.close().catch(e=>{console.error("DatabaseProvider: Failed to close database on unmount:",e)})}),[_]);let d=async e=>{i&&await i.close(),await l(e)},f={db:i,loading:b,error:s,reinitialize:d};return(0,t.jsx)(a.Provider,{value:f,children:e})}function i(){let e=(0,n.useContext)(a);if(void 0===e)throw Error("useDatabase must be used within a DatabaseProvider");return e}e.s(["DatabaseProvider",()=>_,"useDatabase",()=>i])},81416,e=>{"use strict";var t=e.i(73444),n=e.i(75784),r=e.i(74907),a=e.i(31164);function _(){let e,_,i,o,b=(0,n.c)(10),{db:c}=(0,a.useDatabase)(),[s,u]=(0,r.useState)("");b[0]!==c?(e=async()=>{if(c)try{await c.execute("DROP TABLE IF EXISTS shared_data"),await c.execute("CREATE TABLE shared_data (id INTEGER, value TEXT)"),await c.execute("INSERT INTO shared_data VALUES (?, ?)",[{type:"Integer",value:1},{type:"Text",value:"shared data"}]),u("Write complete")}catch(e){console.error("Component1 write error:",e)}},b[0]=c,b[1]=e):e=b[1];let l=e,d=!c;return b[2]!==l||b[3]!==d?(_=(0,t.jsx)("button",{id:"component1Write",onClick:l,disabled:d,children:"Component 1 Write"}),b[2]=l,b[3]=d,b[4]=_):_=b[4],b[5]!==s?(i=(0,t.jsx)("p",{id:"component1Result",children:s}),b[5]=s,b[6]=i):i=b[6],b[7]!==_||b[8]!==i?(o=(0,t.jsxs)("div",{children:[_,i]}),b[7]=_,b[8]=i,b[9]=o):o=b[9],o}function i(){let{db:e}=(0,a.useDatabase)(),[n,_]=(0,r.useState)(""),i=async()=>{if(e)try{let t=await e.execute("SELECT * FROM shared_data WHERE id = 1");if(t.rows.length>0){let e=t.rows[0].values[1],n="Text"===e.type?e.value:null;window.component2Data=n,_("Read complete")}}catch(e){console.error("Component2 read error:",e)}};return(0,t.jsxs)("div",{children:[(0,t.jsx)("button",{id:"component2Read",onClick:i,disabled:!e,children:"Component 2 Read"}),(0,t.jsx)("p",{id:"component2Result",children:n})]})}function o(){let e,_,i,o,b,c,s=(0,n.c)(13),{db:u,error:l}=(0,a.useDatabase)(),[d,f]=(0,r.useState)(null);s[0]!==l?(e=()=>{l&&(window.contextError=l)},_=[l],s[0]=l,s[1]=e,s[2]=_):(e=s[1],_=s[2]),(0,r.useEffect)(e,_),s[3]!==u?(i=async()=>{if(u)try{await u.execute("INVALID SQL SYNTAX")}catch(t){let e=t;f(e),window.contextError=e}},s[3]=u,s[4]=i):i=s[4];let w=i,g=!u;s[5]!==w||s[6]!==g?(o=(0,t.jsx)("button",{id:"triggerError",onClick:w,disabled:g,children:"Trigger Error"}),s[5]=w,s[6]=g,s[7]=o):o=s[7];let p=d||l?"Database error":"";return s[8]!==p?(b=(0,t.jsx)("p",{id:"errorDisplay",children:p}),s[8]=p,s[9]=b):b=s[9],s[10]!==o||s[11]!==b?(c=(0,t.jsxs)("div",{children:[o,b]}),s[10]=o,s[11]=b,s[12]=c):c=s[12],c}function b(){let e,b,c,s,u,l,d,f,w,g=(0,n.c)(13),{db:p,loading:h,error:m}=(0,a.useDatabase)();g[0]!==p||g[1]!==h?(e=()=>{window.contextDb=p,window.dbInitialized=!h&&null!==p},b=[p,h],g[0]=p,g[1]=h,g[2]=e,g[3]=b):(e=g[2],b=g[3]),(0,r.useEffect)(e,b),g[4]===Symbol.for("react.memo_cache_sentinel")?(c={padding:"20px",fontFamily:"system-ui"},s=(0,t.jsx)("h1",{children:"Provider Test Page"}),g[4]=c,g[5]=s):(c=g[4],s=g[5]);let y=h?"Loading...":m?`Error: ${m.message}`:"Provider ready";return g[6]!==y?(u=(0,t.jsx)("p",{id:"status",children:y}),g[6]=y,g[7]=u):u=g[7],g[8]===Symbol.for("react.memo_cache_sentinel")?(l=(0,t.jsx)("div",{style:{marginTop:"20px"},children:(0,t.jsx)(_,{})}),d=(0,t.jsx)("div",{style:{marginTop:"20px"},children:(0,t.jsx)(i,{})}),f=(0,t.jsx)("div",{style:{marginTop:"20px"},children:(0,t.jsx)(o,{})}),g[8]=l,g[9]=d,g[10]=f):(l=g[8],d=g[9],f=g[10]),g[11]!==u?(w=(0,t.jsxs)("div",{style:c,children:[s,u,l,d,f]}),g[11]=u,g[12]=w):w=g[12],w}function c(){let e,r=(0,n.c)(1);return r[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,t.jsx)(a.DatabaseProvider,{dbName:"provider_test.db",children:(0,t.jsx)(b,{})}),r[0]=e):e=r[0],e}e.s(["default",()=>c])}]);