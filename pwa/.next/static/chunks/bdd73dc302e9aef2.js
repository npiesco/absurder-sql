(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,65756,e=>{"use strict";var t=e.i(74907);let l=e=>{let t=e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,l)=>l?l.toUpperCase():t.toLowerCase());return t.charAt(0).toUpperCase()+t.slice(1)},a=(...e)=>e.filter((e,t,l)=>!!e&&""!==e.trim()&&l.indexOf(e)===t).join(" ").trim();var n={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let r=(0,t.forwardRef)(({color:e="currentColor",size:l=24,strokeWidth:r=2,absoluteStrokeWidth:s,className:i="",children:o,iconNode:c,...d},u)=>(0,t.createElement)("svg",{ref:u,...n,width:l,height:l,stroke:e,strokeWidth:s?24*Number(r)/Number(l):r,className:a("lucide",i),...!o&&!(e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0})(d)&&{"aria-hidden":"true"},...d},[...c.map(([e,l])=>(0,t.createElement)(e,l)),...Array.isArray(o)?o:[o]])),s=(e,n)=>{let s=(0,t.forwardRef)(({className:s,...i},o)=>(0,t.createElement)(r,{ref:o,iconNode:n,className:a(`lucide-${l(e).replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,`lucide-${e}`,s),...i}));return s.displayName=l(e),s};e.s(["default",()=>s],65756)},33690,e=>{"use strict";var t=e.i(74907),l=e.i(69617),a=e.i(9486),n=e=>{var n;let s,i,{present:o,children:c}=e,d=function(e){var l,n;let[s,i]=t.useState(),o=t.useRef(null),c=t.useRef(e),d=t.useRef("none"),[u,m]=(l=e?"mounted":"unmounted",n={mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}},t.useReducer((e,t)=>n[e][t]??e,l));return t.useEffect(()=>{let e=r(o.current);d.current="mounted"===u?e:"none"},[u]),(0,a.useLayoutEffect)(()=>{let t=o.current,l=c.current;if(l!==e){let a=d.current,n=r(t);e?m("MOUNT"):"none"===n||t?.display==="none"?m("UNMOUNT"):l&&a!==n?m("ANIMATION_OUT"):m("UNMOUNT"),c.current=e}},[e,m]),(0,a.useLayoutEffect)(()=>{if(s){let e,t=s.ownerDocument.defaultView??window,l=l=>{let a=r(o.current).includes(CSS.escape(l.animationName));if(l.target===s&&a&&(m("ANIMATION_END"),!c.current)){let l=s.style.animationFillMode;s.style.animationFillMode="forwards",e=t.setTimeout(()=>{"forwards"===s.style.animationFillMode&&(s.style.animationFillMode=l)})}},a=e=>{e.target===s&&(d.current=r(o.current))};return s.addEventListener("animationstart",a),s.addEventListener("animationcancel",l),s.addEventListener("animationend",l),()=>{t.clearTimeout(e),s.removeEventListener("animationstart",a),s.removeEventListener("animationcancel",l),s.removeEventListener("animationend",l)}}m("ANIMATION_END")},[s,m]),{isPresent:["mounted","unmountSuspended"].includes(u),ref:t.useCallback(e=>{o.current=e?getComputedStyle(e):null,i(e)},[])}}(o),u="function"==typeof c?c({present:d.isPresent}):t.Children.only(c),m=(0,l.useComposedRefs)(d.ref,(n=u,(i=(s=Object.getOwnPropertyDescriptor(n.props,"ref")?.get)&&"isReactWarning"in s&&s.isReactWarning)?n.ref:(i=(s=Object.getOwnPropertyDescriptor(n,"ref")?.get)&&"isReactWarning"in s&&s.isReactWarning)?n.props.ref:n.props.ref||n.ref));return"function"==typeof c||d.isPresent?t.cloneElement(u,{ref:m}):null};function r(e){return e?.animationName||"none"}n.displayName="Presence",e.s(["Presence",()=>n])},34219,32977,e=>{"use strict";let t,l,a;var n=e.i(73444),r=e.i(75784),s=e.i(74907),i=e.i(35560),o=e.i(69617),c=e.i(26972),d=e.i(37707),u=e.i(29275),m=e.i(54215),p=e.i(30398),f=e.i(53711),x=e.i(33690),h=e.i(67329),g=e.i(77329),v=e.i(76283),b=e.i(60567),y=Symbol("radix.slottable");function j(e){return s.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===y}var w="Dialog",[N,C]=(0,c.createContextScope)(w),[S,E]=N(w),R=e=>{let{__scopeDialog:t,children:l,open:a,defaultOpen:r,onOpenChange:i,modal:o=!0}=e,c=s.useRef(null),m=s.useRef(null),[p,f]=(0,u.useControllableState)({prop:a,defaultProp:r??!1,onChange:i,caller:w});return(0,n.jsx)(S,{scope:t,triggerRef:c,contentRef:m,contentId:(0,d.useId)(),titleId:(0,d.useId)(),descriptionId:(0,d.useId)(),open:p,onOpenChange:f,onOpenToggle:s.useCallback(()=>f(e=>!e),[f]),modal:o,children:l})};R.displayName=w;var k="DialogTrigger",T=s.forwardRef((e,t)=>{let{__scopeDialog:l,...a}=e,r=E(k,l),s=(0,o.useComposedRefs)(t,r.triggerRef);return(0,n.jsx)(h.Primitive.button,{type:"button","aria-haspopup":"dialog","aria-expanded":r.open,"aria-controls":r.contentId,"data-state":J(r.open),...a,ref:s,onClick:(0,i.composeEventHandlers)(e.onClick,r.onOpenToggle)})});T.displayName=k;var I="DialogPortal",[D,O]=N(I,{forceMount:void 0}),A=e=>{let{__scopeDialog:t,forceMount:l,children:a,container:r}=e,i=E(I,t);return(0,n.jsx)(D,{scope:t,forceMount:l,children:s.Children.map(a,e=>(0,n.jsx)(x.Presence,{present:l||i.open,children:(0,n.jsx)(f.Portal,{asChild:!0,container:r,children:e})}))})};A.displayName=I;var L="DialogOverlay",$=s.forwardRef((e,t)=>{let l=O(L,e.__scopeDialog),{forceMount:a=l.forceMount,...r}=e,s=E(L,e.__scopeDialog);return s.modal?(0,n.jsx)(x.Presence,{present:a||s.open,children:(0,n.jsx)(B,{...r,ref:t})}):null});$.displayName=L;var _=((a=s.forwardRef((e,t)=>{let{children:l,...a}=e;if(s.isValidElement(l)){var n;let e,r,i=(n=l,(r=(e=Object.getOwnPropertyDescriptor(n.props,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?n.ref:(r=(e=Object.getOwnPropertyDescriptor(n,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?n.props.ref:n.props.ref||n.ref),c=function(e,t){let l={...t};for(let a in t){let n=e[a],r=t[a];/^on[A-Z]/.test(a)?n&&r?l[a]=(...e)=>{let t=r(...e);return n(...e),t}:n&&(l[a]=n):"style"===a?l[a]={...n,...r}:"className"===a&&(l[a]=[n,r].filter(Boolean).join(" "))}return{...e,...l}}(a,l.props);return l.type!==s.Fragment&&(c.ref=t?(0,o.composeRefs)(t,i):i),s.cloneElement(l,c)}return s.Children.count(l)>1?s.Children.only(null):null})).displayName="DialogOverlay.RemoveScroll.SlotClone",t=a,(l=s.forwardRef((e,l)=>{let{children:a,...r}=e,i=s.Children.toArray(a),o=i.find(j);if(o){let e=o.props.children,a=i.map(t=>t!==o?t:s.Children.count(e)>1?s.Children.only(null):s.isValidElement(e)?e.props.children:null);return(0,n.jsx)(t,{...r,ref:l,children:s.isValidElement(e)?s.cloneElement(e,void 0,a):null})}return(0,n.jsx)(t,{...r,ref:l,children:a})})).displayName="DialogOverlay.RemoveScroll.Slot",l),B=s.forwardRef((e,t)=>{let{__scopeDialog:l,...a}=e,r=E(L,l);return(0,n.jsx)(v.RemoveScroll,{as:_,allowPinchZoom:!0,shards:[r.contentRef],children:(0,n.jsx)(h.Primitive.div,{"data-state":J(r.open),...a,ref:t,style:{pointerEvents:"auto",...a.style}})})}),P="DialogContent",F=s.forwardRef((e,t)=>{let l=O(P,e.__scopeDialog),{forceMount:a=l.forceMount,...r}=e,s=E(P,e.__scopeDialog);return(0,n.jsx)(x.Presence,{present:a||s.open,children:s.modal?(0,n.jsx)(U,{...r,ref:t}):(0,n.jsx)(M,{...r,ref:t})})});F.displayName=P;var U=s.forwardRef((e,t)=>{let l=E(P,e.__scopeDialog),a=s.useRef(null),r=(0,o.useComposedRefs)(t,l.contentRef,a);return s.useEffect(()=>{let e=a.current;if(e)return(0,b.hideOthers)(e)},[]),(0,n.jsx)(z,{...e,ref:r,trapFocus:l.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:(0,i.composeEventHandlers)(e.onCloseAutoFocus,e=>{e.preventDefault(),l.triggerRef.current?.focus()}),onPointerDownOutside:(0,i.composeEventHandlers)(e.onPointerDownOutside,e=>{let t=e.detail.originalEvent,l=0===t.button&&!0===t.ctrlKey;(2===t.button||l)&&e.preventDefault()}),onFocusOutside:(0,i.composeEventHandlers)(e.onFocusOutside,e=>e.preventDefault())})}),M=s.forwardRef((e,t)=>{let l=E(P,e.__scopeDialog),a=s.useRef(!1),r=s.useRef(!1);return(0,n.jsx)(z,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:t=>{e.onCloseAutoFocus?.(t),t.defaultPrevented||(a.current||l.triggerRef.current?.focus(),t.preventDefault()),a.current=!1,r.current=!1},onInteractOutside:t=>{e.onInteractOutside?.(t),t.defaultPrevented||(a.current=!0,"pointerdown"===t.detail.originalEvent.type&&(r.current=!0));let n=t.target;l.triggerRef.current?.contains(n)&&t.preventDefault(),"focusin"===t.detail.originalEvent.type&&r.current&&t.preventDefault()}})}),z=s.forwardRef((e,t)=>{let{__scopeDialog:l,trapFocus:a,onOpenAutoFocus:r,onCloseAutoFocus:i,...c}=e,d=E(P,l),u=s.useRef(null),f=(0,o.useComposedRefs)(t,u);return(0,g.useFocusGuards)(),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(p.FocusScope,{asChild:!0,loop:!0,trapped:a,onMountAutoFocus:r,onUnmountAutoFocus:i,children:(0,n.jsx)(m.DismissableLayer,{role:"dialog",id:d.contentId,"aria-describedby":d.descriptionId,"aria-labelledby":d.titleId,"data-state":J(d.open),...c,ref:f,onDismiss:()=>d.onOpenChange(!1)})}),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(Q,{titleId:d.titleId}),(0,n.jsx)(ee,{contentRef:u,descriptionId:d.descriptionId})]})]})}),H="DialogTitle",W=s.forwardRef((e,t)=>{let{__scopeDialog:l,...a}=e,r=E(H,l);return(0,n.jsx)(h.Primitive.h2,{id:r.titleId,...a,ref:t})});W.displayName=H;var q="DialogDescription",V=s.forwardRef((e,t)=>{let{__scopeDialog:l,...a}=e,r=E(q,l);return(0,n.jsx)(h.Primitive.p,{id:r.descriptionId,...a,ref:t})});V.displayName=q;var K="DialogClose",G=s.forwardRef((e,t)=>{let{__scopeDialog:l,...a}=e,r=E(K,l);return(0,n.jsx)(h.Primitive.button,{type:"button",...a,ref:t,onClick:(0,i.composeEventHandlers)(e.onClick,()=>r.onOpenChange(!1))})});function J(e){return e?"open":"closed"}G.displayName=K;var Z="DialogTitleWarning",[X,Y]=(0,c.createContext)(Z,{contentName:P,titleName:H,docsSlug:"dialog"}),Q=({titleId:e})=>{let t=Y(Z),l=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return s.useEffect(()=>{e&&(document.getElementById(e)||console.error(l))},[l,e]),null},ee=({contentRef:e,descriptionId:t})=>{let l=Y("DialogDescriptionWarning"),a=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${l.contentName}}.`;return s.useEffect(()=>{let l=e.current?.getAttribute("aria-describedby");t&&l&&(document.getElementById(t)||console.warn(a))},[a,e,t]),null};let et=(0,e.i(65756).default)("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);e.s(["default",()=>et],32977);var el=e.i(67830);function ea(e){let t,l,a=(0,r.c)(4);return a[0]!==e?({...t}=e,a[0]=e,a[1]=t):t=a[1],a[2]!==t?(l=(0,n.jsx)(R,{"data-slot":"dialog",...t}),a[2]=t,a[3]=l):l=a[3],l}function en(e){let t,l,a=(0,r.c)(4);return a[0]!==e?({...t}=e,a[0]=e,a[1]=t):t=a[1],a[2]!==t?(l=(0,n.jsx)(T,{"data-slot":"dialog-trigger",...t}),a[2]=t,a[3]=l):l=a[3],l}function er(e){let t,l,a=(0,r.c)(4);return a[0]!==e?({...t}=e,a[0]=e,a[1]=t):t=a[1],a[2]!==t?(l=(0,n.jsx)(A,{"data-slot":"dialog-portal",...t}),a[2]=t,a[3]=l):l=a[3],l}function es(e){let t,l,a,s,i=(0,r.c)(8);return i[0]!==e?({className:t,...l}=e,i[0]=e,i[1]=t,i[2]=l):(t=i[1],l=i[2]),i[3]!==t?(a=(0,el.cn)("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",t),i[3]=t,i[4]=a):a=i[4],i[5]!==l||i[6]!==a?(s=(0,n.jsx)($,{"data-slot":"dialog-overlay",className:a,...l}),i[5]=l,i[6]=a,i[7]=s):s=i[7],s}function ei(e){let t,l,a,s,i,o,c,d,u=(0,r.c)(15);u[0]!==e?({className:l,children:t,showCloseButton:s,...a}=e,u[0]=e,u[1]=t,u[2]=l,u[3]=a,u[4]=s):(t=u[1],l=u[2],a=u[3],s=u[4]);let m=void 0===s||s;return u[5]===Symbol.for("react.memo_cache_sentinel")?(i=(0,n.jsx)(es,{}),u[5]=i):i=u[5],u[6]!==l?(o=(0,el.cn)("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",l),u[6]=l,u[7]=o):o=u[7],u[8]!==m?(c=m&&(0,n.jsxs)(G,{"data-slot":"dialog-close",className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[(0,n.jsx)(et,{}),(0,n.jsx)("span",{className:"sr-only",children:"Close"})]}),u[8]=m,u[9]=c):c=u[9],u[10]!==t||u[11]!==a||u[12]!==o||u[13]!==c?(d=(0,n.jsxs)(er,{"data-slot":"dialog-portal",children:[i,(0,n.jsxs)(F,{"data-slot":"dialog-content",className:o,...a,children:[t,c]})]}),u[10]=t,u[11]=a,u[12]=o,u[13]=c,u[14]=d):d=u[14],d}function eo(e){let t,l,a,s,i=(0,r.c)(8);return i[0]!==e?({className:t,...l}=e,i[0]=e,i[1]=t,i[2]=l):(t=i[1],l=i[2]),i[3]!==t?(a=(0,el.cn)("flex flex-col gap-2 text-center sm:text-left",t),i[3]=t,i[4]=a):a=i[4],i[5]!==l||i[6]!==a?(s=(0,n.jsx)("div",{"data-slot":"dialog-header",className:a,...l}),i[5]=l,i[6]=a,i[7]=s):s=i[7],s}function ec(e){let t,l,a,s,i=(0,r.c)(8);return i[0]!==e?({className:t,...l}=e,i[0]=e,i[1]=t,i[2]=l):(t=i[1],l=i[2]),i[3]!==t?(a=(0,el.cn)("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",t),i[3]=t,i[4]=a):a=i[4],i[5]!==l||i[6]!==a?(s=(0,n.jsx)("div",{"data-slot":"dialog-footer",className:a,...l}),i[5]=l,i[6]=a,i[7]=s):s=i[7],s}function ed(e){let t,l,a,s,i=(0,r.c)(8);return i[0]!==e?({className:t,...l}=e,i[0]=e,i[1]=t,i[2]=l):(t=i[1],l=i[2]),i[3]!==t?(a=(0,el.cn)("text-lg leading-none font-semibold",t),i[3]=t,i[4]=a):a=i[4],i[5]!==l||i[6]!==a?(s=(0,n.jsx)(W,{"data-slot":"dialog-title",className:a,...l}),i[5]=l,i[6]=a,i[7]=s):s=i[7],s}function eu(e){let t,l,a,s,i=(0,r.c)(8);return i[0]!==e?({className:t,...l}=e,i[0]=e,i[1]=t,i[2]=l):(t=i[1],l=i[2]),i[3]!==t?(a=(0,el.cn)("text-muted-foreground text-sm",t),i[3]=t,i[4]=a):a=i[4],i[5]!==l||i[6]!==a?(s=(0,n.jsx)(V,{"data-slot":"dialog-description",className:a,...l}),i[5]=l,i[6]=a,i[7]=s):s=i[7],s}e.s(["Dialog",()=>ea,"DialogContent",()=>ei,"DialogDescription",()=>eu,"DialogFooter",()=>ec,"DialogHeader",()=>eo,"DialogTitle",()=>ed,"DialogTrigger",()=>en],34219)},40182,e=>{"use strict";var t=e.i(73444),l=e.i(75784),a=e.i(67830);function n(e){let n,r,s,i,o=(0,l.c)(8);return o[0]!==e?({className:n,...r}=e,o[0]=e,o[1]=n,o[2]=r):(n=o[1],r=o[2]),o[3]!==n?(s=(0,a.cn)("w-full caption-bottom text-sm",n),o[3]=n,o[4]=s):s=o[4],o[5]!==r||o[6]!==s?(i=(0,t.jsx)("div",{"data-slot":"table-container",className:"relative w-full overflow-x-auto",children:(0,t.jsx)("table",{"data-slot":"table",className:s,...r})}),o[5]=r,o[6]=s,o[7]=i):i=o[7],i}function r(e){let n,r,s,i,o=(0,l.c)(8);return o[0]!==e?({className:n,...r}=e,o[0]=e,o[1]=n,o[2]=r):(n=o[1],r=o[2]),o[3]!==n?(s=(0,a.cn)("[&_tr]:border-b",n),o[3]=n,o[4]=s):s=o[4],o[5]!==r||o[6]!==s?(i=(0,t.jsx)("thead",{"data-slot":"table-header",className:s,...r}),o[5]=r,o[6]=s,o[7]=i):i=o[7],i}function s(e){let n,r,s,i,o=(0,l.c)(8);return o[0]!==e?({className:n,...r}=e,o[0]=e,o[1]=n,o[2]=r):(n=o[1],r=o[2]),o[3]!==n?(s=(0,a.cn)("[&_tr:last-child]:border-0",n),o[3]=n,o[4]=s):s=o[4],o[5]!==r||o[6]!==s?(i=(0,t.jsx)("tbody",{"data-slot":"table-body",className:s,...r}),o[5]=r,o[6]=s,o[7]=i):i=o[7],i}function i(e){let n,r,s,i,o=(0,l.c)(8);return o[0]!==e?({className:n,...r}=e,o[0]=e,o[1]=n,o[2]=r):(n=o[1],r=o[2]),o[3]!==n?(s=(0,a.cn)("hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors",n),o[3]=n,o[4]=s):s=o[4],o[5]!==r||o[6]!==s?(i=(0,t.jsx)("tr",{"data-slot":"table-row",className:s,...r}),o[5]=r,o[6]=s,o[7]=i):i=o[7],i}function o(e){let n,r,s,i,o=(0,l.c)(8);return o[0]!==e?({className:n,...r}=e,o[0]=e,o[1]=n,o[2]=r):(n=o[1],r=o[2]),o[3]!==n?(s=(0,a.cn)("text-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",n),o[3]=n,o[4]=s):s=o[4],o[5]!==r||o[6]!==s?(i=(0,t.jsx)("th",{"data-slot":"table-head",className:s,...r}),o[5]=r,o[6]=s,o[7]=i):i=o[7],i}function c(e){let n,r,s,i,o=(0,l.c)(8);return o[0]!==e?({className:n,...r}=e,o[0]=e,o[1]=n,o[2]=r):(n=o[1],r=o[2]),o[3]!==n?(s=(0,a.cn)("p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",n),o[3]=n,o[4]=s):s=o[4],o[5]!==r||o[6]!==s?(i=(0,t.jsx)("td",{"data-slot":"table-cell",className:s,...r}),o[5]=r,o[6]=s,o[7]=i):i=o[7],i}e.s(["Table",()=>n,"TableBody",()=>s,"TableCell",()=>c,"TableHead",()=>o,"TableHeader",()=>r,"TableRow",()=>i])},91414,e=>{"use strict";var t=e.i(73444),l=e.i(75784),a=e.i(74907);e.i(39584);var n=e.i(10836),r=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,l)=>{let r=(0,n.createSlot)(`Primitive.${l}`),s=a.forwardRef((e,a)=>{let{asChild:n,...s}=e;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,t.jsx)(n?r:l,{...s,ref:a})});return s.displayName=`Primitive.${l}`,{...e,[l]:s}},{}),s=a.forwardRef((e,l)=>(0,t.jsx)(r.label,{...e,ref:l,onMouseDown:t=>{t.target.closest("button, input, select, textarea")||(e.onMouseDown?.(t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));s.displayName="Label";var i=e.i(67830);function o(e){let a,n,r,o,c=(0,l.c)(8);return c[0]!==e?({className:a,...n}=e,c[0]=e,c[1]=a,c[2]=n):(a=c[1],n=c[2]),c[3]!==a?(r=(0,i.cn)("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",a),c[3]=a,c[4]=r):r=c[4],c[5]!==n||c[6]!==r?(o=(0,t.jsx)(s,{"data-slot":"label",className:r,...n}),c[5]=n,c[6]=r,c[7]=o):o=c[7],o}e.s(["Label",()=>o],91414)},48719,e=>{"use strict";var t=e.i(73444),l=e.i(75784),a=e.i(74907),n=e.i(69617),r=e.i(26972),s=e.i(35560),i=e.i(29275),o=e.i(35054),c=e.i(39536),d=e.i(33690),u=e.i(67329),m="Checkbox",[p,f]=(0,r.createContextScope)(m),[x,h]=p(m);function g(e){let{__scopeCheckbox:l,checked:n,children:r,defaultChecked:s,disabled:o,form:c,name:d,onCheckedChange:u,required:p,value:f="on",internal_do_not_use_render:h}=e,[g,v]=(0,i.useControllableState)({prop:n,defaultProp:s??!1,onChange:u,caller:m}),[b,y]=a.useState(null),[j,w]=a.useState(null),N=a.useRef(!1),C=!b||!!c||!!b.closest("form"),E={checked:g,disabled:o,setChecked:v,control:b,setControl:y,name:d,form:c,value:f,hasConsumerStoppedPropagationRef:N,required:p,defaultChecked:!S(s)&&s,isFormControl:C,bubbleInput:j,setBubbleInput:w};return(0,t.jsx)(x,{scope:l,...E,children:"function"==typeof h?h(E):r})}var v="CheckboxTrigger",b=a.forwardRef(({__scopeCheckbox:e,onKeyDown:l,onClick:r,...i},o)=>{let{control:c,value:d,disabled:m,checked:p,required:f,setControl:x,setChecked:g,hasConsumerStoppedPropagationRef:b,isFormControl:y,bubbleInput:j}=h(v,e),w=(0,n.useComposedRefs)(o,x),N=a.useRef(p);return a.useEffect(()=>{let e=c?.form;if(e){let t=()=>g(N.current);return e.addEventListener("reset",t),()=>e.removeEventListener("reset",t)}},[c,g]),(0,t.jsx)(u.Primitive.button,{type:"button",role:"checkbox","aria-checked":S(p)?"mixed":p,"aria-required":f,"data-state":E(p),"data-disabled":m?"":void 0,disabled:m,value:d,...i,ref:w,onKeyDown:(0,s.composeEventHandlers)(l,e=>{"Enter"===e.key&&e.preventDefault()}),onClick:(0,s.composeEventHandlers)(r,e=>{g(e=>!!S(e)||!e),j&&y&&(b.current=e.isPropagationStopped(),b.current||e.stopPropagation())})})});b.displayName=v;var y=a.forwardRef((e,l)=>{let{__scopeCheckbox:a,name:n,checked:r,defaultChecked:s,required:i,disabled:o,value:c,onCheckedChange:d,form:u,...m}=e;return(0,t.jsx)(g,{__scopeCheckbox:a,checked:r,defaultChecked:s,disabled:o,required:i,onCheckedChange:d,name:n,form:u,value:c,internal_do_not_use_render:({isFormControl:e})=>(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(b,{...m,ref:l,__scopeCheckbox:a}),e&&(0,t.jsx)(C,{__scopeCheckbox:a})]})})});y.displayName=m;var j="CheckboxIndicator",w=a.forwardRef((e,l)=>{let{__scopeCheckbox:a,forceMount:n,...r}=e,s=h(j,a);return(0,t.jsx)(d.Presence,{present:n||S(s.checked)||!0===s.checked,children:(0,t.jsx)(u.Primitive.span,{"data-state":E(s.checked),"data-disabled":s.disabled?"":void 0,...r,ref:l,style:{pointerEvents:"none",...e.style}})})});w.displayName=j;var N="CheckboxBubbleInput",C=a.forwardRef(({__scopeCheckbox:e,...l},r)=>{let{control:s,hasConsumerStoppedPropagationRef:i,checked:d,defaultChecked:m,required:p,disabled:f,name:x,value:g,form:v,bubbleInput:b,setBubbleInput:y}=h(N,e),j=(0,n.useComposedRefs)(r,y),w=(0,o.usePrevious)(d),C=(0,c.useSize)(s);a.useEffect(()=>{if(!b)return;let e=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set,t=!i.current;if(w!==d&&e){let l=new Event("click",{bubbles:t});b.indeterminate=S(d),e.call(b,!S(d)&&d),b.dispatchEvent(l)}},[b,w,d,i]);let E=a.useRef(!S(d)&&d);return(0,t.jsx)(u.Primitive.input,{type:"checkbox","aria-hidden":!0,defaultChecked:m??E.current,required:p,disabled:f,name:x,value:g,form:v,...l,tabIndex:-1,ref:j,style:{...l.style,...C,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});function S(e){return"indeterminate"===e}function E(e){return S(e)?"indeterminate":e?"checked":"unchecked"}C.displayName=N;var R=e.i(94311),k=e.i(67830);function T(e){let a,n,r,s,i,o=(0,l.c)(9);return o[0]!==e?({className:a,...n}=e,o[0]=e,o[1]=a,o[2]=n):(a=o[1],n=o[2]),o[3]!==a?(r=(0,k.cn)("peer border-input dark:bg-input/30 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground dark:data-[state=checked]:bg-primary data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",a),o[3]=a,o[4]=r):r=o[4],o[5]===Symbol.for("react.memo_cache_sentinel")?(s=(0,t.jsx)(w,{"data-slot":"checkbox-indicator",className:"grid place-content-center text-current transition-none",children:(0,t.jsx)(R.CheckIcon,{className:"size-3.5"})}),o[5]=s):s=o[5],o[6]!==n||o[7]!==r?(i=(0,t.jsx)(y,{"data-slot":"checkbox",className:r,...n,children:s}),o[6]=n,o[7]=r,o[8]=i):i=o[8],i}e.s(["Checkbox",()=>T],48719)},27429,e=>{"use strict";var t=e.i(73444),l=e.i(74907),a=e.i(7272),n=e.i(40182),r=e.i(72667),s=e.i(63835),i=e.i(12286),o=e.i(34219),c=e.i(48719),d=e.i(91414);function u(){let{db:u,setDb:m,showSystemTables:p,setShowSystemTables:f}=(0,a.useDatabaseStore)(),[x,h]=(0,l.useState)(null),g=u||x,[v,b]=(0,l.useState)([]),[y,j]=(0,l.useState)(""),[w,N]=(0,l.useState)([]),[C,S]=(0,l.useState)([]),[E,R]=(0,l.useState)(!0),[k,T]=(0,l.useState)(!1),[I,D]=(0,l.useState)(100),[O,A]=(0,l.useState)(1),[L,$]=(0,l.useState)(0),[_,B]=(0,l.useState)(null),[P,F]=(0,l.useState)(""),[U,M]=(0,l.useState)(null),[z,H]=(0,l.useState)(new Set),[W,q]=(0,l.useState)(!1),[V,K]=(0,l.useState)(null),[G,J]=(0,l.useState)(null),[Z,X]=(0,l.useState)([]),[Y,Q]=(0,l.useState)(!1),[ee,et]=(0,l.useState)({column:"",operator:"equals",value:""}),[el,ea]=(0,l.useState)([]),[en,er]=(0,l.useState)([]),[es,ei]=(0,l.useState)(!1),[eo,ec]=(0,l.useState)({includeHeaders:!0,delimiter:"comma",quoteAllFields:!1,lineEnding:"LF",nullHandling:"empty",selectedColumns:[]}),[ed,eu]=(0,l.useState)(!1),[em,ep]=(0,l.useState)({prettyPrint:!0,format:"array",selectedColumns:[]}),[ef,ex]=(0,l.useState)(!1),[eh,eg]=(0,l.useState)({dropTableIfExists:!1,includeTransactions:!0,batchSize:100,selectedColumns:[]});(0,l.useEffect)(()=>{!async function(){try{let{Database:t}=await e.A(61419);if(window.Database=t,u){window.testDb=u;return}let l=(await e.A(61419)).default;await l()}catch(e){console.error("Failed to initialize WASM:",e)}}()},[u]),(0,l.useEffect)(()=>{let e=()=>{let e=window.testDb;e&&!x&&(console.log("[BrowsePage] Detected window.testDb, updating state"),h(e))};e();let t=setInterval(e,50);return()=>clearInterval(t)},[x]),(0,l.useEffect)(()=>{g&&ev()},[g]),(0,l.useEffect)(()=>{g&&ev()},[p]),(0,l.useEffect)(()=>{y&&g&&ej()},[g,y,O,I,Z,G]);let ev=async()=>{if(g)try{T(!0);let e=await g.execute(p?"SELECT name FROM sqlite_master WHERE type='table' ORDER BY name":"SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite_%' ORDER BY name"),t=[];for(let l of e.rows){let e=l.values[0].value,a=(await g.execute(`SELECT COUNT(*) FROM ${e}`)).rows[0].values[0].value;t.push({name:e,rowCount:a})}b(t)}catch(e){console.error("Error loading tables:",e)}finally{T(!1)}},eb=()=>{if(0===Z.length)return"";let e=Z.map(e=>{let{column:t,operator:l,value:a}=e;switch(l){case"equals":default:return`${t} = '${a.replace(/'/g,"''")}'`;case"contains":return`${t} LIKE '%${a.replace(/'/g,"''")}%'`;case"starts_with":return`${t} LIKE '${a.replace(/'/g,"''")}%'`;case"greater_than":return`${t} > ${a}`;case"less_than":return`${t} < ${a}`;case"greater_equal":return`${t} >= ${a}`;case"less_equal":return`${t} <= ${a}`;case"not_equal":return`${t} != '${a.replace(/'/g,"''")}'`;case"is_null":return`${t} IS NULL`;case"is_not_null":return`${t} IS NOT NULL`}});return` WHERE ${e.join(" AND ")}`},ey=()=>G?` ORDER BY ${G.column} ${G.direction}`:"",ej=async()=>{if(g&&y)try{T(!0);let e=(await g.execute(`PRAGMA table_info(${y})`)).rows.map(e=>({name:e.values[1].value,type:e.values[2].value}));N(e);let t=(await g.execute(`PRAGMA foreign_key_list(${y})`)).rows.map(e=>({id:e.values[0].value,seq:e.values[1].value,table:e.values[2].value,from:e.values[3].value,to:e.values[4].value,on_update:e.values[5].value,on_delete:e.values[6].value,match:e.values[7].value}));ea(t);let l=eb(),a=ey(),n=`SELECT COUNT(*) FROM ${y}${l}`,r=(await g.execute(n)).rows[0].values[0].value;$(r);let s=(O-1)*I,i=`SELECT rowid as _rowid_, * FROM ${y}${l}${a} LIMIT ${I} OFFSET ${s}`,o=await g.execute(i);S(o.rows)}catch(e){console.error("Error loading table data:",e)}finally{T(!1)}},ew=async e=>{let t=e.target.files?.[0];t&&await eN(t)},eN=async e=>{if(_&&g&&y)try{let t=C[_.rowIndex].values[0].value,l=w[_.columnIndex],a=await e.arrayBuffer(),n=new Uint8Array(a),r=`UPDATE ${y} SET ${l.name} = ? WHERE rowid = ?`,s=[{type:"Blob",value:Array.from(n)},{type:"Integer",value:t}];await g.executeWithParams(r,s);let i=[...C];i[_.rowIndex].values[_.columnIndex+1].value=Array.from(n),S(i),B(null),F(""),M(null)}catch(e){console.error("Error saving BLOB:",e)}},eC=async()=>{if(_&&g&&y)try{let e=C[_.rowIndex].values[0].value,t=w[_.columnIndex],l=P;if(eE(t.type))if(U){let e=await U.arrayBuffer();l=new Uint8Array(e)}else l=null;else""===P||"null"===P.toLowerCase()?l=null:t.type.includes("INT")?l=parseInt(P):(t.type.includes("REAL")||t.type.includes("FLOAT")||t.type.includes("DOUBLE")||t.type.includes("NUMERIC"))&&(l=parseFloat(P));let a=`UPDATE ${y} SET ${t.name} = ? WHERE rowid = ?`,n=[null===l?{type:"Null",value:null}:l instanceof Uint8Array?{type:"Blob",value:Array.from(l)}:"number"==typeof l&&Number.isInteger(l)?{type:"Integer",value:l}:"number"==typeof l?{type:"Real",value:l}:{type:"Text",value:String(l)},{type:"Integer",value:e}];await g.executeWithParams(a,n);let r=[...C],s=l instanceof Uint8Array?Array.from(l):l;r[_.rowIndex].values[_.columnIndex+1].value=s,S(r),B(null),F(""),M(null)}catch(e){console.error("Error saving edit:",e)}},eS=async e=>{"Enter"!==e.key||e.shiftKey?"Escape"===e.key&&(e.preventDefault(),B(null),F(""),M(null)):(e.preventDefault(),await eC())},eE=e=>e.toUpperCase().includes("BLOB"),eR=e=>e<1024?`${e} B`:e<1048576?`${(e/1024).toFixed(2)} KB`:`${(e/1048576).toFixed(2)} MB`,ek=async()=>{if(g&&y)try{T(!0),await g.execute(`INSERT INTO ${y} DEFAULT VALUES`),await ej()}catch(e){console.error("Error adding row:",e);try{let e=w.map(e=>e.name).join(", "),t=w.map(()=>"?").join(", "),l=w.map(()=>({type:"Null",value:null}));await g.executeWithParams(`INSERT INTO ${y} (${e}) VALUES (${t})`,l),await ej()}catch(e){console.error("Error adding row (fallback):",e)}}finally{T(!1)}},eT=async()=>{if(g&&y&&V)try{if(T(!0),"single"===V.type&&void 0!==V.rowId)await g.executeWithParams(`DELETE FROM ${y} WHERE rowid = ?`,[{type:"Integer",value:V.rowId}]);else if("bulk"===V.type){for(let e of Array.from(z))await g.executeWithParams(`DELETE FROM ${y} WHERE rowid = ?`,[{type:"Integer",value:e}]);H(new Set)}await ej(),q(!1),K(null)}catch(e){console.error("Error deleting row(s):",e)}finally{T(!1)}},eI=()=>{q(!1),K(null)},eD=async()=>{if(!g||!y)return null;let e=eb(),t=ey(),l=`SELECT * FROM ${y}${e}${t}`,a=await g.execute(l);return{columns:w.map(e=>e.name),rows:a.rows}},eO=async e=>{let t=await eD();if(!t)return;let l=e.selectedColumns.length>0?e.selectedColumns:t.columns;if(0===l.length)return;let a=[],n={comma:",",semicolon:";",tab:"	",pipe:"|"}[e.delimiter],r="CRLF"===e.lineEnding?"\r\n":"\n";if(e.includeHeaders){let t=l.map(t=>e.quoteAllFields?`"${t}"`:t).join(n);a.push(t)}t.rows.forEach(r=>{let s=l.map(l=>{let a=t.columns.indexOf(l);var s=r.values[a];if("Null"===s.type)return"null"===e.nullHandling?"NULL":"";let i=String(s.value);return e.quoteAllFields||i.includes(n)||i.includes('"')||i.includes("\n")?`"${i.replace(/"/g,'""')}"`:i}).join(n);a.push(s)});let s=new Blob([a.join(r)],{type:"text/csv;charset=utf-8;"}),i=document.createElement("a");i.href=URL.createObjectURL(s),i.download=`${y}_filtered.csv`,i.click(),ei(!1)},eA=async e=>{let t,l=await eD();if(!l)return;let a=e.selectedColumns.length>0?e.selectedColumns:l.columns;if(0===a.length)return;"array"===e.format?t=l.rows.map(e=>{let t={};return a.forEach(a=>{let n=l.columns.indexOf(a);if(-1!==n){let l=e.values[n];t[a]="Null"===l.type?null:l.value}}),t}):(t={},l.rows.forEach(e=>{let n,r={},s=e.values[0];n="Null"===s.type?"null":Array.isArray(s.value)?JSON.stringify(s.value):String(s.value),a.forEach(t=>{let a=l.columns.indexOf(t);if(-1!==a){let l=e.values[a];r[t]="Null"===l.type?null:l.value}}),t[n]=r}));let n=new Blob([e.prettyPrint?JSON.stringify(t,null,2):JSON.stringify(t)],{type:"application/json"}),r=document.createElement("a");r.href=URL.createObjectURL(n),r.download=`${y}_filtered.json`,r.click(),eu(!1)},eL=async e=>{let t=await eD();if(!t)return;let l=e.selectedColumns.length>0?e.selectedColumns:t.columns;if(0===l.length)return;let a=[];e.includeTransactions&&(a.push("BEGIN TRANSACTION;"),a.push("")),e.dropTableIfExists&&(a.push(`DROP TABLE IF EXISTS ${y};`),a.push(""));let n=l.map(e=>{let t=w.find(t=>t.name===e),l=t?.type||"TEXT";return`  ${e} ${l}`}).join(",\n");if(a.push(`CREATE TABLE ${y} (`),a.push(n),a.push(");"),a.push(""),t.rows.length>0)for(let n=0;n<t.rows.length;n+=e.batchSize){let r=t.rows.slice(n,n+e.batchSize).map(e=>{let a=l.map(l=>{let a=t.columns.indexOf(l),n=e.values[a];if("Null"===n.type)return"NULL";{if("Integer"===n.type||"Real"===n.type)return String(n.value);let e=String(n.value).replace(/'/g,"''");return`'${e}'`}}).join(", ");return`  (${a})`}).join(",\n");a.push(`INSERT INTO ${y} (${l.join(", ")}) VALUES`),a.push(r+";"),a.push("")}e.includeTransactions&&a.push("COMMIT;");let r=new Blob([a.join("\n")],{type:"application/sql"}),s=document.createElement("a");s.href=URL.createObjectURL(r),s.download=`${y}_filtered.sql`,s.click(),ex(!1)},e$=Math.ceil(L/I);return(0,t.jsxs)("div",{id:"dataBrowser",className:"container mx-auto py-6 space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-3xl font-bold",children:"Data Browser"}),(0,t.jsx)("p",{className:"text-muted-foreground mt-2",children:"Browse and view table data with pagination"})]}),(0,t.jsxs)(i.Card,{children:[(0,t.jsxs)(i.CardHeader,{children:[(0,t.jsx)(i.CardTitle,{children:"Table Selection"}),(0,t.jsx)(i.CardDescription,{children:"Choose a table to browse its data"})]}),(0,t.jsxs)(i.CardContent,{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex gap-4 items-center",children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("label",{htmlFor:"tableSelect",className:"text-sm font-medium mb-2 block",children:"Select Table"}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsxs)(r.Select,{value:y,onValueChange:e=>{j(e),A(1),J(null),X([])},children:[(0,t.jsx)(r.SelectTrigger,{id:"tableSelect","data-testid":"table-select",className:"flex-1",children:(0,t.jsx)(r.SelectValue,{placeholder:"Choose a table"})}),(0,t.jsx)(r.SelectContent,{children:v.map(e=>(0,t.jsxs)(r.SelectItem,{value:e.name,children:[e.name," (",e.rowCount," rows)"]},e.name))})]}),(0,t.jsx)(s.Button,{id:"refreshTables",onClick:ev,variant:"outline",disabled:k,children:"Refresh"})]})]}),(0,t.jsxs)("div",{className:"w-32",children:[(0,t.jsx)("label",{htmlFor:"pageSizeSelect",className:"text-sm font-medium mb-2 block",children:"Page Size"}),(0,t.jsxs)(r.Select,{value:I.toString(),onValueChange:e=>{D(parseInt(e)),A(1)},children:[(0,t.jsx)(r.SelectTrigger,{id:"pageSizeSelect",children:(0,t.jsx)(r.SelectValue,{})}),(0,t.jsxs)(r.SelectContent,{children:[(0,t.jsx)(r.SelectItem,{value:"100",children:"100"}),(0,t.jsx)(r.SelectItem,{value:"500",children:"500"}),(0,t.jsx)(r.SelectItem,{value:"1000",children:"1000"})]})]})]})]}),y&&(0,t.jsxs)("div",{className:"flex justify-between items-center text-sm text-muted-foreground",children:[(0,t.jsxs)("div",{id:"rowCount",children:["Total: ",(0,t.jsx)("span",{className:"font-semibold",children:L})," rows"]}),(0,t.jsxs)("div",{children:["Page ",O," of ",e$||1]})]})]})]}),y&&(0,t.jsxs)(i.Card,{children:[(0,t.jsxs)(i.CardHeader,{children:[en.length>0&&(0,t.jsxs)("nav",{"aria-label":"breadcrumb","data-breadcrumb":!0,className:"mb-4 flex items-center gap-2",children:[(0,t.jsx)(s.Button,{onClick:()=>{if(0===en.length)return;let e=en[en.length-1];er(en.slice(0,-1)),j(e.table),A(e.page),X(e.filters),J(e.sort)},variant:"ghost",size:"sm","data-back-button":!0,"aria-label":"Go back to previous table",children:"← Back"}),(0,t.jsxs)("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[en.map((e,l)=>(0,t.jsxs)("span",{children:[e.table," →"]},l)),(0,t.jsx)("span",{className:"font-semibold text-foreground",children:y})]})]}),(0,t.jsxs)("div",{className:"flex justify-between items-start",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(i.CardTitle,{"data-table-title":!0,children:y}),(0,t.jsxs)(i.CardDescription,{children:["Showing ",(O-1)*I+1," - ",Math.min(O*I,L)," of ",L," rows"]})]}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsxs)(s.Button,{onClick:()=>Q(!Y),variant:"outline","data-filter-toggle":!0,children:["Filters ",Z.length>0&&`(${Z.length})`]}),(0,t.jsx)(s.Button,{onClick:ek,disabled:k,children:"Add Row"}),z.size>0&&(0,t.jsxs)(s.Button,{onClick:()=>{0!==z.size&&(K({type:"bulk"}),q(!0))},variant:"destructive",disabled:k,children:["Delete Selected (",z.size,")"]}),(0,t.jsx)(s.Button,{id:"exportFilteredCSV",onClick:()=>{eO(eo)},variant:"outline",size:"sm",children:"Export CSV"}),(0,t.jsx)(s.Button,{id:"exportFilteredJSON",onClick:()=>{eA(em)},variant:"outline",size:"sm",children:"Export JSON"}),(0,t.jsx)(s.Button,{id:"exportFilteredSQL",onClick:()=>{eL(eh)},variant:"outline",size:"sm",children:"Export SQL"}),(0,t.jsxs)(o.Dialog,{open:es,onOpenChange:ei,children:[(0,t.jsx)(o.DialogTrigger,{asChild:!0,children:(0,t.jsx)(s.Button,{id:"exportFilteredCSVOptions",variant:"outline",size:"sm",onClick:()=>{w.length>0&&0===eo.selectedColumns.length&&ec({...eo,selectedColumns:w.map(e=>e.name)})},children:"CSV Options"})}),(0,t.jsxs)(o.DialogContent,{className:"sm:max-w-[500px]",children:[(0,t.jsxs)(o.DialogHeader,{children:[(0,t.jsx)(o.DialogTitle,{children:"CSV Export Options"}),(0,t.jsx)(o.DialogDescription,{children:"Configure your CSV export settings"})]}),(0,t.jsx)("div",{className:"grid gap-4 py-4",children:w.length>0&&(0,t.jsxs)("div",{className:"grid gap-2",children:[(0,t.jsx)(d.Label,{className:"text-sm font-medium",children:"Select Columns to Export"}),(0,t.jsxs)("div",{className:"flex gap-2 mb-2",children:[(0,t.jsx)(s.Button,{id:"selectAllColumns",type:"button",variant:"outline",size:"sm",onClick:()=>ec({...eo,selectedColumns:w.map(e=>e.name)}),children:"Select All"}),(0,t.jsx)(s.Button,{id:"deselectAllColumns",type:"button",variant:"outline",size:"sm",onClick:()=>ec({...eo,selectedColumns:[]}),children:"Deselect All"})]}),(0,t.jsx)("div",{className:"grid grid-cols-2 gap-2 max-h-48 overflow-y-auto",children:w.map(e=>(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(c.Checkbox,{id:`column-${e.name}`,checked:eo.selectedColumns.includes(e.name),onCheckedChange:t=>{t?ec({...eo,selectedColumns:[...eo.selectedColumns,e.name]}):ec({...eo,selectedColumns:eo.selectedColumns.filter(t=>t!==e.name)})}}),(0,t.jsx)(d.Label,{htmlFor:`column-${e.name}`,className:"text-sm cursor-pointer",children:e.name})]},e.name))})]})}),(0,t.jsx)(o.DialogFooter,{children:(0,t.jsx)(s.Button,{id:"confirmExport",onClick:()=>eO(eo),children:"Export"})})]})]})]})]})]}),(0,t.jsxs)(i.CardContent,{children:[Y&&(0,t.jsx)("div",{className:"mb-4 p-4 border rounded-md bg-muted/20",children:(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{className:"flex gap-2 items-end",children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("label",{className:"text-sm font-medium",children:"Column"}),(0,t.jsxs)(r.Select,{value:ee.column,onValueChange:e=>et({...ee,column:e}),children:[(0,t.jsx)(r.SelectTrigger,{id:"filter-column","data-filter-column":!0,children:(0,t.jsx)(r.SelectValue,{placeholder:"Select column"})}),(0,t.jsx)(r.SelectContent,{children:w.map(e=>(0,t.jsx)(r.SelectItem,{value:e.name,children:e.name},e.name))})]})]}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("label",{className:"text-sm font-medium",children:"Operator"}),(0,t.jsxs)(r.Select,{value:ee.operator,onValueChange:e=>et({...ee,operator:e}),children:[(0,t.jsx)(r.SelectTrigger,{id:"filter-operator","data-filter-operator":!0,children:(0,t.jsx)(r.SelectValue,{})}),(0,t.jsxs)(r.SelectContent,{children:[(0,t.jsx)(r.SelectItem,{value:"equals",children:"Equals"}),(0,t.jsx)(r.SelectItem,{value:"contains",children:"Contains"}),(0,t.jsx)(r.SelectItem,{value:"starts_with",children:"Starts With"}),(0,t.jsx)(r.SelectItem,{value:"greater_than",children:"Greater Than"}),(0,t.jsx)(r.SelectItem,{value:"less_than",children:"Less Than"}),(0,t.jsx)(r.SelectItem,{value:"greater_equal",children:"Greater or Equal"}),(0,t.jsx)(r.SelectItem,{value:"less_equal",children:"Less or Equal"}),(0,t.jsx)(r.SelectItem,{value:"not_equal",children:"Not Equal"}),(0,t.jsx)(r.SelectItem,{value:"is_null",children:"Is NULL"}),(0,t.jsx)(r.SelectItem,{value:"is_not_null",children:"Is Not NULL"})]})]})]}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("label",{className:"text-sm font-medium",children:"Value"}),(0,t.jsx)("input",{id:"filter-value","data-filter-value":!0,type:"text",className:"w-full px-3 py-2 border rounded-md",value:ee.value,onChange:e=>et({...ee,value:e.target.value})})]}),(0,t.jsx)(s.Button,{onClick:()=>{ee.column&&ee.operator&&(X([...Z,ee]),et({column:"",operator:"equals",value:""}),A(1))},className:"mt-auto",children:"Add Filter"})]}),Z.length>0&&(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsx)("label",{className:"text-sm font-medium",children:"Active Filters:"}),(0,t.jsx)(s.Button,{onClick:()=>{X([]),A(1)},variant:"ghost",size:"sm","data-clear-filters":!0,children:"Clear All"})]}),(0,t.jsx)("div",{className:"flex flex-wrap gap-2",children:Z.map((e,l)=>(0,t.jsxs)("div",{className:"flex items-center gap-2 px-3 py-1 bg-primary/10 rounded-full text-sm",children:[(0,t.jsxs)("span",{children:[e.column," ",e.operator.replace(/_/g," ")," ",e.value||""]}),(0,t.jsx)("button",{onClick:()=>{X(Z.filter((e,t)=>t!==l)),A(1)},className:"text-destructive hover:text-destructive/80",children:"×"})]},l))})]})]})}),k?(0,t.jsx)("div",{className:"text-center py-8",children:(0,t.jsx)("p",{children:E?"Initializing...":"Loading..."})}):0===C.length?(0,t.jsx)("div",{className:"text-center py-8 text-muted-foreground",children:(0,t.jsx)("p",{children:"No data in this table"})}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"border rounded-md overflow-auto max-h-[600px]",children:(0,t.jsxs)(n.Table,{children:[(0,t.jsx)(n.TableHeader,{children:(0,t.jsxs)(n.TableRow,{children:[(0,t.jsx)(n.TableHead,{className:"w-[50px]",children:(0,t.jsx)("input",{type:"checkbox",checked:z.size===C.length&&C.length>0,onChange:()=>{z.size===C.length?H(new Set):H(new Set(C.map(e=>e.values[0].value)))},className:"cursor-pointer"})}),(0,t.jsx)(n.TableHead,{className:"w-[100px]",children:"rowid"}),w.map(e=>{let l,a=(l=e.name,el.find(e=>e.from===l));return(0,t.jsx)(n.TableHead,{onClick:()=>{var t;return t=e.name,void(G?.column===t?J({column:t,direction:"ASC"===G.direction?"DESC":"ASC"}):J({column:t,direction:"ASC"}),A(1))},className:"cursor-pointer hover:bg-muted/50",children:(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[e.name,a&&(0,t.jsxs)("span",{className:"text-xs text-blue-500","data-fk-indicator":!0,title:`Foreign key to ${a.table}.${a.to}`,children:["→ ",a.table]}),G?.column===e.name&&(0,t.jsx)("span",{className:"text-xs",children:"ASC"===G.direction?"↑":"↓"}),(0,t.jsxs)("span",{className:"text-xs text-muted-foreground ml-2",children:["(",e.type,")"]})]})},e.name)}),(0,t.jsx)(n.TableHead,{className:"w-[100px]",children:"Actions"})]})}),(0,t.jsx)(n.TableBody,{children:C.map((e,l)=>{let a=e.values[0].value;return(0,t.jsxs)(n.TableRow,{children:[(0,t.jsx)(n.TableCell,{children:(0,t.jsx)("input",{type:"checkbox",checked:z.has(a),onChange:()=>{let e;(e=new Set(z)).has(a)?e.delete(a):e.add(a),H(e)},className:"cursor-pointer"})}),(0,t.jsx)(n.TableCell,{className:"font-mono text-sm",children:a}),e.values.slice(1).map((e,r)=>{let s,i,o,c=_?.rowIndex===l&&_?.columnIndex===r,d=w[r],u=(s=d.name,el.some(e=>e.from===s)),m=e.value,p=eE(d.type)&&Array.isArray(m),f=p?new Uint8Array(m).length:0;return(0,t.jsx)(n.TableCell,{className:`
                                  ${null===e.value||void 0===e.value?"null-value":""}
                                  ${c?"editing":"cursor-pointer hover:bg-muted/50"}
                                `,onDoubleClick:()=>{var t;return!c&&void(B({rowIndex:l,columnIndex:r,value:t=e.value}),F(null!=t?String(t):""),M(null))},"data-fk-link":u&&null!=m?"true":void 0,"data-blob-preview":p?"true":void 0,"data-blob-size":p?eR(f):void 0,children:c?eE(d.type)?(0,t.jsx)("input",{type:"file",onChange:ew,className:"w-full px-2 py-1 border rounded focus:outline-none focus:ring-2 focus:ring-primary"}):(0,t.jsx)("input",{type:(i=d.type.toUpperCase()).includes("INT")||i.includes("REAL")||i.includes("FLOAT")||i.includes("DOUBLE")||i.includes("NUMERIC")?"number":i.includes("BLOB")?"file":"text",step:d.type.includes("REAL")||d.type.includes("FLOAT")||d.type.includes("DOUBLE")?"any":void 0,value:P,onChange:e=>F(e.target.value),onKeyDown:eS,autoFocus:!0,className:"w-full px-2 py-1 border rounded focus:outline-none focus:ring-2 focus:ring-primary"}):null===e.value||void 0===e.value?(0,t.jsx)("span",{className:"italic text-muted-foreground",children:"NULL"}):eE(d.type)&&Array.isArray(m)?(o=new Uint8Array(m),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[!(o.length<4)&&(137===o[0]&&80===o[1]&&78===o[2]&&71===o[3]||255===o[0]&&216===o[1]&&255===o[2]||71===o[0]&&73===o[1]&&70===o[2]||82===o[0]&&73===o[1]&&70===o[2]&&70===o[3]&&o.length>12&&87===o[8]&&69===o[9]&&66===o[10]&&80===o[11])?(0,t.jsx)("img",{src:((e,t="image/png")=>{let l=new Blob([e],{type:t});return URL.createObjectURL(l)})(o),alt:"BLOB preview",className:"max-w-[100px] max-h-[50px] object-contain"}):null,(0,t.jsx)("span",{className:"text-sm text-muted-foreground",children:eR(o.length)}),(0,t.jsx)("button",{onClick:e=>{e.stopPropagation(),((e,t="download.bin")=>{let l=new Blob([e]),a=URL.createObjectURL(l),n=document.createElement("a");n.href=a,n.download=t,document.body.appendChild(n),n.click(),document.body.removeChild(n),URL.revokeObjectURL(a)})(o,`blob-${a}-${d.name}.bin`)},className:"text-xs px-2 py-1 bg-primary text-primary-foreground rounded hover:bg-primary/90","data-blob-download":!0,children:"↓"})]})):u?(0,t.jsx)("button",{onClick:e=>{var t;let l;e.stopPropagation(),t=d.name,(l=el.find(e=>e.from===t))&&null!=m&&(er([...en,{table:y,page:O,filters:Z,sort:G}]),j(l.table),X([{column:l.to,operator:"equals",value:String(m)}]),A(1),J(null))},className:"text-blue-500 hover:text-blue-700 underline",children:String(m)}):String(m)},r)}),(0,t.jsx)(n.TableCell,{children:(0,t.jsx)(s.Button,{onClick:()=>{K({type:"single",rowId:a}),q(!0)},variant:"ghost",size:"sm",disabled:k,"aria-label":"Delete row",children:"Delete"})})]},l)})})]})}),(0,t.jsxs)("div",{className:"flex justify-between items-center mt-4",children:[(0,t.jsx)(s.Button,{onClick:()=>{O>1&&A(O-1)},disabled:1===O,variant:"outline",children:"Previous"}),(0,t.jsxs)("span",{className:"text-sm text-muted-foreground",children:["Page ",O," of ",e$]}),(0,t.jsx)(s.Button,{onClick:()=>{O<Math.ceil(L/I)&&A(O+1)},disabled:O>=e$,variant:"outline",children:"Next"})]})]})]})]}),W&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",onClick:eI,children:(0,t.jsxs)("div",{role:"alertdialog",className:"bg-background border rounded-lg p-6 max-w-md mx-4 shadow-lg",onClick:e=>e.stopPropagation(),children:[(0,t.jsx)("h2",{className:"text-lg font-semibold mb-2",children:"Confirm Delete"}),(0,t.jsx)("p",{className:"text-muted-foreground mb-4",children:V?.type==="bulk"?`Are you sure you want to delete ${z.size} row(s)? This action cannot be undone.`:"Are you sure you want to delete this row? This action cannot be undone."}),(0,t.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,t.jsx)(s.Button,{onClick:eI,variant:"outline",type:"button",id:"cancelDeleteButton",children:"Cancel"}),(0,t.jsx)(s.Button,{onClick:eT,variant:"destructive",type:"button",id:"confirmDeleteButton",children:"Delete"})]})]})})]})}e.s(["default",()=>u])},61419,e=>{e.v(t=>Promise.all(["static/chunks/0d126131a3369877.js"].map(t=>e.l(t))).then(()=>t(4948)))}]);