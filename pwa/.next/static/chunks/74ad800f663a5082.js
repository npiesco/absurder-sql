(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,14400,e=>{e.v("/_next/static/media/absurder_sql_bg.4b006aa8.wasm")},4948,__turbopack_context__=>{"use strict";let wasm,__TURBOPACK__import$2e$meta__={get url(){return`file://${__turbopack_context__.P("pwa/node_modules/@npiesco/absurder-sql/absurder_sql.js")}`}},cachedUint8ArrayMemory0=null;function getUint8ArrayMemory0(){return(null===cachedUint8ArrayMemory0||0===cachedUint8ArrayMemory0.byteLength)&&(cachedUint8ArrayMemory0=new Uint8Array(wasm.memory.buffer)),cachedUint8ArrayMemory0}let cachedTextDecoder=new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0});cachedTextDecoder.decode();let MAX_SAFARI_DECODE_BYTES=0x7ff00000,numBytesDecoded=0;function decodeText(e,t){return(numBytesDecoded+=t)>=MAX_SAFARI_DECODE_BYTES&&((cachedTextDecoder=new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0})).decode(),numBytesDecoded=t),cachedTextDecoder.decode(getUint8ArrayMemory0().subarray(e,e+t))}function getStringFromWasm0(e,t){return decodeText(e>>>=0,t)}let WASM_VECTOR_LEN=0,cachedTextEncoder=new TextEncoder;function passStringToWasm0(e,t,n){if(void 0===n){let n=cachedTextEncoder.encode(e),r=t(n.length,1)>>>0;return getUint8ArrayMemory0().subarray(r,r+n.length).set(n),WASM_VECTOR_LEN=n.length,r}let r=e.length,a=t(r,1)>>>0,i=getUint8ArrayMemory0(),o=0;for(;o<r;o++){let t=e.charCodeAt(o);if(t>127)break;i[a+o]=t}if(o!==r){0!==o&&(e=e.slice(o)),a=n(a,r,r=o+3*e.length,1)>>>0;let t=getUint8ArrayMemory0().subarray(a+o,a+r);o+=cachedTextEncoder.encodeInto(e,t).written,a=n(a,r,o,1)>>>0}return WASM_VECTOR_LEN=o,a}"encodeInto"in cachedTextEncoder||(cachedTextEncoder.encodeInto=function(e,t){let n=cachedTextEncoder.encode(e);return t.set(n),{read:e.length,written:n.length}});let cachedDataViewMemory0=null;function getDataViewMemory0(){return(null===cachedDataViewMemory0||!0===cachedDataViewMemory0.buffer.detached||void 0===cachedDataViewMemory0.buffer.detached&&cachedDataViewMemory0.buffer!==wasm.memory.buffer)&&(cachedDataViewMemory0=new DataView(wasm.memory.buffer)),cachedDataViewMemory0}function isLikeNone(e){return null==e}function debugString(e){let t,n=typeof e;if("number"==n||"boolean"==n||null==e)return`${e}`;if("string"==n)return`"${e}"`;if("symbol"==n){let t=e.description;return null==t?"Symbol":`Symbol(${t})`}if("function"==n){let t=e.name;return"string"==typeof t&&t.length>0?`Function(${t})`:"Function"}if(Array.isArray(e)){let t=e.length,n="[";t>0&&(n+=debugString(e[0]));for(let r=1;r<t;r++)n+=", "+debugString(e[r]);return n+"]"}let r=/\[object ([^\]]+)\]/.exec(toString.call(e));if(!r||!(r.length>1))return toString.call(e);if("Object"==(t=r[1]))try{return"Object("+JSON.stringify(e)+")"}catch(e){return"Object"}return e instanceof Error?`${e.name}: ${e.message}
${e.stack}`:t}function addToExternrefTable0(e){let t=wasm.__externref_table_alloc();return wasm.__wbindgen_externrefs.set(t,e),t}function handleError(e,t){try{return e.apply(this,t)}catch(t){let e=addToExternrefTable0(t);wasm.__wbindgen_exn_store(e)}}function getArrayU8FromWasm0(e,t){return e>>>=0,getUint8ArrayMemory0().subarray(e/1,e/1+t)}let CLOSURE_DTORS="undefined"==typeof FinalizationRegistry?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(e=>e.dtor(e.a,e.b));function makeMutClosure(e,t,n,r){let a={a:e,b:t,cnt:1,dtor:n},i=(...e)=>{a.cnt++;let t=a.a;a.a=0;try{return r(t,a.b,...e)}finally{a.a=t,i._wbg_cb_unref()}};return i._wbg_cb_unref=()=>{0==--a.cnt&&(a.dtor(a.a,a.b),a.a=0,CLOSURE_DTORS.unregister(a))},CLOSURE_DTORS.register(i,a,a),i}function init_logger(){wasm.init_logger()}function takeFromExternrefTable0(e){let t=wasm.__wbindgen_externrefs.get(e);return wasm.__externref_table_dealloc(e),t}function passArray8ToWasm0(e,t){let n=t(+e.length,1)>>>0;return getUint8ArrayMemory0().set(e,n/1),WASM_VECTOR_LEN=e.length,n}function wasm_bindgen__convert__closures_____invoke__h3ba5f0fbfb39f2bc(e,t,n){wasm.wasm_bindgen__convert__closures_____invoke__h3ba5f0fbfb39f2bc(e,t,n)}function wasm_bindgen__convert__closures_____invoke__h4a40dd3e40c810c9(e,t,n){wasm.wasm_bindgen__convert__closures_____invoke__h4a40dd3e40c810c9(e,t,n)}function wasm_bindgen__convert__closures_____invoke__h22534da7d54bf13b(e,t){wasm.wasm_bindgen__convert__closures_____invoke__h22534da7d54bf13b(e,t)}function wasm_bindgen__convert__closures_____invoke__h0645e20ee34c432f(e,t,n,r){wasm.wasm_bindgen__convert__closures_____invoke__h0645e20ee34c432f(e,t,n,r)}let __wbindgen_enum_IdbTransactionMode=["readonly","readwrite","versionchange","readwriteflush","cleanup"],DatabaseFinalization="undefined"==typeof FinalizationRegistry?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(e=>wasm.__wbg_database_free(e>>>0,1));class Database{static __wrap(e){e>>>=0;let t=Object.create(Database.prototype);return t.__wbg_ptr=e,DatabaseFinalization.register(t,t.__wbg_ptr,t),t}__destroy_into_raw(){let e=this.__wbg_ptr;return this.__wbg_ptr=0,DatabaseFinalization.unregister(this),e}free(){let e=this.__destroy_into_raw();wasm.__wbg_database_free(e,0)}static newDatabase(e){let t=passStringToWasm0(e,wasm.__wbindgen_malloc,wasm.__wbindgen_realloc),n=WASM_VECTOR_LEN;return wasm.database_newDatabase(t,n)}static getAllDatabases(){return wasm.database_getAllDatabases()}static deleteDatabase(e){let t=passStringToWasm0(e,wasm.__wbindgen_malloc,wasm.__wbindgen_realloc),n=WASM_VECTOR_LEN;return wasm.database_deleteDatabase(t,n)}execute(e){let t=passStringToWasm0(e,wasm.__wbindgen_malloc,wasm.__wbindgen_realloc),n=WASM_VECTOR_LEN;return wasm.database_execute(this.__wbg_ptr,t,n)}executeWithParams(e,t){let n=passStringToWasm0(e,wasm.__wbindgen_malloc,wasm.__wbindgen_realloc),r=WASM_VECTOR_LEN;return wasm.database_executeWithParams(this.__wbg_ptr,n,r,t)}close(){return wasm.database_close(this.__wbg_ptr)}forceCloseConnection(){return wasm.database_forceCloseConnection(this.__wbg_ptr)}sync(){return wasm.database_sync(this.__wbg_ptr)}allowNonLeaderWrites(e){return wasm.database_allowNonLeaderWrites(this.__wbg_ptr,e)}exportToFile(){return wasm.database_exportToFile(this.__wbg_ptr)}importFromFile(e){return wasm.database_importFromFile(this.__wbg_ptr,e)}waitForLeadership(){return wasm.database_waitForLeadership(this.__wbg_ptr)}requestLeadership(){return wasm.database_requestLeadership(this.__wbg_ptr)}getLeaderInfo(){return wasm.database_getLeaderInfo(this.__wbg_ptr)}queueWrite(e){let t=passStringToWasm0(e,wasm.__wbindgen_malloc,wasm.__wbindgen_realloc),n=WASM_VECTOR_LEN;return wasm.database_queueWrite(this.__wbg_ptr,t,n)}queueWriteWithTimeout(e,t){let n=passStringToWasm0(e,wasm.__wbindgen_malloc,wasm.__wbindgen_realloc),r=WASM_VECTOR_LEN;return wasm.database_queueWriteWithTimeout(this.__wbg_ptr,n,r,t)}isLeader(){return wasm.database_isLeader(this.__wbg_ptr)}is_leader(){return wasm.database_is_leader(this.__wbg_ptr)}onDataChange(e){let t=wasm.database_onDataChange(this.__wbg_ptr,e);if(t[1])throw takeFromExternrefTable0(t[0])}enableOptimisticUpdates(e){return wasm.database_enableOptimisticUpdates(this.__wbg_ptr,e)}isOptimisticMode(){return wasm.database_isOptimisticMode(this.__wbg_ptr)}trackOptimisticWrite(e){let t=passStringToWasm0(e,wasm.__wbindgen_malloc,wasm.__wbindgen_realloc),n=WASM_VECTOR_LEN;return wasm.database_trackOptimisticWrite(this.__wbg_ptr,t,n)}getPendingWritesCount(){return wasm.database_getPendingWritesCount(this.__wbg_ptr)}clearOptimisticWrites(){return wasm.database_clearOptimisticWrites(this.__wbg_ptr)}enableCoordinationMetrics(e){return wasm.database_enableCoordinationMetrics(this.__wbg_ptr,e)}isCoordinationMetricsEnabled(){return wasm.database_isCoordinationMetricsEnabled(this.__wbg_ptr)}recordLeadershipChange(e){return wasm.database_recordLeadershipChange(this.__wbg_ptr,e)}recordNotificationLatency(e){return wasm.database_recordNotificationLatency(this.__wbg_ptr,e)}recordWriteConflict(){return wasm.database_recordWriteConflict(this.__wbg_ptr)}recordFollowerRefresh(){return wasm.database_recordFollowerRefresh(this.__wbg_ptr)}getCoordinationMetrics(){return wasm.database_getCoordinationMetrics(this.__wbg_ptr)}resetCoordinationMetrics(){return wasm.database_resetCoordinationMetrics(this.__wbg_ptr)}}Symbol.dispose&&(Database.prototype[Symbol.dispose]=Database.prototype.free);let WasmColumnValueFinalization="undefined"==typeof FinalizationRegistry?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(e=>wasm.__wbg_wasmcolumnvalue_free(e>>>0,1));class WasmColumnValue{static __wrap(e){e>>>=0;let t=Object.create(WasmColumnValue.prototype);return t.__wbg_ptr=e,WasmColumnValueFinalization.register(t,t.__wbg_ptr,t),t}__destroy_into_raw(){let e=this.__wbg_ptr;return this.__wbg_ptr=0,WasmColumnValueFinalization.unregister(this),e}free(){let e=this.__destroy_into_raw();wasm.__wbg_wasmcolumnvalue_free(e,0)}static createNull(){let e=wasm.wasmcolumnvalue_createNull();return WasmColumnValue.__wrap(e)}static createInteger(e){let t=wasm.wasmcolumnvalue_createInteger(e);return WasmColumnValue.__wrap(t)}static createReal(e){let t=wasm.wasmcolumnvalue_createReal(e);return WasmColumnValue.__wrap(t)}static createText(e){let t=passStringToWasm0(e,wasm.__wbindgen_malloc,wasm.__wbindgen_realloc),n=WASM_VECTOR_LEN,r=wasm.wasmcolumnvalue_createText(t,n);return WasmColumnValue.__wrap(r)}static createBlob(e){let t=passArray8ToWasm0(e,wasm.__wbindgen_malloc),n=WASM_VECTOR_LEN,r=wasm.wasmcolumnvalue_createBlob(t,n);return WasmColumnValue.__wrap(r)}static createBigInt(e){let t=passStringToWasm0(e,wasm.__wbindgen_malloc,wasm.__wbindgen_realloc),n=WASM_VECTOR_LEN,r=wasm.wasmcolumnvalue_createBigInt(t,n);return WasmColumnValue.__wrap(r)}static createDate(e){let t=wasm.wasmcolumnvalue_createDate(e);return WasmColumnValue.__wrap(t)}static fromJsValue(e){let t=wasm.wasmcolumnvalue_fromJsValue(e);return WasmColumnValue.__wrap(t)}static null(){let e=wasm.wasmcolumnvalue_createNull();return WasmColumnValue.__wrap(e)}static integer(e){let t=wasm.wasmcolumnvalue_integer(e);return WasmColumnValue.__wrap(t)}static real(e){let t=wasm.wasmcolumnvalue_createReal(e);return WasmColumnValue.__wrap(t)}static text(e){let t=passStringToWasm0(e,wasm.__wbindgen_malloc,wasm.__wbindgen_realloc),n=WASM_VECTOR_LEN,r=wasm.wasmcolumnvalue_createText(t,n);return WasmColumnValue.__wrap(r)}static blob(e){let t=passArray8ToWasm0(e,wasm.__wbindgen_malloc),n=WASM_VECTOR_LEN,r=wasm.wasmcolumnvalue_blob(t,n);return WasmColumnValue.__wrap(r)}static big_int(e){let t=passStringToWasm0(e,wasm.__wbindgen_malloc,wasm.__wbindgen_realloc),n=WASM_VECTOR_LEN,r=wasm.wasmcolumnvalue_big_int(t,n);return WasmColumnValue.__wrap(r)}static date(e){let t=wasm.wasmcolumnvalue_createDate(e);return WasmColumnValue.__wrap(t)}}Symbol.dispose&&(WasmColumnValue.prototype[Symbol.dispose]=WasmColumnValue.prototype.free);let EXPECTED_RESPONSE_TYPES=new Set(["basic","cors","default"]);async function __wbg_load(e,t){if("function"==typeof Response&&e instanceof Response){if("function"==typeof WebAssembly.instantiateStreaming)try{return await WebAssembly.instantiateStreaming(e,t)}catch(t){if(e.ok&&EXPECTED_RESPONSE_TYPES.has(e.type)&&"application/wasm"!==e.headers.get("Content-Type"))console.warn("`WebAssembly.instantiateStreaming` failed because your server does not serve Wasm with `application/wasm` MIME type. Falling back to `WebAssembly.instantiate` which is slower. Original error:\n",t);else throw t}let n=await e.arrayBuffer();return await WebAssembly.instantiate(n,t)}{let n=await WebAssembly.instantiate(e,t);return n instanceof WebAssembly.Instance?{instance:n,module:e}:n}}function __wbg_get_imports(){let imports={};return imports.wbg={},imports.wbg.__wbg_Error_e83987f665cf5504=function(e,t){return Error(getStringFromWasm0(e,t))},imports.wbg.__wbg_Number_bb48ca12f395cd08=function(e){return Number(e)},imports.wbg.__wbg_String_8f0eb39a4a4c2f66=function(e,t){let n=passStringToWasm0(String(t),wasm.__wbindgen_malloc,wasm.__wbindgen_realloc),r=WASM_VECTOR_LEN;getDataViewMemory0().setInt32(e+4,r,!0),getDataViewMemory0().setInt32(e+0,n,!0)},imports.wbg.__wbg___wbindgen_bigint_get_as_i64_f3ebc5a755000afd=function(e,t){let n=t,r="bigint"==typeof n?n:void 0;getDataViewMemory0().setBigInt64(e+8,isLikeNone(r)?BigInt(0):r,!0),getDataViewMemory0().setInt32(e+0,!isLikeNone(r),!0)},imports.wbg.__wbg___wbindgen_boolean_get_6d5a1ee65bab5f68=function(e){let t=e,n="boolean"==typeof t?t:void 0;return isLikeNone(n)?0xffffff:+!!n},imports.wbg.__wbg___wbindgen_debug_string_df47ffb5e35e6763=function(e,t){let n=passStringToWasm0(debugString(t),wasm.__wbindgen_malloc,wasm.__wbindgen_realloc),r=WASM_VECTOR_LEN;getDataViewMemory0().setInt32(e+4,r,!0),getDataViewMemory0().setInt32(e+0,n,!0)},imports.wbg.__wbg___wbindgen_in_bb933bd9e1b3bc0f=function(e,t){return e in t},imports.wbg.__wbg___wbindgen_is_bigint_cb320707dcd35f0b=function(e){return"bigint"==typeof e},imports.wbg.__wbg___wbindgen_is_function_ee8a6c5833c90377=function(e){return"function"==typeof e},imports.wbg.__wbg___wbindgen_is_null_5e69f72e906cc57c=function(e){return null===e},imports.wbg.__wbg___wbindgen_is_object_c818261d21f283a4=function(e){let t=e;return"object"==typeof t&&null!==t},imports.wbg.__wbg___wbindgen_is_string_fbb76cb2940daafd=function(e){return"string"==typeof e},imports.wbg.__wbg___wbindgen_is_undefined_2d472862bd29a478=function(e){return void 0===e},imports.wbg.__wbg___wbindgen_jsval_eq_6b13ab83478b1c50=function(e,t){return e===t},imports.wbg.__wbg___wbindgen_jsval_loose_eq_b664b38a2f582147=function(e,t){return e==t},imports.wbg.__wbg___wbindgen_number_get_a20bf9b85341449d=function(e,t){let n=t,r="number"==typeof n?n:void 0;getDataViewMemory0().setFloat64(e+8,isLikeNone(r)?0:r,!0),getDataViewMemory0().setInt32(e+0,!isLikeNone(r),!0)},imports.wbg.__wbg___wbindgen_string_get_e4f06c90489ad01b=function(e,t){let n=t,r="string"==typeof n?n:void 0;var a=isLikeNone(r)?0:passStringToWasm0(r,wasm.__wbindgen_malloc,wasm.__wbindgen_realloc),i=WASM_VECTOR_LEN;getDataViewMemory0().setInt32(e+4,i,!0),getDataViewMemory0().setInt32(e+0,a,!0)},imports.wbg.__wbg___wbindgen_throw_b855445ff6a94295=function(e,t){throw Error(getStringFromWasm0(e,t))},imports.wbg.__wbg__wbg_cb_unref_2454a539ea5790d9=function(e){e._wbg_cb_unref()},imports.wbg.__wbg_bound_bcd18f6fa2e57078=function(){return handleError(function(e,t){return IDBKeyRange.bound(e,t)},arguments)},imports.wbg.__wbg_call_525440f72fbfc0ea=function(){return handleError(function(e,t,n){return e.call(t,n)},arguments)},imports.wbg.__wbg_call_e762c39fa8ea36bf=function(){return handleError(function(e,t){return e.call(t)},arguments)},imports.wbg.__wbg_cancelIdleCallback_415499de61339350=function(e,t){e.cancelIdleCallback(t>>>0)},imports.wbg.__wbg_clearInterval_0675249bbe52da7b=function(e,t){e.clearInterval(t)},imports.wbg.__wbg_close_209083eb02f34c98=function(e){e.close()},imports.wbg.__wbg_close_74386af11ef5ae35=function(e){e.close()},imports.wbg.__wbg_contains_9f431f3a4577dba6=function(e,t,n){return e.contains(getStringFromWasm0(t,n))},imports.wbg.__wbg_continue_a31229352363abe4=function(){return handleError(function(e){e.continue()},arguments)},imports.wbg.__wbg_createObjectStore_7df0fb1da746f44d=function(){return handleError(function(e,t,n){return e.createObjectStore(getStringFromWasm0(t,n))},arguments)},imports.wbg.__wbg_data_ee4306d069f24f2d=function(e){return e.data},imports.wbg.__wbg_database_new=function(e){return Database.__wrap(e)},imports.wbg.__wbg_debug_f4b0c59db649db48=function(e){console.debug(e)},imports.wbg.__wbg_document_725ae06eb442a6db=function(e){let t=e.document;return isLikeNone(t)?0:addToExternrefTable0(t)},imports.wbg.__wbg_done_2042aa2670fb1db1=function(e){return e.done},imports.wbg.__wbg_entries_e171b586f8f6bdbf=function(e){return Object.entries(e)},imports.wbg.__wbg_error_a7f8fbb0523dae15=function(e){console.error(e)},imports.wbg.__wbg_eval_89be3645cf120ed3=function(){return handleError(function(arg0,arg1){let ret=eval(getStringFromWasm0(arg0,arg1));return ret},arguments)},imports.wbg.__wbg_getDate_5a70d2f6a482d99f=function(e){return e.getDate()},imports.wbg.__wbg_getDay_a150a3fd757619d1=function(e){return e.getDay()},imports.wbg.__wbg_getFullYear_8240d5a15191feae=function(e){return e.getFullYear()},imports.wbg.__wbg_getHours_5e476e0b9ebc42d1=function(e){return e.getHours()},imports.wbg.__wbg_getItem_89f57d6acc51a876=function(){return handleError(function(e,t,n,r){let a=t.getItem(getStringFromWasm0(n,r));var i=isLikeNone(a)?0:passStringToWasm0(a,wasm.__wbindgen_malloc,wasm.__wbindgen_realloc),o=WASM_VECTOR_LEN;getDataViewMemory0().setInt32(e+4,o,!0),getDataViewMemory0().setInt32(e+0,i,!0)},arguments)},imports.wbg.__wbg_getMinutes_c95dfb65f1ea8f02=function(e){return e.getMinutes()},imports.wbg.__wbg_getMonth_25c1c5a601d72773=function(e){return e.getMonth()},imports.wbg.__wbg_getSeconds_8113bf8709718eb2=function(e){return e.getSeconds()},imports.wbg.__wbg_getTime_14776bfb48a1bff9=function(e){return e.getTime()},imports.wbg.__wbg_getTimezoneOffset_d391cb11d54969f8=function(e){return e.getTimezoneOffset()},imports.wbg.__wbg_get_7bed016f185add81=function(e,t){return e[t>>>0]},imports.wbg.__wbg_get_e7f29cbc382cd519=function(e,t,n){let r=t[n>>>0];var a=isLikeNone(r)?0:passStringToWasm0(r,wasm.__wbindgen_malloc,wasm.__wbindgen_realloc),i=WASM_VECTOR_LEN;getDataViewMemory0().setInt32(e+4,i,!0),getDataViewMemory0().setInt32(e+0,a,!0)},imports.wbg.__wbg_get_efcb449f58ec27c2=function(){return handleError(function(e,t){return Reflect.get(e,t)},arguments)},imports.wbg.__wbg_get_fb1fa70beb44a754=function(){return handleError(function(e,t){return e.get(t)},arguments)},imports.wbg.__wbg_get_with_ref_key_1dc361bd10053bfe=function(e,t){return e[t]},imports.wbg.__wbg_info_e674a11f4f50cc0c=function(e){console.info(e)},imports.wbg.__wbg_instanceof_ArrayBuffer_70beb1189ca63b38=function(e){let t;try{t=e instanceof ArrayBuffer}catch(e){t=!1}return t},imports.wbg.__wbg_instanceof_IdbDatabase_fcf75ffeeec3ec8c=function(e){let t;try{t=e instanceof IDBDatabase}catch(e){t=!1}return t},imports.wbg.__wbg_instanceof_IdbFactory_b39cfd3ab00cea49=function(e){let t;try{t=e instanceof IDBFactory}catch(e){t=!1}return t},imports.wbg.__wbg_instanceof_IdbOpenDbRequest_08e4929084e51476=function(e){let t;try{t=e instanceof IDBOpenDBRequest}catch(e){t=!1}return t},imports.wbg.__wbg_instanceof_Map_8579b5e2ab5437c7=function(e){let t;try{t=e instanceof Map}catch(e){t=!1}return t},imports.wbg.__wbg_instanceof_Uint8Array_20c8e73002f7af98=function(e){let t;try{t=e instanceof Uint8Array}catch(e){t=!1}return t},imports.wbg.__wbg_instanceof_Window_4846dbb3de56c84c=function(e){let t;try{t=e instanceof Window}catch(e){t=!1}return t},imports.wbg.__wbg_isArray_96e0af9891d0945d=function(e){return Array.isArray(e)},imports.wbg.__wbg_isSafeInteger_d216eda7911dde36=function(e){return Number.isSafeInteger(e)},imports.wbg.__wbg_iterator_e5822695327a3c39=function(){return Symbol.iterator},imports.wbg.__wbg_key_d84f6472d959b974=function(){return handleError(function(e){return e.key},arguments)},imports.wbg.__wbg_length_69bca3cb64fc8748=function(e){return e.length},imports.wbg.__wbg_length_a95b69f903b746c4=function(e){return e.length},imports.wbg.__wbg_length_cdd215e10d9dd507=function(e){return e.length},imports.wbg.__wbg_length_efec72473f10bc42=function(e){return e.length},imports.wbg.__wbg_localStorage_3034501cd2b3da3f=function(){return handleError(function(e){let t=e.localStorage;return isLikeNone(t)?0:addToExternrefTable0(t)},arguments)},imports.wbg.__wbg_log_8cec76766b8c0e33=function(e){console.log(e)},imports.wbg.__wbg_new_0_f9740686d739025c=function(){return new Date},imports.wbg.__wbg_new_1acc0b6eea89d040=function(){return{}},imports.wbg.__wbg_new_3c3d849046688a66=function(e,t){try{var n={a:e,b:t},r=(e,t)=>{let r=n.a;n.a=0;try{return wasm_bindgen__convert__closures_____invoke__h0645e20ee34c432f(r,n.b,e,t)}finally{n.a=r}};return new Promise(r)}finally{n.a=n.b=0}},imports.wbg.__wbg_new_5a79be3ab53b8aa5=function(e){return new Uint8Array(e)},imports.wbg.__wbg_new_67069b49258d9f2a=function(){return handleError(function(e,t){return new BroadcastChannel(getStringFromWasm0(e,t))},arguments)},imports.wbg.__wbg_new_93d9417ed3fb115d=function(e){return new Date(e)},imports.wbg.__wbg_new_e17d9f43105b08be=function(){return[]},imports.wbg.__wbg_new_from_slice_92f4d78ca282a2d2=function(e,t){return new Uint8Array(getArrayU8FromWasm0(e,t))},imports.wbg.__wbg_new_no_args_ee98eee5275000a4=function(e,t){return Function(getStringFromWasm0(e,t))},imports.wbg.__wbg_new_with_length_01aa0dc35aa13543=function(e){return new Uint8Array(e>>>0)},imports.wbg.__wbg_new_with_year_month_day_6236812cf591750d=function(e,t,n){return new Date(e>>>0,t,n)},imports.wbg.__wbg_next_020810e0ae8ebcb0=function(){return handleError(function(e){return e.next()},arguments)},imports.wbg.__wbg_next_2c826fe5dfec6b6a=function(e){return e.next},imports.wbg.__wbg_now_793306c526e2e3b6=function(){return Date.now()},imports.wbg.__wbg_objectStoreNames_cfcd75f76eff34e4=function(e){return e.objectStoreNames},imports.wbg.__wbg_objectStore_2aab1d8b165c62a6=function(){return handleError(function(e,t,n){return e.objectStore(getStringFromWasm0(t,n))},arguments)},imports.wbg.__wbg_openCursor_da22e71977afb7d7=function(){return handleError(function(e,t){return e.openCursor(t)},arguments)},imports.wbg.__wbg_open_9d8c51d122a5a6ea=function(){return handleError(function(e,t,n,r){return e.open(getStringFromWasm0(t,n),r>>>0)},arguments)},imports.wbg.__wbg_parse_2a704d6b78abb2b8=function(){return handleError(function(e,t){return JSON.parse(getStringFromWasm0(e,t))},arguments)},imports.wbg.__wbg_postMessage_2e1248c7fe808340=function(){return handleError(function(e,t){e.postMessage(t)},arguments)},imports.wbg.__wbg_prototypesetcall_2a6620b6922694b2=function(e,t,n){Uint8Array.prototype.set.call(getArrayU8FromWasm0(e,t),n)},imports.wbg.__wbg_push_df81a39d04db858c=function(e,t){return e.push(t)},imports.wbg.__wbg_put_88678dd575c85637=function(){return handleError(function(e,t,n){return e.put(t,n)},arguments)},imports.wbg.__wbg_queueMicrotask_34d692c25c47d05b=function(e){return e.queueMicrotask},imports.wbg.__wbg_queueMicrotask_9d76cacb20c84d58=function(e){queueMicrotask(e)},imports.wbg.__wbg_random_babe96ffc73e60a2=function(){return Math.random()},imports.wbg.__wbg_removeEventListener_aa21ef619e743518=function(){return handleError(function(e,t,n,r){e.removeEventListener(getStringFromWasm0(t,n),r)},arguments)},imports.wbg.__wbg_removeItem_0e1e70f1687b5304=function(){return handleError(function(e,t,n){e.removeItem(getStringFromWasm0(t,n))},arguments)},imports.wbg.__wbg_resolve_caf97c30b83f7053=function(e){return Promise.resolve(e)},imports.wbg.__wbg_result_25e75004b82b9830=function(){return handleError(function(e){return e.result},arguments)},imports.wbg.__wbg_setInterval_6714a9bec1e91fa3=function(){return handleError(function(e,t,n){return e.setInterval(t,n)},arguments)},imports.wbg.__wbg_setItem_64dfb54d7b20d84c=function(){return handleError(function(e,t,n,r,a){e.setItem(getStringFromWasm0(t,n),getStringFromWasm0(r,a))},arguments)},imports.wbg.__wbg_setTimeout_780ac15e3df4c663=function(){return handleError(function(e,t,n){return e.setTimeout(t,n)},arguments)},imports.wbg.__wbg_set_3f1d0b984ed272ed=function(e,t,n){e[t]=n},imports.wbg.__wbg_set_9e6516df7b7d0f19=function(e,t,n){e.set(getArrayU8FromWasm0(t,n))},imports.wbg.__wbg_set_c213c871859d6500=function(e,t,n){e[t>>>0]=n},imports.wbg.__wbg_set_c2abbebe8b9ebee1=function(){return handleError(function(e,t,n){return Reflect.set(e,t,n)},arguments)},imports.wbg.__wbg_set_oncomplete_71dbeb19a31158ae=function(e,t){e.oncomplete=t},imports.wbg.__wbg_set_onerror_2a8ad6135dc1ec74=function(e,t){e.onerror=t},imports.wbg.__wbg_set_onerror_dc82fea584ffccaa=function(e,t){e.onerror=t},imports.wbg.__wbg_set_onmessage_86d8d65dbed3a751=function(e,t){e.onmessage=t},imports.wbg.__wbg_set_onsuccess_f367d002b462109e=function(e,t){e.onsuccess=t},imports.wbg.__wbg_set_onupgradeneeded_0a519a73284a1418=function(e,t){e.onupgradeneeded=t},imports.wbg.__wbg_slice_3e7e2fc0da7cc625=function(e,t,n){return e.slice(t>>>0,n>>>0)},imports.wbg.__wbg_static_accessor_GLOBAL_89e1d9ac6a1b250e=function(){let e=__turbopack_context__.g;return isLikeNone(e)?0:addToExternrefTable0(e)},imports.wbg.__wbg_static_accessor_GLOBAL_THIS_8b530f326a9e48ac=function(){let e="undefined"==typeof globalThis?null:globalThis;return isLikeNone(e)?0:addToExternrefTable0(e)},imports.wbg.__wbg_static_accessor_SELF_6fdf4b64710cc91b=function(){let e="undefined"==typeof self?null:self;return isLikeNone(e)?0:addToExternrefTable0(e)},imports.wbg.__wbg_static_accessor_WINDOW_b45bfc5a37f6cfa2=function(){let e="undefined"==typeof window?null:window;return isLikeNone(e)?0:addToExternrefTable0(e)},imports.wbg.__wbg_stringify_b5fb28f6465d9c3e=function(){return handleError(function(e){return JSON.stringify(e)},arguments)},imports.wbg.__wbg_target_1447f5d3a6fa6fe0=function(e){let t=e.target;return isLikeNone(t)?0:addToExternrefTable0(t)},imports.wbg.__wbg_then_4f46f6544e6b4a28=function(e,t){return e.then(t)},imports.wbg.__wbg_then_70d05cf780a18d77=function(e,t,n){return e.then(t,n)},imports.wbg.__wbg_toString_331854e6e3c16849=function(){return handleError(function(e,t){return e.toString(t)},arguments)},imports.wbg.__wbg_transaction_b93f1b2d9bd57727=function(){return handleError(function(e,t,n){return e.transaction(getStringFromWasm0(t,n))},arguments)},imports.wbg.__wbg_transaction_cd940bd89781f616=function(){return handleError(function(e,t,n){return e.transaction(t,__wbindgen_enum_IdbTransactionMode[n])},arguments)},imports.wbg.__wbg_transaction_e90346abb797e13b=function(){return handleError(function(e,t){return e.transaction(t)},arguments)},imports.wbg.__wbg_value_692627309814bb8c=function(e){return e.value},imports.wbg.__wbg_value_bf03593c8a7b58b8=function(){return handleError(function(e){return e.value},arguments)},imports.wbg.__wbg_warn_1d74dddbe2fd1dbb=function(e){console.warn(e)},imports.wbg.__wbindgen_cast_2241b6af4c4b2941=function(e,t){return getStringFromWasm0(e,t)},imports.wbg.__wbindgen_cast_4625c577ab2ec9ee=function(e){return BigInt.asUintN(64,e)},imports.wbg.__wbindgen_cast_57a169896fc88a99=function(e,t){return makeMutClosure(e,t,wasm.wasm_bindgen__closure__destroy__h2f37bf16a5f8f009,wasm_bindgen__convert__closures_____invoke__h4a40dd3e40c810c9)},imports.wbg.__wbindgen_cast_5ad24f94af76dc58=function(e,t){return makeMutClosure(e,t,wasm.wasm_bindgen__closure__destroy__h2f37bf16a5f8f009,wasm_bindgen__convert__closures_____invoke__h4a40dd3e40c810c9)},imports.wbg.__wbindgen_cast_835f1eef5edca652=function(e,t){return makeMutClosure(e,t,wasm.wasm_bindgen__closure__destroy__hddca379abe978273,wasm_bindgen__convert__closures_____invoke__h3ba5f0fbfb39f2bc)},imports.wbg.__wbindgen_cast_9ae0607507abb057=function(e){return e},imports.wbg.__wbindgen_cast_ca47f5f1baddc70e=function(e,t){return makeMutClosure(e,t,wasm.wasm_bindgen__closure__destroy__h2f37bf16a5f8f009,wasm_bindgen__convert__closures_____invoke__h22534da7d54bf13b)},imports.wbg.__wbindgen_cast_d6cd19b81560fd6e=function(e){return e},imports.wbg.__wbindgen_init_externref_table=function(){let e=wasm.__wbindgen_externrefs,t=e.grow(4);e.set(0,void 0),e.set(t+0,void 0),e.set(t+1,null),e.set(t+2,!0),e.set(t+3,!1)},imports}function __wbg_finalize_init(e,t){return wasm=e.exports,__wbg_init.__wbindgen_wasm_module=t,cachedDataViewMemory0=null,cachedUint8ArrayMemory0=null,wasm.__wbindgen_start(),wasm}function initSync(e){if(void 0!==wasm)return wasm;void 0!==e&&(Object.getPrototypeOf(e)===Object.prototype?{module:e}=e:console.warn("using deprecated parameters for `initSync()`; pass a single object instead"));let t=__wbg_get_imports();return e instanceof WebAssembly.Module||(e=new WebAssembly.Module(e)),__wbg_finalize_init(new WebAssembly.Instance(e,t),e)}async function __wbg_init(e){if(void 0!==wasm)return wasm;void 0!==e&&(Object.getPrototypeOf(e)===Object.prototype?{module_or_path:e}=e:console.warn("using deprecated parameters for the initialization function; pass a single object instead")),void 0===e&&(e=new __turbopack_context__.U(__turbopack_context__.r(14400)));let t=__wbg_get_imports();("string"==typeof e||"function"==typeof Request&&e instanceof Request||"function"==typeof URL&&e instanceof URL)&&(e=fetch(e));let{instance:n,module:r}=await __wbg_load(await e,t);return __wbg_finalize_init(n,r)}let __TURBOPACK__default__export__=__wbg_init;__turbopack_context__.s(["Database",()=>Database,"WasmColumnValue",()=>WasmColumnValue,"default",0,__TURBOPACK__default__export__,"initSync",()=>initSync,"init_logger",()=>init_logger])},58612,e=>{"use strict";var t=e.i(4948);class n{db=null;dbName=null;initialized=!1;async initialize(){if(!this.initialized)try{await (0,t.default)(),this.initialized=!0}catch(e){throw console.error("Failed to initialize WASM module:",e),Error(`WASM initialization failed: ${e}`)}}isInitialized(){return this.initialized}async open(e){if(await this.initialize(),this.db)throw Error("Database is already open. Close it first.");try{this.db=await t.Database.newDatabase(e),this.dbName=e,console.log(`DatabaseClient: Opened database "${e}"`)}catch(e){throw console.error("DatabaseClient: Failed to open database:",e),Error(`Failed to open database: ${e}`)}}async execute(e,t){if(!this.db)throw Error("Database not opened. Call open() first.");try{if(t&&t.length>0)return await this.db.executeWithParams(e,t);return await this.db.execute(e)}catch(e){throw console.error("Query execution failed:",e),Error(`Query failed: ${e}`)}}async export(){if(!this.db)throw Error("Database not opened. Call open() first.");try{let e=await this.db.exportToFile();return new Blob([e],{type:"application/x-sqlite3"})}catch(e){throw console.error("Database export failed:",e),Error(`Export failed: ${e}`)}}async import(e){if(!this.db||!this.dbName)throw Error("Database not opened. Call open() first to create initial database instance.");try{let n=await e.arrayBuffer();await this.db.importFromFile(new Uint8Array(n)),console.log(`Import complete, reopening database "${this.dbName}"...`),this.db=await t.Database.newDatabase(this.dbName),console.log("Database reopened after import")}catch(e){throw console.error("Database import failed:",e),Error(`Import failed: ${e}`)}}async sync(){if(!this.db)throw Error("Database not opened. Call open() first.");try{await this.db.sync()}catch(e){throw console.error("Database sync failed:",e),Error(`Sync failed: ${e}`)}}async close(){if(this.db)try{await this.db.close(),this.db=null,this.dbName=null}catch(e){throw console.error("Database close failed:",e),Error(`Close failed: ${e}`)}}isOpen(){return null!==this.db}getDatabaseName(){return this.dbName}async exportDatabase(){return this.export()}async importDatabase(e,n){await this.initialize(),this.db&&await this.close();try{this.db=await t.Database.newDatabase(e),this.dbName=e;let r=await n.arrayBuffer();await this.db.importFromFile(new Uint8Array(r)),console.log(`Import complete, reopening database "${e}"...`),this.db=await t.Database.newDatabase(e),console.log("Database reopened after import")}catch(e){throw console.error("Database import failed:",e),this.db=null,this.dbName=null,Error(`Import failed: ${e}`)}}async deleteDatabase(e){await this.initialize(),this.dbName===e&&this.db&&await this.close();try{let t=indexedDB.deleteDatabase(e);await new Promise((n,r)=>{t.onsuccess=()=>{console.log(`Deleted database "${e}"`),n()},t.onerror=()=>{r(Error(`Failed to delete database: ${t.error}`))},t.onblocked=()=>{console.warn(`Delete blocked for database "${e}". Close all connections first.`)}})}catch(t){throw console.error(`Failed to delete database "${e}":`,t),Error(`Delete failed: ${t}`)}}getDatabase(){return this.db}async isLeader(){if(!this.db)throw Error("Database not opened. Call open() first.");return await this.db.isLeader()}async waitForLeadership(){if(!this.db)throw Error("Database not opened. Call open() first.");return await this.db.waitForLeadership()}async requestLeadership(){if(!this.db)throw Error("Database not opened. Call open() first.");return await this.db.requestLeadership()}async allowNonLeaderWrites(e){if(!this.db)throw Error("Database not opened. Call open() first.");return await this.db.allowNonLeaderWrites(e)}}e.s(["DatabaseClient",()=>n])},40182,e=>{"use strict";var t=e.i(73444),n=e.i(75784),r=e.i(67830);function a(e){let a,i,o,s,c=(0,n.c)(8);return c[0]!==e?({className:a,...i}=e,c[0]=e,c[1]=a,c[2]=i):(a=c[1],i=c[2]),c[3]!==a?(o=(0,r.cn)("w-full caption-bottom text-sm",a),c[3]=a,c[4]=o):o=c[4],c[5]!==i||c[6]!==o?(s=(0,t.jsx)("div",{"data-slot":"table-container",className:"relative w-full overflow-x-auto",children:(0,t.jsx)("table",{"data-slot":"table",className:o,...i})}),c[5]=i,c[6]=o,c[7]=s):s=c[7],s}function i(e){let a,i,o,s,c=(0,n.c)(8);return c[0]!==e?({className:a,...i}=e,c[0]=e,c[1]=a,c[2]=i):(a=c[1],i=c[2]),c[3]!==a?(o=(0,r.cn)("[&_tr]:border-b",a),c[3]=a,c[4]=o):o=c[4],c[5]!==i||c[6]!==o?(s=(0,t.jsx)("thead",{"data-slot":"table-header",className:o,...i}),c[5]=i,c[6]=o,c[7]=s):s=c[7],s}function o(e){let a,i,o,s,c=(0,n.c)(8);return c[0]!==e?({className:a,...i}=e,c[0]=e,c[1]=a,c[2]=i):(a=c[1],i=c[2]),c[3]!==a?(o=(0,r.cn)("[&_tr:last-child]:border-0",a),c[3]=a,c[4]=o):o=c[4],c[5]!==i||c[6]!==o?(s=(0,t.jsx)("tbody",{"data-slot":"table-body",className:o,...i}),c[5]=i,c[6]=o,c[7]=s):s=c[7],s}function s(e){let a,i,o,s,c=(0,n.c)(8);return c[0]!==e?({className:a,...i}=e,c[0]=e,c[1]=a,c[2]=i):(a=c[1],i=c[2]),c[3]!==a?(o=(0,r.cn)("hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors",a),c[3]=a,c[4]=o):o=c[4],c[5]!==i||c[6]!==o?(s=(0,t.jsx)("tr",{"data-slot":"table-row",className:o,...i}),c[5]=i,c[6]=o,c[7]=s):s=c[7],s}function c(e){let a,i,o,s,c=(0,n.c)(8);return c[0]!==e?({className:a,...i}=e,c[0]=e,c[1]=a,c[2]=i):(a=c[1],i=c[2]),c[3]!==a?(o=(0,r.cn)("text-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",a),c[3]=a,c[4]=o):o=c[4],c[5]!==i||c[6]!==o?(s=(0,t.jsx)("th",{"data-slot":"table-head",className:o,...i}),c[5]=i,c[6]=o,c[7]=s):s=c[7],s}function l(e){let a,i,o,s,c=(0,n.c)(8);return c[0]!==e?({className:a,...i}=e,c[0]=e,c[1]=a,c[2]=i):(a=c[1],i=c[2]),c[3]!==a?(o=(0,r.cn)("p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",a),c[3]=a,c[4]=o):o=c[4],c[5]!==i||c[6]!==o?(s=(0,t.jsx)("td",{"data-slot":"table-cell",className:o,...i}),c[5]=i,c[6]=o,c[7]=s):s=c[7],s}e.s(["Table",()=>a,"TableBody",()=>o,"TableCell",()=>l,"TableHead",()=>c,"TableHeader",()=>i,"TableRow",()=>s])},67608,e=>{"use strict";var t=e.i(73444),n=e.i(75784),r=e.i(67830);function a(e){let a,i,o,s,c,l=(0,n.c)(10);return l[0]!==e?({className:a,type:o,...i}=e,l[0]=e,l[1]=a,l[2]=i,l[3]=o):(a=l[1],i=l[2],o=l[3]),l[4]!==a?(s=(0,r.cn)("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",a),l[4]=a,l[5]=s):s=l[5],l[6]!==i||l[7]!==s||l[8]!==o?(c=(0,t.jsx)("input",{type:o,"data-slot":"input",className:s,...i}),l[6]=i,l[7]=s,l[8]=o,l[9]=c):c=l[9],c}e.s(["Input",()=>a])},65756,e=>{"use strict";var t=e.i(74907);let n=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),r=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,n)=>n?n.toUpperCase():t.toLowerCase()),a=e=>{let t=r(e);return t.charAt(0).toUpperCase()+t.slice(1)},i=(...e)=>e.filter((e,t,n)=>!!e&&""!==e.trim()&&n.indexOf(e)===t).join(" ").trim(),o=e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0};var s=t,c={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let l=(0,s.forwardRef)(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:a="",children:l,iconNode:_,...u},b)=>(0,s.createElement)("svg",{ref:b,...c,width:t,height:t,stroke:e,strokeWidth:r?24*Number(n)/Number(t):n,className:i("lucide",a),...!l&&!o(u)&&{"aria-hidden":"true"},...u},[..._.map(([e,t])=>(0,s.createElement)(e,t)),...Array.isArray(l)?l:[l]])),_=(e,r)=>{let o=(0,t.forwardRef)(({className:o,...s},c)=>(0,t.createElement)(l,{ref:c,iconNode:r,className:i(`lucide-${n(a(e))}`,`lucide-${e}`,o),...s}));return o.displayName=a(e),o};e.s(["default",()=>_],65756)},33690,e=>{"use strict";var t=e.i(74907),n=e.i(69617),r=e.i(9486);function a(e,n){return t.useReducer((e,t)=>n[e][t]??e,e)}var i=e=>{let{present:r,children:a}=e,i=o(r),s="function"==typeof a?a({present:i.isPresent}):t.Children.only(a),l=(0,n.useComposedRefs)(i.ref,c(s));return"function"==typeof a||i.isPresent?t.cloneElement(s,{ref:l}):null};function o(e){let[n,i]=t.useState(),o=t.useRef(null),c=t.useRef(e),l=t.useRef("none"),[_,u]=a(e?"mounted":"unmounted",{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return t.useEffect(()=>{let e=s(o.current);l.current="mounted"===_?e:"none"},[_]),(0,r.useLayoutEffect)(()=>{let t=o.current,n=c.current;if(n!==e){let r=l.current,a=s(t);if(e)u("MOUNT");else if("none"===a||t?.display==="none")u("UNMOUNT");else{let e=r!==a;n&&e?u("ANIMATION_OUT"):u("UNMOUNT")}c.current=e}},[e,u]),(0,r.useLayoutEffect)(()=>{if(n){let e,t=n.ownerDocument.defaultView??window,r=r=>{let a=s(o.current).includes(CSS.escape(r.animationName));if(r.target===n&&a&&(u("ANIMATION_END"),!c.current)){let r=n.style.animationFillMode;n.style.animationFillMode="forwards",e=t.setTimeout(()=>{"forwards"===n.style.animationFillMode&&(n.style.animationFillMode=r)})}},a=e=>{e.target===n&&(l.current=s(o.current))};return n.addEventListener("animationstart",a),n.addEventListener("animationcancel",r),n.addEventListener("animationend",r),()=>{t.clearTimeout(e),n.removeEventListener("animationstart",a),n.removeEventListener("animationcancel",r),n.removeEventListener("animationend",r)}}u("ANIMATION_END")},[n,u]),{isPresent:["mounted","unmountSuspended"].includes(_),ref:t.useCallback(e=>{o.current=e?getComputedStyle(e):null,i(e)},[])}}function s(e){return e?.animationName||"none"}function c(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(n=(t=Object.getOwnPropertyDescriptor(e,"ref")?.get)&&"isReactWarning"in t&&t.isReactWarning)?e.props.ref:e.props.ref||e.ref}i.displayName="Presence",e.s(["Presence",()=>i])},91414,e=>{"use strict";var t=e.i(73444),n=e.i(75784),r=e.i(74907),a=r;e.i(39584);var i=e.i(10836),o=t,s=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,t)=>{let n=(0,i.createSlot)(`Primitive.${t}`),r=a.forwardRef((e,r)=>{let{asChild:a,...i}=e,s=a?n:t;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,o.jsx)(s,{...i,ref:r})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{}),c=t,l="Label",_=r.forwardRef((e,t)=>(0,c.jsx)(s.label,{...e,ref:t,onMouseDown:t=>{t.target.closest("button, input, select, textarea")||(e.onMouseDown?.(t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));_.displayName=l;var u=_,b=e.i(67830);function d(e){let r,a,i,o,s=(0,n.c)(8);return s[0]!==e?({className:r,...a}=e,s[0]=e,s[1]=r,s[2]=a):(r=s[1],a=s[2]),s[3]!==r?(i=(0,b.cn)("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",r),s[3]=r,s[4]=i):i=s[4],s[5]!==a||s[6]!==i?(o=(0,t.jsx)(u,{"data-slot":"label",className:i,...a}),s[5]=a,s[6]=i,s[7]=o):o=s[7],o}e.s(["Label",()=>d],91414)},48719,e=>{"use strict";var t=e.i(73444),n=e.i(75784),r=e.i(74907),a=e.i(69617),i=e.i(26972),o=e.i(35560),s=e.i(29275),c=e.i(35054),l=e.i(39536),_=e.i(33690),u=e.i(67329),b=t,d="Checkbox",[f,g]=(0,i.createContextScope)(d),[w,h]=f(d);function m(e){let{__scopeCheckbox:t,checked:n,children:a,defaultChecked:i,disabled:o,form:c,name:l,onCheckedChange:_,required:u,value:f="on",internal_do_not_use_render:g}=e,[h,m]=(0,s.useControllableState)({prop:n,defaultProp:i??!1,onChange:_,caller:d}),[p,y]=r.useState(null),[x,v]=r.useState(null),C=r.useRef(!1),j=!p||!!c||!!p.closest("form"),S={checked:h,disabled:o,setChecked:m,control:p,setControl:y,name:l,form:c,value:f,hasConsumerStoppedPropagationRef:C,required:u,defaultChecked:!E(i)&&i,isFormControl:j,bubbleInput:x,setBubbleInput:v};return(0,b.jsx)(w,{scope:t,...S,children:N(g)?g(S):a})}var p="CheckboxTrigger",y=r.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:n,...i},s)=>{let{control:c,value:l,disabled:_,checked:d,required:f,setControl:g,setChecked:w,hasConsumerStoppedPropagationRef:m,isFormControl:y,bubbleInput:x}=h(p,e),v=(0,a.useComposedRefs)(s,g),C=r.useRef(d);return r.useEffect(()=>{let e=c?.form;if(e){let t=()=>w(C.current);return e.addEventListener("reset",t),()=>e.removeEventListener("reset",t)}},[c,w]),(0,b.jsx)(u.Primitive.button,{type:"button",role:"checkbox","aria-checked":E(d)?"mixed":d,"aria-required":f,"data-state":D(d),"data-disabled":_?"":void 0,disabled:_,value:l,...i,ref:v,onKeyDown:(0,o.composeEventHandlers)(t,e=>{"Enter"===e.key&&e.preventDefault()}),onClick:(0,o.composeEventHandlers)(n,e=>{w(e=>!!E(e)||!e),x&&y&&(m.current=e.isPropagationStopped(),m.current||e.stopPropagation())})})});y.displayName=p;var x=r.forwardRef((e,t)=>{let{__scopeCheckbox:n,name:r,checked:a,defaultChecked:i,required:o,disabled:s,value:c,onCheckedChange:l,form:_,...u}=e;return(0,b.jsx)(m,{__scopeCheckbox:n,checked:a,defaultChecked:i,disabled:s,required:o,onCheckedChange:l,name:r,form:_,value:c,internal_do_not_use_render:({isFormControl:e})=>(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(y,{...u,ref:t,__scopeCheckbox:n}),e&&(0,b.jsx)(S,{__scopeCheckbox:n})]})})});x.displayName=d;var v="CheckboxIndicator",C=r.forwardRef((e,t)=>{let{__scopeCheckbox:n,forceMount:r,...a}=e,i=h(v,n);return(0,b.jsx)(_.Presence,{present:r||E(i.checked)||!0===i.checked,children:(0,b.jsx)(u.Primitive.span,{"data-state":D(i.checked),"data-disabled":i.disabled?"":void 0,...a,ref:t,style:{pointerEvents:"none",...e.style}})})});C.displayName=v;var j="CheckboxBubbleInput",S=r.forwardRef(({__scopeCheckbox:e,...t},n)=>{let{control:i,hasConsumerStoppedPropagationRef:o,checked:s,defaultChecked:_,required:d,disabled:f,name:g,value:w,form:m,bubbleInput:p,setBubbleInput:y}=h(j,e),x=(0,a.useComposedRefs)(n,y),v=(0,c.usePrevious)(s),C=(0,l.useSize)(i);r.useEffect(()=>{let e=p;if(!e)return;let t=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set,n=!o.current;if(v!==s&&t){let r=new Event("click",{bubbles:n});e.indeterminate=E(s),t.call(e,!E(s)&&s),e.dispatchEvent(r)}},[p,v,s,o]);let S=r.useRef(!E(s)&&s);return(0,b.jsx)(u.Primitive.input,{type:"checkbox","aria-hidden":!0,defaultChecked:_??S.current,required:d,disabled:f,name:g,value:w,form:m,...t,tabIndex:-1,ref:x,style:{...t.style,...C,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});function N(e){return"function"==typeof e}function E(e){return"indeterminate"===e}function D(e){return E(e)?"indeterminate":e?"checked":"unchecked"}S.displayName=j;var T=e.i(94311),R=e.i(67830);function k(e){let r,a,i,o,s,c=(0,n.c)(9);return c[0]!==e?({className:r,...a}=e,c[0]=e,c[1]=r,c[2]=a):(r=c[1],a=c[2]),c[3]!==r?(i=(0,R.cn)("peer border-input dark:bg-input/30 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground dark:data-[state=checked]:bg-primary data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",r),c[3]=r,c[4]=i):i=c[4],c[5]===Symbol.for("react.memo_cache_sentinel")?(o=(0,t.jsx)(C,{"data-slot":"checkbox-indicator",className:"grid place-content-center text-current transition-none",children:(0,t.jsx)(T.CheckIcon,{className:"size-3.5"})}),c[5]=o):o=c[5],c[6]!==a||c[7]!==i?(s=(0,t.jsx)(x,{"data-slot":"checkbox",className:i,...a,children:o}),c[6]=a,c[7]=i,c[8]=s):s=c[8],s}e.s(["Checkbox",()=>k],48719)},31164,e=>{"use strict";var t=e.i(73444),n=e.i(74907),r=e.i(58612);let a=(0,n.createContext)(void 0);function i({children:e,dbName:i}){let[o,s]=(0,n.useState)(null),[c,l]=(0,n.useState)(!0),[_,u]=(0,n.useState)(null),b=async e=>{l(!0),u(null);try{let t=new r.DatabaseClient;await t.open(e),s(t),console.log(`DatabaseProvider: Initialized database "${e}"`)}catch(e){console.error("DatabaseProvider: Initialization failed:",e),u(e)}finally{l(!1)}};(0,n.useEffect)(()=>(b(i),()=>{o&&o.close().catch(e=>{console.error("DatabaseProvider: Failed to close database on unmount:",e)})}),[i]);let d=async e=>{o&&await o.close(),await b(e)},f={db:o,loading:c,error:_,reinitialize:d};return(0,t.jsx)(a.Provider,{value:f,children:e})}function o(){let e=(0,n.useContext)(a);if(void 0===e)throw Error("useDatabase must be used within a DatabaseProvider");return e}e.s(["DatabaseProvider",()=>i,"useDatabase",()=>o])},22731,e=>{"use strict";var t=e.i(73444),n=e.i(75784),r=e.i(74907),a=e.i(31164),i=e.i(7272);let o=(0,e.i(6773).create)(e=>({availableTables:[],selectedTables:[],setAvailableTables:t=>e({availableTables:t}),setSelectedTables:t=>e({selectedTables:t}),reset:()=>e({availableTables:[],selectedTables:[]})}));var s=e.i(4948),c=e.i(63835),l=e.i(12286),_=e.i(67608),u=e.i(91414),b=e.i(48719),d=e.i(72667),f=e.i(40182);let g=e=>"Null"===e.type?null:e.value;function w(){let{db:n,loading:w,error:h}=(0,a.useDatabase)(),m=(0,i.useDatabaseStore)(e=>e.currentDbName),{availableTables:p,selectedTables:y,setAvailableTables:x,setSelectedTables:v}=o(),[C,j]=(0,r.useState)(""),[S,N]=(0,r.useState)([]),[E,D]=(0,r.useState)(!1),[T,R]=(0,r.useState)(null),[k,I]=(0,r.useState)(0),[L,O]=(0,r.useState)(!1),[A,M]=(0,r.useState)(!1),[F,$]=(0,r.useState)(!1),[W,P]=(0,r.useState)("all"),[B,U]=(0,r.useState)(!1),q=r.default.useRef(B),z=r.default.useRef(E);q.current=B,z.current=E,(0,r.useEffect)(()=>{!async function(){try{if(n){window.testDb=n;let{Database:t}=await e.A(61419);window.Database=t;return}let t=(await e.A(61419)).default,{Database:r}=await e.A(61419);await t(),window.Database=r}catch(e){console.error("Failed to initialize WASM:",e)}}()},[n]),(0,r.useEffect)(()=>{window.getSearchState=()=>{let e=o.getState();return{availableTables:e.availableTables,selectedTables:e.selectedTables,showResults:q.current,executing:z.current}}},[]);let H=r.default.useCallback(async()=>{if(n)try{let e=(await n.execute(`
        SELECT name FROM sqlite_master 
        WHERE type='table' 
        AND name NOT LIKE 'sqlite_%'
        ORDER BY name
      `)).rows.map(e=>g(e.values[0]));x(e),v(e)}catch(e){console.error("Error loading tables:",e)}},[n]);(0,r.useEffect)(()=>{window.testDb=n,window.reloadSearchTables=H,window.getZustandSearchState=()=>o.getState(),window.subscribeToSearchStore=o.subscribe,window.Database=s.Database},[n,H]),(0,r.useEffect)(()=>{n&&m&&H()},[n,m,H]),(0,r.useEffect)(()=>{p.length>0&&document.body.setAttribute("data-search-tables-ready","true")},[p]);let V=async()=>{if(n&&C.trim()){D(!0),R(null),N([]),U(!1);try{let e=[],t=o.getState(),r="all"===W?t.availableTables:t.selectedTables;for(let a of(console.log("[SEARCH] Executing search:",{searchScope:W,query:C,availableCount:t.availableTables.length,selectedCount:t.selectedTables.length,tablesToSearchCount:r.length,tablesToSearch:r}),r)){console.log("[SEARCH] Processing table:",a,"type:",typeof a);let t=(await n.execute(`PRAGMA table_info(${a})`)).rows.map(e=>({name:g(e.values[1]),type:g(e.values[2])})),r=t.find(e=>"id"===e.name||"rowid"===e.name)||t[0];for(let i of t){let t;if("BLOB"===i.type.toUpperCase())continue;let o=C;t=F?`SELECT * FROM ${a}`:A?L?`SELECT * FROM ${a} WHERE ${i.name} = '${o.replace(/'/g,"''")}'`:`SELECT * FROM ${a} WHERE LOWER(${i.name}) = LOWER('${o.replace(/'/g,"''")}')`:L?`SELECT * FROM ${a}`:`SELECT * FROM ${a} WHERE LOWER(${i.name}) LIKE LOWER('%${o.replace(/'/g,"''")}%')`;try{console.log("[SEARCH] Executing SQL:",t);let s=await n.execute(t);console.log("[SEARCH] SQL succeeded, rows:",s.rows.length);let c=s.columns.indexOf(r.name),l=s.columns.indexOf(i.name);for(let t of s.rows){let n=String(g(t.values[l])||""),r=g(t.values[c]);if(F)try{if(!new RegExp(o,L?"":"i").test(n))continue}catch(e){R("Invalid regex pattern"),D(!1);return}if(!F&&!A&&L&&!n.includes(o))continue;let _={};for(let e=0;e<s.columns.length;e++){let n=s.columns[e],r=g(t.values[e]);_[n]=r}e.push({table:a,column:i.name,rowId:r,value:n,matchedText:o,context:_})}}catch(e){console.error(`Error searching column ${i.name} in ${a}:`,e)}}}N(e),I(e.length),U(!0),console.log("[SEARCH] Completed successfully:",{resultCount:e.length,showResults:!0})}catch(e){console.error("[SEARCH] Error:",e),R(e instanceof Error?e.message:"Search failed"),U(!0)}finally{D(!1)}}},K=()=>{if(0===S.length)return;let e=new Blob(["Table,Column,Row ID,Value\n"+S.map(e=>`"${e.table}","${e.column}",${e.rowId},"${e.value.replace(/"/g,'""')}"`).join("\n")],{type:"text/csv"}),t=URL.createObjectURL(e),n=document.createElement("a");n.href=t,n.download=`search-results-${Date.now()}.csv`,n.click(),URL.revokeObjectURL(t)},J=()=>{N([]),U(!1),I(0),R(null)},Q=(e,n)=>{let r;if(!n||!e)return(0,t.jsx)("span",{children:e});if(F)try{let a=RegExp(`(${n})`,L?"g":"gi");r=e.split(a).map((e,n)=>a.test(e)?(0,t.jsx)("mark",{className:"bg-yellow-200 dark:bg-yellow-800",children:e},n):(0,t.jsx)("span",{children:e},n))}catch{return(0,t.jsx)("span",{children:e})}else{if(A)return(L?e===n:e.toLowerCase()===n.toLowerCase())?(0,t.jsx)("mark",{className:"bg-yellow-200 dark:bg-yellow-800",children:e}):(0,t.jsx)("span",{children:e});let a=RegExp(`(${n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")})`,L?"g":"gi");r=e.split(a).map((e,r)=>(L?e===n:e.toLowerCase()===n.toLowerCase())?(0,t.jsx)("mark",{className:"bg-yellow-200 dark:bg-yellow-800",children:e},r):(0,t.jsx)("span",{children:e},r))}return(0,t.jsx)(t.Fragment,{children:r})},G=e=>{y.includes(e)?v(y.filter(t=>t!==e)):v([...y,e])};return w?(0,t.jsx)("div",{className:"p-8",children:"Loading database..."}):h?(0,t.jsxs)("div",{className:"p-8 text-red-600",children:["Error: ",String(h)]}):m?(0,t.jsxs)("div",{className:"container mx-auto p-6 space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-3xl font-bold mb-2",children:"Full-Text Search"}),(0,t.jsx)("p",{className:"text-muted-foreground",children:"Search for data across all tables and columns in your database"})]}),(0,t.jsxs)(l.Card,{children:[(0,t.jsxs)(l.CardHeader,{children:[(0,t.jsx)(l.CardTitle,{children:"Search"}),(0,t.jsx)(l.CardDescription,{children:"Enter your search query"})]}),(0,t.jsxs)(l.CardContent,{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)(_.Input,{id:"searchInput",type:"text",placeholder:"Search for data...",value:C,onChange:e=>j(e.target.value),onKeyDown:e=>{"Enter"===e.key&&C.trim()&&V()},className:"flex-1"}),(0,t.jsx)(c.Button,{id:"searchButton",onClick:V,disabled:!C.trim()||E,children:E?"Searching...":"Search"}),B&&(0,t.jsx)(c.Button,{id:"clearResults",variant:"outline",onClick:J,children:"Clear"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 pt-4 border-t",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(b.Checkbox,{id:"caseSensitive",checked:L,onCheckedChange:e=>O(e)}),(0,t.jsx)(u.Label,{htmlFor:"caseSensitive",className:"text-sm font-normal",children:"Case-sensitive"})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(b.Checkbox,{id:"exactMatch",checked:A,onCheckedChange:e=>M(e)}),(0,t.jsx)(u.Label,{htmlFor:"exactMatch",className:"text-sm font-normal",children:"Exact match"})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(b.Checkbox,{id:"useRegex",checked:F,onCheckedChange:e=>$(e)}),(0,t.jsx)(u.Label,{htmlFor:"useRegex",className:"text-sm font-normal",children:"Regex pattern"})]})]}),(0,t.jsxs)("div",{className:"space-y-3 pt-4 border-t",children:[(0,t.jsx)(u.Label,{htmlFor:"searchScope",children:"Search Scope"}),(0,t.jsxs)(d.Select,{value:W,onValueChange:e=>P(e),children:[(0,t.jsx)(d.SelectTrigger,{id:"searchScope",children:(0,t.jsx)(d.SelectValue,{placeholder:"Select scope"})}),(0,t.jsxs)(d.SelectContent,{children:[(0,t.jsx)(d.SelectItem,{value:"all",children:"All tables"}),(0,t.jsx)(d.SelectItem,{value:"selected",children:"Selected tables"})]})]}),"selected"===W&&(0,t.jsxs)("div",{className:"space-y-2 max-h-60 overflow-y-auto border rounded-md p-3",children:[(0,t.jsx)(u.Label,{className:"text-sm font-medium",children:"Select Tables"}),p.map(e=>(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(b.Checkbox,{id:`table-${e}`,value:e,checked:y.includes(e),onCheckedChange:()=>G(e)}),(0,t.jsx)(u.Label,{htmlFor:`table-${e}`,className:"text-sm font-normal cursor-pointer",children:e})]},e))]})]})]})]}),T&&(0,t.jsx)(l.Card,{className:"border-red-500",children:(0,t.jsx)(l.CardContent,{className:"pt-6",children:(0,t.jsx)("p",{className:"text-red-600",children:T})})}),B&&(0,t.jsxs)(l.Card,{id:"searchResults","data-testid":"search-results",children:[(0,t.jsx)(l.CardHeader,{children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(l.CardTitle,{children:"Search Results"}),(0,t.jsxs)(l.CardDescription,{id:"resultCount",children:[k," ",1===k?"result":"results"," found"]})]}),k>0&&(0,t.jsx)(c.Button,{id:"exportResults",variant:"outline",onClick:K,children:"Export Results"})]})}),(0,t.jsx)(l.CardContent,{children:0===k?(0,t.jsx)("p",{className:"text-muted-foreground",children:"No results found"}):(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)(f.Table,{children:[(0,t.jsx)(f.TableHeader,{children:(0,t.jsxs)(f.TableRow,{children:[(0,t.jsx)(f.TableHead,{"data-column":"table",children:"Table"}),(0,t.jsx)(f.TableHead,{"data-column":"column",children:"Column"}),(0,t.jsx)(f.TableHead,{"data-column":"rowId",children:"Row ID"}),(0,t.jsx)(f.TableHead,{children:"Matched Value"})]})}),(0,t.jsx)(f.TableBody,{children:S.map((e,n)=>(0,t.jsxs)(f.TableRow,{children:[(0,t.jsx)(f.TableCell,{className:"result-table",children:e.table}),(0,t.jsx)(f.TableCell,{className:"result-column",children:e.column}),(0,t.jsx)(f.TableCell,{className:"row-id",children:e.rowId}),(0,t.jsx)(f.TableCell,{className:"max-w-md truncate",children:Q(e.value,e.matchedText)})]},n))})]})})})]})]}):(0,t.jsx)("div",{className:"p-8",children:(0,t.jsx)(l.Card,{children:(0,t.jsxs)(l.CardHeader,{children:[(0,t.jsx)(l.CardTitle,{children:"No Database Selected"}),(0,t.jsx)(l.CardDescription,{children:"Please create or load a database from the database management page."})]})})})}function h(){let e,r,o=(0,n.c)(4),s=(0,i.useDatabaseStore)(m);if(!s){let e;return o[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,t.jsx)("div",{className:"container mx-auto p-8",children:(0,t.jsx)("div",{className:"text-center text-gray-600",children:"No database selected. Please create or open a database first."})}),o[0]=e):e=o[0],e}return o[1]===Symbol.for("react.memo_cache_sentinel")?(e=(0,t.jsx)(w,{}),o[1]=e):e=o[1],o[2]!==s?(r=(0,t.jsx)(a.DatabaseProvider,{dbName:s,children:e}),o[2]=s,o[3]=r):r=o[3],r}function m(e){return e.currentDbName}e.s(["default",()=>h],22731)},61419,e=>{e.v(e=>Promise.resolve().then(()=>e(4948)))}]);