{"version":3,"sources":["turbopack:///[project]/pwa/app/db/browse/page.tsx"],"sourcesContent":["'use client';\n\nimport { useState, useEffect } from 'react';\nimport { useDatabaseStore } from '@/lib/db/store';\nimport {\n  Table,\n  TableBody,\n  TableCell,\n  TableHead,\n  TableHeader,\n  TableRow,\n} from '@/components/ui/table';\nimport {\n  Select,\n  SelectContent,\n  SelectItem,\n  SelectTrigger,\n  SelectValue,\n} from '@/components/ui/select';\nimport { Button } from '@/components/ui/button';\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card';\nimport {\n  Dialog,\n  DialogContent,\n  DialogDescription,\n  DialogFooter,\n  DialogHeader,\n  DialogTitle,\n  DialogTrigger,\n} from '@/components/ui/dialog';\nimport { Checkbox } from '@/components/ui/checkbox';\nimport { Label } from '@/components/ui/label';\nimport { Input } from '@/components/ui/input';\n\ninterface TableInfo {\n  name: string;\n  rowCount: number;\n}\n\ninterface ColumnInfo {\n  name: string;\n  type: string;\n}\n\ninterface EditingCell {\n  rowIndex: number;\n  columnIndex: number;\n  value: any;\n}\n\ninterface Filter {\n  column: string;\n  operator: string;\n  value: string;\n}\n\ninterface SortConfig {\n  column: string;\n  direction: 'ASC' | 'DESC';\n}\n\ninterface ForeignKey {\n  id: number;\n  seq: number;\n  table: string;\n  from: string;\n  to: string;\n  on_update: string;\n  on_delete: string;\n  match: string;\n}\n\ninterface NavigationHistoryItem {\n  table: string;\n  page: number;\n  filters: Filter[];\n  sort: SortConfig | null;\n}\n\nexport default function DataBrowserPage() {\n  const { db, setDb, showSystemTables, setShowSystemTables } = useDatabaseStore();\n\n  // Track window.testDb for E2E tests\n  const [windowTestDb, setWindowTestDb] = useState<any>(null);\n\n  // For E2E tests: check both Zustand store and window.testDb\n  const activeDb = db || windowTestDb;\n\n  const [tables, setTables] = useState<TableInfo[]>([]);\n  const [selectedTable, setSelectedTable] = useState<string>('');\n  const [columns, setColumns] = useState<ColumnInfo[]>([]);\n  const [data, setData] = useState<any[]>([]);\n  const [initializing, setInitializing] = useState(true);\n  const [loading, setLoading] = useState(false);\n  const [pageSize, setPageSize] = useState<number>(100);\n  const [currentPage, setCurrentPage] = useState<number>(1);\n  const [totalRows, setTotalRows] = useState<number>(0);\n  const [editingCell, setEditingCell] = useState<EditingCell | null>(null);\n  const [editValue, setEditValue] = useState<string>('');\n  const [editFile, setEditFile] = useState<File | null>(null);\n  const [selectedRows, setSelectedRows] = useState<Set<number>>(new Set());\n  const [showDeleteDialog, setShowDeleteDialog] = useState(false);\n  const [deleteTarget, setDeleteTarget] = useState<{ type: 'single' | 'bulk', rowId?: number } | null>(null);\n  const [sortConfig, setSortConfig] = useState<SortConfig | null>(null);\n  const [filters, setFilters] = useState<Filter[]>([]);\n  const [showFilterPanel, setShowFilterPanel] = useState(false);\n  const [newFilter, setNewFilter] = useState<Filter>({ column: '', operator: 'equals', value: '' });\n  const [foreignKeys, setForeignKeys] = useState<ForeignKey[]>([]);\n  const [navigationHistory, setNavigationHistory] = useState<NavigationHistoryItem[]>([]);\n  const [exportDialogOpen, setExportDialogOpen] = useState(false);\n  const [exportOptions, setExportOptions] = useState({\n    includeHeaders: true,\n    delimiter: 'comma' as 'comma' | 'semicolon' | 'tab' | 'pipe',\n    quoteAllFields: false,\n    lineEnding: 'LF' as 'LF' | 'CRLF',\n    nullHandling: 'empty' as 'empty' | 'null',\n    selectedColumns: [] as string[],\n  });\n  const [jsonExportDialogOpen, setJsonExportDialogOpen] = useState(false);\n  const [jsonExportOptions, setJsonExportOptions] = useState({\n    prettyPrint: true,\n    format: 'array' as 'array' | 'object',\n    selectedColumns: [] as string[],\n  });\n  const [sqlExportDialogOpen, setSqlExportDialogOpen] = useState(false);\n  const [sqlExportOptions, setSqlExportOptions] = useState({\n    dropTableIfExists: false,\n    includeTransactions: true,\n    batchSize: 100,\n    selectedColumns: [] as string[],\n  });\n\n  // Initialize WASM and expose testDb globally for E2E tests\n  useEffect(() => {\n    if (typeof window === 'undefined') return;\n\n    async function initializeWasm() {\n      try {\n        // Always expose Database class, even if db exists\n        const { Database } = await import('@npiesco/absurder-sql');\n        (window as any).Database = Database;\n\n        // If db exists from Zustand, expose it as testDb\n        if (db) {\n          (window as any).testDb = db;\n          return;\n        }\n\n        // Otherwise, initialize WASM\n        const init = (await import('@npiesco/absurder-sql')).default;\n        await init();\n      } catch (err: any) {\n        console.error('Failed to initialize WASM:', err);\n      }\n    }\n\n    initializeWasm();\n  }, [db]);\n\n  // Sync window.testDb to component state (for E2E tests)\n  useEffect(() => {\n    if (typeof window === 'undefined') return;\n\n    const checkTestDb = () => {\n      const testDb = (window as any).testDb;\n      if (testDb && !windowTestDb) {\n        console.log('[BrowsePage] Detected window.testDb, updating state');\n        setWindowTestDb(testDb);\n      }\n    };\n\n    checkTestDb();\n    const interval = setInterval(checkTestDb, 50);\n    return () => clearInterval(interval);\n  }, [windowTestDb]);\n\n  // Load tables when db is available\n  useEffect(() => {\n    if (activeDb) {\n      loadTables();\n    }\n  }, [activeDb]);\n\n  // Reload tables when showSystemTables toggle changes\n  useEffect(() => {\n    if (activeDb) {\n      loadTables();\n    }\n  }, [showSystemTables]);\n\n  // Load data when table, pagination, filters, or sort changes\n  useEffect(() => {\n    if (selectedTable && activeDb) {\n      loadTableData();\n    }\n  }, [activeDb, selectedTable, currentPage, pageSize, filters, sortConfig]);\n\n  const loadTables = async () => {\n    if (!activeDb) return;\n\n    try {\n      setLoading(true);\n      const query = showSystemTables\n        ? \"SELECT name FROM sqlite_master WHERE type='table' ORDER BY name\"\n        : \"SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite_%' ORDER BY name\";\n      const result = await activeDb.execute(query);\n\n      const tableList: TableInfo[] = [];\n      for (const row of result.rows) {\n        const tableName = row.values[0].value as string;\n        // Get row count for each table\n        const countResult = await activeDb.execute(`SELECT COUNT(*) FROM ${tableName}`);\n        const rowCount = countResult.rows[0].values[0].value as number;\n        tableList.push({ name: tableName, rowCount });\n      }\n\n      setTables(tableList);\n    } catch (err) {\n      console.error('Error loading tables:', err);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const buildWhereClause = () => {\n    if (filters.length === 0) return '';\n    \n    const conditions = filters.map(filter => {\n      const { column, operator, value } = filter;\n      \n      switch (operator) {\n        case 'equals':\n          return `${column} = '${value.replace(/'/g, \"''\")}'`;\n        case 'contains':\n          return `${column} LIKE '%${value.replace(/'/g, \"''\")}%'`;\n        case 'starts_with':\n          return `${column} LIKE '${value.replace(/'/g, \"''\")}%'`;\n        case 'greater_than':\n          return `${column} > ${value}`;\n        case 'less_than':\n          return `${column} < ${value}`;\n        case 'greater_equal':\n          return `${column} >= ${value}`;\n        case 'less_equal':\n          return `${column} <= ${value}`;\n        case 'not_equal':\n          return `${column} != '${value.replace(/'/g, \"''\")}'`;\n        case 'is_null':\n          return `${column} IS NULL`;\n        case 'is_not_null':\n          return `${column} IS NOT NULL`;\n        default:\n          return `${column} = '${value.replace(/'/g, \"''\")}'`;\n      }\n    });\n    \n    return ` WHERE ${conditions.join(' AND ')}`;\n  };\n\n  const buildOrderByClause = () => {\n    if (!sortConfig) return '';\n    return ` ORDER BY ${sortConfig.column} ${sortConfig.direction}`;\n  };\n\n  const loadTableData = async () => {\n    if (!activeDb ||!selectedTable) return;\n\n    try {\n      setLoading(true);\n\n      // Get column info\n      const columnsResult = await activeDb.execute(`PRAGMA table_info(${selectedTable})`);\n      const cols: ColumnInfo[] = columnsResult.rows.map((row: any) => ({\n        name: row.values[1].value as string,\n        type: row.values[2].value as string,\n      }));\n      setColumns(cols);\n\n      // Get foreign key relationships\n      const fkResult = await activeDb.execute(`PRAGMA foreign_key_list(${selectedTable})`);\n      const fks: ForeignKey[] = fkResult.rows.map((row: any) => ({\n        id: row.values[0].value as number,\n        seq: row.values[1].value as number,\n        table: row.values[2].value as string,\n        from: row.values[3].value as string,\n        to: row.values[4].value as string,\n        on_update: row.values[5].value as string,\n        on_delete: row.values[6].value as string,\n        match: row.values[7].value as string,\n      }));\n      setForeignKeys(fks);\n\n      // Build query with filters and sorting\n      const whereClause = buildWhereClause();\n      const orderByClause = buildOrderByClause();\n\n      // Get total row count with filters\n      const countQuery = `SELECT COUNT(*) FROM ${selectedTable}${whereClause}`;\n      const countResult = await activeDb.execute(countQuery);\n      const total = countResult.rows[0].values[0].value;\n      setTotalRows(total);\n\n      // Get paginated data with filters and sorting\n      const offset = (currentPage - 1) * pageSize;\n      const dataQuery = `SELECT rowid as _rowid_, * FROM ${selectedTable}${whereClause}${orderByClause} LIMIT ${pageSize} OFFSET ${offset}`;\n      const dataResult = await activeDb.execute(dataQuery);\n\n      setData(dataResult.rows);\n    } catch (err) {\n      console.error('Error loading table data:', err);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleTableChange = (tableName: string) => {\n    setSelectedTable(tableName);\n    setCurrentPage(1);\n    setSortConfig(null);\n    setFilters([]);\n  };\n\n  const handlePageSizeChange = (newSize: string) => {\n    setPageSize(parseInt(newSize));\n    setCurrentPage(1);\n  };\n\n  const handleNextPage = () => {\n    const totalPages = Math.ceil(totalRows / pageSize);\n    if (currentPage < totalPages) {\n      setCurrentPage(currentPage + 1);\n    }\n  };\n\n  const handlePreviousPage = () => {\n    if (currentPage > 1) {\n      setCurrentPage(currentPage - 1);\n    }\n  };\n\n  const handleSort = (columnName: string) => {\n    if (sortConfig?.column === columnName) {\n      // Toggle direction\n      setSortConfig({\n        column: columnName,\n        direction: sortConfig.direction === 'ASC' ? 'DESC' : 'ASC'\n      });\n    } else {\n      // New column, start with ASC\n      setSortConfig({ column: columnName, direction: 'ASC' });\n    }\n    setCurrentPage(1);\n  };\n\n  const handleAddFilter = () => {\n    if (newFilter.column && newFilter.operator) {\n      setFilters([...filters, newFilter]);\n      setNewFilter({ column: '', operator: 'equals', value: '' });\n      setCurrentPage(1);\n    }\n  };\n\n  const handleClearFilters = () => {\n    setFilters([]);\n    setCurrentPage(1);\n  };\n\n  const handleRemoveFilter = (index: number) => {\n    const updatedFilters = filters.filter((_, i) => i !== index);\n    setFilters(updatedFilters);\n    setCurrentPage(1);\n  };\n\n  const handleForeignKeyClick = (columnName: string, fkValue: any) => {\n    // Find the FK relationship for this column\n    const fk = foreignKeys.find(fk => fk.from === columnName);\n    if (!fk || fkValue === null || fkValue === undefined) return;\n\n    // Save current state to navigation history\n    setNavigationHistory([...navigationHistory, {\n      table: selectedTable,\n      page: currentPage,\n      filters: filters,\n      sort: sortConfig\n    }]);\n\n    // Navigate to related table with filter\n    setSelectedTable(fk.table);\n    setFilters([{\n      column: fk.to,\n      operator: 'equals',\n      value: String(fkValue)\n    }]);\n    setCurrentPage(1);\n    setSortConfig(null);\n  };\n\n  const handleBackNavigation = () => {\n    if (navigationHistory.length === 0) return;\n\n    const previous = navigationHistory[navigationHistory.length - 1];\n    const newHistory = navigationHistory.slice(0, -1);\n    \n    setNavigationHistory(newHistory);\n    setSelectedTable(previous.table);\n    setCurrentPage(previous.page);\n    setFilters(previous.filters);\n    setSortConfig(previous.sort);\n  };\n\n  const isForeignKeyColumn = (columnName: string): boolean => {\n    return foreignKeys.some(fk => fk.from === columnName);\n  };\n\n  const getForeignKeyInfo = (columnName: string): ForeignKey | undefined => {\n    return foreignKeys.find(fk => fk.from === columnName);\n  };\n\n  const handleCellDoubleClick = (rowIndex: number, columnIndex: number, value: any) => {\n    setEditingCell({ rowIndex, columnIndex, value });\n    setEditValue(value !== null && value !== undefined ? String(value) : '');\n    setEditFile(null);\n  };\n\n  const handleFileChange = async (e: React.ChangeEvent<HTMLInputElement>) => {\n    const file = e.target.files?.[0];\n    if (file) {\n      // Auto-save immediately with the file\n      await handleSaveEditWithFile(file);\n    }\n  };\n\n  const handleSaveEditWithFile = async (file: File) => {\n    if (!editingCell || !activeDb || !selectedTable) return;\n\n    try {\n      const row = data[editingCell.rowIndex];\n      const rowId = row.values[0].value;\n      const column = columns[editingCell.columnIndex];\n      \n      const arrayBuffer = await file.arrayBuffer();\n      const newValue = new Uint8Array(arrayBuffer);\n      \n      const updateQuery = `UPDATE ${selectedTable} SET ${column.name} = ? WHERE rowid = ?`;\n      const params = [\n        { type: 'Blob', value: Array.from(newValue) },\n        { type: 'Integer', value: rowId }\n      ];\n      \n      await activeDb.executeWithParams(updateQuery, params);\n\n      const newData = [...data];\n      newData[editingCell.rowIndex].values[editingCell.columnIndex + 1].value = Array.from(newValue);\n      setData(newData);\n\n      setEditingCell(null);\n      setEditValue('');\n      setEditFile(null);\n    } catch (err) {\n      console.error('Error saving BLOB:', err);\n    }\n  };\n\n  const handleSaveEdit = async () => {\n    if (!editingCell || !activeDb || !selectedTable) return;\n\n    try {\n      const row = data[editingCell.rowIndex];\n      const rowId = row.values[0].value;\n      const column = columns[editingCell.columnIndex];\n      \n      let newValue: any = editValue;\n      \n      // Handle BLOB columns\n      if (isBlobColumn(column.type)) {\n        if (editFile) {\n          const arrayBuffer = await editFile.arrayBuffer();\n          newValue = new Uint8Array(arrayBuffer);\n        } else {\n          newValue = null;\n        }\n      } else if (editValue === '' || editValue.toLowerCase() === 'null') {\n        newValue = null;\n      } else if (column.type.includes('INT')) {\n        newValue = parseInt(editValue);\n      } else if (column.type.includes('REAL') || column.type.includes('FLOAT') || column.type.includes('DOUBLE') || column.type.includes('NUMERIC')) {\n        newValue = parseFloat(editValue);\n      }\n\n      // Update database\n      const updateQuery = `UPDATE ${selectedTable} SET ${column.name} = ? WHERE rowid = ?`;\n      const params = [\n        newValue === null ? { type: 'Null', value: null } : \n        newValue instanceof Uint8Array ? { type: 'Blob', value: Array.from(newValue) } :\n        typeof newValue === 'number' && Number.isInteger(newValue) ? { type: 'Integer', value: newValue } :\n        typeof newValue === 'number' ? { type: 'Real', value: newValue } :\n        { type: 'Text', value: String(newValue) },\n        { type: 'Integer', value: rowId }\n      ];\n      \n      // Execute the UPDATE\n      await activeDb.executeWithParams(updateQuery, params);\n\n      // Update local data\n      const newData = [...data];\n      // For BLOB columns, store as number array to match DB format\n      const displayValue = newValue instanceof Uint8Array ? Array.from(newValue) : newValue;\n      newData[editingCell.rowIndex].values[editingCell.columnIndex + 1].value = displayValue;\n      setData(newData);\n\n      // Exit edit mode\n      setEditingCell(null);\n      setEditValue('');\n      setEditFile(null);\n    } catch (err) {\n      console.error('Error saving edit:', err);\n      // Keep in edit mode on error\n    }\n  };\n\n  const handleCancelEdit = () => {\n    setEditingCell(null);\n    setEditValue('');\n    setEditFile(null);\n  };\n\n  const handleKeyDown = async (e: React.KeyboardEvent) => {\n    if (e.key === 'Enter' && !e.shiftKey) {\n      e.preventDefault();\n      await handleSaveEdit();\n    } else if (e.key === 'Escape') {\n      e.preventDefault();\n      handleCancelEdit();\n    }\n  };\n\n  const getInputType = (columnType: string): string => {\n    const type = columnType.toUpperCase();\n    if (type.includes('INT')) return 'number';\n    if (type.includes('REAL') || type.includes('FLOAT') || type.includes('DOUBLE') || type.includes('NUMERIC')) return 'number';\n    if (type.includes('BLOB')) return 'file';\n    return 'text';\n  };\n\n  const isBlobColumn = (columnType: string): boolean => {\n    return columnType.toUpperCase().includes('BLOB');\n  };\n\n  const formatBlobSize = (bytes: number): string => {\n    if (bytes < 1024) return `${bytes} B`;\n    if (bytes < 1024 * 1024) return `${(bytes / 1024).toFixed(2)} KB`;\n    return `${(bytes / (1024 * 1024)).toFixed(2)} MB`;\n  };\n\n  const isImageBlob = (data: Uint8Array): boolean => {\n    if (data.length < 4) return false;\n    // PNG: 89 50 4E 47\n    if (data[0] === 0x89 && data[1] === 0x50 && data[2] === 0x4E && data[3] === 0x47) return true;\n    // JPEG: FF D8 FF\n    if (data[0] === 0xFF && data[1] === 0xD8 && data[2] === 0xFF) return true;\n    // GIF: 47 49 46\n    if (data[0] === 0x47 && data[1] === 0x49 && data[2] === 0x46) return true;\n    // WebP: 52 49 46 46 ... 57 45 42 50\n    if (data[0] === 0x52 && data[1] === 0x49 && data[2] === 0x46 && data[3] === 0x46 && data.length > 12) {\n      if (data[8] === 0x57 && data[9] === 0x45 && data[10] === 0x42 && data[11] === 0x50) return true;\n    }\n    return false;\n  };\n\n  const blobToDataURL = (data: Uint8Array, mimeType: string = 'image/png'): string => {\n    const blob = new Blob([data as any], { type: mimeType });\n    return URL.createObjectURL(blob);\n  };\n\n  const handleBlobDownload = (data: Uint8Array, filename: string = 'download.bin') => {\n    const blob = new Blob([data as any]);\n    const url = URL.createObjectURL(blob);\n    const a = document.createElement('a');\n    a.href = url;\n    a.download = filename;\n    document.body.appendChild(a);\n    a.click();\n    document.body.removeChild(a);\n    URL.revokeObjectURL(url);\n  };\n\n  const handleAddRow = async () => {\n    if (!activeDb ||!selectedTable) return;\n\n    try {\n      setLoading(true);\n\n      // Use simple INSERT with DEFAULT VALUES to let SQLite handle defaults\n      await activeDb.execute(`INSERT INTO ${selectedTable} DEFAULT VALUES`);\n\n      // Reload data\n      await loadTableData();\n    } catch (err) {\n      console.error('Error adding row:', err);\n      // If DEFAULT VALUES fails, try with explicit NULL values\n      try {\n        const columnNames = columns.map(col => col.name).join(', ');\n        const placeholders = columns.map(() => '?').join(', ');\n        const params = columns.map(() => ({ type: 'Null', value: null }));\n\n        await activeDb.executeWithParams(\n          `INSERT INTO ${selectedTable} (${columnNames}) VALUES (${placeholders})`,\n          params\n        );\n        await loadTableData();\n      } catch (fallbackErr) {\n        console.error('Error adding row (fallback):', fallbackErr);\n      }\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleDeleteRow = (rowId: number) => {\n    setDeleteTarget({ type: 'single', rowId });\n    setShowDeleteDialog(true);\n  };\n\n  const handleDeleteSelected = () => {\n    if (selectedRows.size === 0) return;\n    setDeleteTarget({ type: 'bulk' });\n    setShowDeleteDialog(true);\n  };\n\n  const handleConfirmDelete = async () => {\n    if (!activeDb ||!selectedTable || !deleteTarget) return;\n\n    try {\n      setLoading(true);\n\n      if (deleteTarget.type === 'single' && deleteTarget.rowId !== undefined) {\n        // Delete single row\n        await activeDb.executeWithParams(\n          `DELETE FROM ${selectedTable} WHERE rowid = ?`,\n          [{ type: 'Integer', value: deleteTarget.rowId }]\n        );\n      } else if (deleteTarget.type === 'bulk') {\n        // Delete multiple rows\n        const rowIds = Array.from(selectedRows);\n        for (const rowId of rowIds) {\n          await activeDb.executeWithParams(\n            `DELETE FROM ${selectedTable} WHERE rowid = ?`,\n            [{ type: 'Integer', value: rowId }]\n          );\n        }\n        setSelectedRows(new Set());\n      }\n\n      // Reload data\n      await loadTableData();\n      setShowDeleteDialog(false);\n      setDeleteTarget(null);\n    } catch (err) {\n      console.error('Error deleting row(s):', err);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleCancelDelete = () => {\n    setShowDeleteDialog(false);\n    setDeleteTarget(null);\n  };\n\n  // Export filtered data\n  const getFilteredData = async () => {\n    if (!activeDb ||!selectedTable) return null;\n\n    const whereClause = buildWhereClause();\n    const orderByClause = buildOrderByClause();\n    \n    // Get ALL filtered data (not paginated)\n    const query = `SELECT * FROM ${selectedTable}${whereClause}${orderByClause}`;\n    const result = await activeDb.execute(query);\n    \n    return {\n      columns: columns.map(c => c.name),\n      rows: result.rows\n    };\n  };\n\n  const exportToFilteredCSVWithOptions = async (options: typeof exportOptions) => {\n    const data = await getFilteredData();\n    if (!data) return;\n\n    const columnsToExport = options.selectedColumns.length > 0 ? options.selectedColumns : data.columns;\n    if (columnsToExport.length === 0) return;\n\n    const csvLines: string[] = [];\n    const delimiterMap = { comma: ',', semicolon: ';', tab: '\\t', pipe: '|' };\n    const delimiter = delimiterMap[options.delimiter];\n    const lineEnding = options.lineEnding === 'CRLF' ? '\\r\\n' : '\\n';\n\n    const formatValue = (col: any): string => {\n      if (col.type === 'Null') {\n        return options.nullHandling === 'null' ? 'NULL' : '';\n      }\n      let value = String(col.value);\n      if (options.quoteAllFields || value.includes(delimiter) || value.includes('\"') || value.includes('\\n')) {\n        return `\"${value.replace(/\"/g, '\"\"')}\"`;\n      }\n      return value;\n    };\n\n    if (options.includeHeaders) {\n      const headers = columnsToExport.map(col => options.quoteAllFields ? `\"${col}\"` : col).join(delimiter);\n      csvLines.push(headers);\n    }\n\n    data.rows.forEach((row: any) => {\n      const values = columnsToExport.map(colName => {\n        const colIndex = data.columns.indexOf(colName);\n        return formatValue(row.values[colIndex]);\n      }).join(delimiter);\n      csvLines.push(values);\n    });\n\n    const csvContent = csvLines.join(lineEnding);\n    const blob = new Blob([csvContent], { type: 'text/csv;charset=utf-8;' });\n    const link = document.createElement('a');\n    link.href = URL.createObjectURL(blob);\n    link.download = `${selectedTable}_filtered.csv`;\n    link.click();\n    setExportDialogOpen(false);\n  };\n\n  const exportToFilteredCSV = () => {\n    exportToFilteredCSVWithOptions(exportOptions);\n  };\n\n  const exportToFilteredJSONWithOptions = async (options: typeof jsonExportOptions) => {\n    const data = await getFilteredData();\n    if (!data) return;\n\n    const columnsToExport = options.selectedColumns.length > 0 ? options.selectedColumns : data.columns;\n    if (columnsToExport.length === 0) return;\n\n    let jsonData: any;\n\n    if (options.format === 'array') {\n      jsonData = data.rows.map((row: any) => {\n        const obj: Record<string, any> = {};\n        columnsToExport.forEach((col) => {\n          const index = data.columns.indexOf(col);\n          if (index !== -1) {\n            const value = row.values[index];\n            obj[col] = value.type === 'Null' ? null : value.value;\n          }\n        });\n        return obj;\n      });\n    } else {\n      jsonData = {};\n      data.rows.forEach((row: any) => {\n        const obj: Record<string, any> = {};\n        const firstCol = row.values[0];\n        let idKey: string;\n        if (firstCol.type === 'Null') {\n          idKey = 'null';\n        } else if (Array.isArray(firstCol.value)) {\n          idKey = JSON.stringify(firstCol.value);\n        } else {\n          idKey = String(firstCol.value);\n        }\n        \n        columnsToExport.forEach((col) => {\n          const index = data.columns.indexOf(col);\n          if (index !== -1) {\n            const value = row.values[index];\n            obj[col] = value.type === 'Null' ? null : value.value;\n          }\n        });\n        \n        jsonData[idKey] = obj;\n      });\n    }\n\n    const jsonString = options.prettyPrint ? JSON.stringify(jsonData, null, 2) : JSON.stringify(jsonData);\n    const blob = new Blob([jsonString], { type: 'application/json' });\n    const link = document.createElement('a');\n    link.href = URL.createObjectURL(blob);\n    link.download = `${selectedTable}_filtered.json`;\n    link.click();\n    setJsonExportDialogOpen(false);\n  };\n\n  const exportToFilteredJSON = () => {\n    exportToFilteredJSONWithOptions(jsonExportOptions);\n  };\n\n  const exportToFilteredSQLWithOptions = async (options: typeof sqlExportOptions) => {\n    const data = await getFilteredData();\n    if (!data) return;\n\n    const columnsToExport = options.selectedColumns.length > 0 ? options.selectedColumns : data.columns;\n    if (columnsToExport.length === 0) return;\n\n    const sqlLines: string[] = [];\n    const tableName = selectedTable;\n\n    if (options.includeTransactions) {\n      sqlLines.push('BEGIN TRANSACTION;');\n      sqlLines.push('');\n    }\n\n    if (options.dropTableIfExists) {\n      sqlLines.push(`DROP TABLE IF EXISTS ${tableName};`);\n      sqlLines.push('');\n    }\n\n    // Generate CREATE TABLE\n    const columnDefs = columnsToExport.map((col) => {\n      const colInfo = columns.find(c => c.name === col);\n      const sqlType = colInfo?.type || 'TEXT';\n      return `  ${col} ${sqlType}`;\n    }).join(',\\n');\n    sqlLines.push(`CREATE TABLE ${tableName} (`);\n    sqlLines.push(columnDefs);\n    sqlLines.push(');');\n    sqlLines.push('');\n\n    // Generate INSERT statements in batches\n    if (data.rows.length > 0) {\n      for (let i = 0; i < data.rows.length; i += options.batchSize) {\n        const batch = data.rows.slice(i, i + options.batchSize);\n        const valueRows = batch.map((row: any) => {\n          const values = columnsToExport.map(colName => {\n            const colIndex = data.columns.indexOf(colName);\n            const col = row.values[colIndex];\n            if (col.type === 'Null') {\n              return 'NULL';\n            } else if (col.type === 'Integer' || col.type === 'Real') {\n              return String(col.value);\n            } else {\n              const escapedValue = String(col.value).replace(/'/g, \"''\");\n              return `'${escapedValue}'`;\n            }\n          }).join(', ');\n          return `  (${values})`;\n        }).join(',\\n');\n\n        sqlLines.push(`INSERT INTO ${tableName} (${columnsToExport.join(', ')}) VALUES`);\n        sqlLines.push(valueRows + ';');\n        sqlLines.push('');\n      }\n    }\n\n    if (options.includeTransactions) {\n      sqlLines.push('COMMIT;');\n    }\n\n    const sqlContent = sqlLines.join('\\n');\n    const blob = new Blob([sqlContent], { type: 'application/sql' });\n    const link = document.createElement('a');\n    link.href = URL.createObjectURL(blob);\n    link.download = `${selectedTable}_filtered.sql`;\n    link.click();\n    setSqlExportDialogOpen(false);\n  };\n\n  const exportToFilteredSQL = () => {\n    exportToFilteredSQLWithOptions(sqlExportOptions);\n  };\n\n  const handleSelectRow = (rowId: number) => {\n    const newSelected = new Set(selectedRows);\n    if (newSelected.has(rowId)) {\n      newSelected.delete(rowId);\n    } else {\n      newSelected.add(rowId);\n    }\n    setSelectedRows(newSelected);\n  };\n\n  const handleSelectAll = () => {\n    if (selectedRows.size === data.length) {\n      // Deselect all\n      setSelectedRows(new Set());\n    } else {\n      // Select all\n      const allRowIds = data.map(row => row.values[0].value);\n      setSelectedRows(new Set(allRowIds));\n    }\n  };\n\n  const totalPages = Math.ceil(totalRows / pageSize);\n\n  return (\n    <div id=\"dataBrowser\" className=\"container mx-auto py-6 space-y-6\">\n      <div>\n        <h1 className=\"text-3xl font-bold\">Data Browser</h1>\n        <p className=\"text-muted-foreground mt-2\">\n          Browse and view table data with pagination\n        </p>\n      </div>\n\n      <Card>\n        <CardHeader>\n          <CardTitle>Table Selection</CardTitle>\n          <CardDescription>Choose a table to browse its data</CardDescription>\n        </CardHeader>\n        <CardContent className=\"space-y-4\">\n          <div className=\"flex gap-4 items-center\">\n            <div className=\"flex-1\">\n              <label htmlFor=\"tableSelect\" className=\"text-sm font-medium mb-2 block\">\n                Select Table\n              </label>\n              <div className=\"flex gap-2\">\n                <Select value={selectedTable} onValueChange={handleTableChange}>\n                  <SelectTrigger id=\"tableSelect\" data-testid=\"table-select\" className=\"flex-1\">\n                    <SelectValue placeholder=\"Choose a table\" />\n                  </SelectTrigger>\n                  <SelectContent>\n                    {tables.map(table => (\n                      <SelectItem key={table.name} value={table.name}>\n                        {table.name} ({table.rowCount} rows)\n                      </SelectItem>\n                    ))}\n                  </SelectContent>\n                </Select>\n                <Button \n                  id=\"refreshTables\"\n                  onClick={loadTables}\n                  variant=\"outline\"\n                  disabled={loading}\n                >\n                  Refresh\n                </Button>\n              </div>\n            </div>\n\n            <div className=\"w-32\">\n              <label htmlFor=\"pageSizeSelect\" className=\"text-sm font-medium mb-2 block\">\n                Page Size\n              </label>\n              <Select value={pageSize.toString()} onValueChange={handlePageSizeChange}>\n                <SelectTrigger id=\"pageSizeSelect\">\n                  <SelectValue />\n                </SelectTrigger>\n                <SelectContent>\n                  <SelectItem value=\"100\">100</SelectItem>\n                  <SelectItem value=\"500\">500</SelectItem>\n                  <SelectItem value=\"1000\">1000</SelectItem>\n                </SelectContent>\n              </Select>\n            </div>\n          </div>\n\n          {selectedTable && (\n            <div className=\"flex justify-between items-center text-sm text-muted-foreground\">\n              <div id=\"rowCount\">\n                Total: <span className=\"font-semibold\">{totalRows}</span> rows\n              </div>\n              <div>\n                Page {currentPage} of {totalPages || 1}\n              </div>\n            </div>\n          )}\n        </CardContent>\n      </Card>\n\n      {selectedTable && (\n        <Card>\n          <CardHeader>\n            {/* Breadcrumb Navigation */}\n            {navigationHistory.length > 0 && (\n              <nav aria-label=\"breadcrumb\" data-breadcrumb className=\"mb-4 flex items-center gap-2\">\n                <Button\n                  onClick={handleBackNavigation}\n                  variant=\"ghost\"\n                  size=\"sm\"\n                  data-back-button\n                  aria-label=\"Go back to previous table\"\n                >\n                  ← Back\n                </Button>\n                <div className=\"flex items-center gap-2 text-sm text-muted-foreground\">\n                  {navigationHistory.map((item, index) => (\n                    <span key={index}>\n                      {item.table} →\n                    </span>\n                  ))}\n                  <span className=\"font-semibold text-foreground\">{selectedTable}</span>\n                </div>\n              </nav>\n            )}\n            \n            <div className=\"flex justify-between items-start\">\n              <div>\n                <CardTitle data-table-title>{selectedTable}</CardTitle>\n                <CardDescription>\n                  Showing {((currentPage - 1) * pageSize) + 1} - {Math.min(currentPage * pageSize, totalRows)} of {totalRows} rows\n                </CardDescription>\n              </div>\n              <div className=\"flex gap-2\">\n                <Button \n                  onClick={() => setShowFilterPanel(!showFilterPanel)} \n                  variant=\"outline\"\n                  data-filter-toggle\n                >\n                  Filters {filters.length > 0 && `(${filters.length})`}\n                </Button>\n                <Button onClick={handleAddRow} disabled={loading}>\n                  Add Row\n                </Button>\n                {selectedRows.size > 0 && (\n                  <Button \n                    onClick={handleDeleteSelected} \n                    variant=\"destructive\"\n                    disabled={loading}\n                  >\n                    Delete Selected ({selectedRows.size})\n                  </Button>\n                )}\n                <Button \n                  id=\"exportFilteredCSV\" \n                  onClick={exportToFilteredCSV} \n                  variant=\"outline\" \n                  size=\"sm\"\n                >\n                  Export CSV\n                </Button>\n                <Button \n                  id=\"exportFilteredJSON\" \n                  onClick={exportToFilteredJSON} \n                  variant=\"outline\" \n                  size=\"sm\"\n                >\n                  Export JSON\n                </Button>\n                <Button \n                  id=\"exportFilteredSQL\" \n                  onClick={exportToFilteredSQL} \n                  variant=\"outline\" \n                  size=\"sm\"\n                >\n                  Export SQL\n                </Button>\n                <Dialog open={exportDialogOpen} onOpenChange={setExportDialogOpen}>\n                  <DialogTrigger asChild>\n                    <Button \n                      id=\"exportFilteredCSVOptions\" \n                      variant=\"outline\" \n                      size=\"sm\"\n                      onClick={() => {\n                        if (columns.length > 0 && exportOptions.selectedColumns.length === 0) {\n                          setExportOptions({ ...exportOptions, selectedColumns: columns.map(c => c.name) });\n                        }\n                      }}\n                    >\n                      CSV Options\n                    </Button>\n                  </DialogTrigger>\n                  <DialogContent className=\"sm:max-w-[500px]\">\n                    <DialogHeader>\n                      <DialogTitle>CSV Export Options</DialogTitle>\n                      <DialogDescription>\n                        Configure your CSV export settings\n                      </DialogDescription>\n                    </DialogHeader>\n                    <div className=\"grid gap-4 py-4\">\n                      {columns.length > 0 && (\n                        <div className=\"grid gap-2\">\n                          <Label className=\"text-sm font-medium\">Select Columns to Export</Label>\n                          <div className=\"flex gap-2 mb-2\">\n                            <Button\n                              id=\"selectAllColumns\"\n                              type=\"button\"\n                              variant=\"outline\"\n                              size=\"sm\"\n                              onClick={() => setExportOptions({ ...exportOptions, selectedColumns: columns.map(c => c.name) })}\n                            >\n                              Select All\n                            </Button>\n                            <Button\n                              id=\"deselectAllColumns\"\n                              type=\"button\"\n                              variant=\"outline\"\n                              size=\"sm\"\n                              onClick={() => setExportOptions({ ...exportOptions, selectedColumns: [] })}\n                            >\n                              Deselect All\n                            </Button>\n                          </div>\n                          <div className=\"grid grid-cols-2 gap-2 max-h-48 overflow-y-auto\">\n                            {columns.map((col) => (\n                              <div key={col.name} className=\"flex items-center space-x-2\">\n                                <Checkbox\n                                  id={`column-${col.name}`}\n                                  checked={exportOptions.selectedColumns.includes(col.name)}\n                                  onCheckedChange={(checked) => {\n                                    if (checked) {\n                                      setExportOptions({\n                                        ...exportOptions,\n                                        selectedColumns: [...exportOptions.selectedColumns, col.name]\n                                      });\n                                    } else {\n                                      setExportOptions({\n                                        ...exportOptions,\n                                        selectedColumns: exportOptions.selectedColumns.filter(c => c !== col.name)\n                                      });\n                                    }\n                                  }}\n                                />\n                                <Label htmlFor={`column-${col.name}`} className=\"text-sm cursor-pointer\">\n                                  {col.name}\n                                </Label>\n                              </div>\n                            ))}\n                          </div>\n                        </div>\n                      )}\n                    </div>\n                    <DialogFooter>\n                      <Button \n                        id=\"confirmExport\" \n                        onClick={() => exportToFilteredCSVWithOptions(exportOptions)}\n                      >\n                        Export\n                      </Button>\n                    </DialogFooter>\n                  </DialogContent>\n                </Dialog>\n              </div>\n            </div>\n          </CardHeader>\n          <CardContent>\n            {/* Filter Panel */}\n            {showFilterPanel && (\n              <div className=\"mb-4 p-4 border rounded-md bg-muted/20\">\n                <div className=\"space-y-3\">\n                  <div className=\"flex gap-2 items-end\">\n                    <div className=\"flex-1\">\n                      <label className=\"text-sm font-medium\">Column</label>\n                      <Select \n                        value={newFilter.column} \n                        onValueChange={(value) => setNewFilter({...newFilter, column: value})}\n                      >\n                        <SelectTrigger id=\"filter-column\" data-filter-column>\n                          <SelectValue placeholder=\"Select column\" />\n                        </SelectTrigger>\n                        <SelectContent>\n                          {columns.map(col => (\n                            <SelectItem key={col.name} value={col.name}>\n                              {col.name}\n                            </SelectItem>\n                          ))}\n                        </SelectContent>\n                      </Select>\n                    </div>\n                    <div className=\"flex-1\">\n                      <label className=\"text-sm font-medium\">Operator</label>\n                      <Select \n                        value={newFilter.operator} \n                        onValueChange={(value) => setNewFilter({...newFilter, operator: value})}\n                      >\n                        <SelectTrigger id=\"filter-operator\" data-filter-operator>\n                          <SelectValue />\n                        </SelectTrigger>\n                        <SelectContent>\n                          <SelectItem value=\"equals\">Equals</SelectItem>\n                          <SelectItem value=\"contains\">Contains</SelectItem>\n                          <SelectItem value=\"starts_with\">Starts With</SelectItem>\n                          <SelectItem value=\"greater_than\">Greater Than</SelectItem>\n                          <SelectItem value=\"less_than\">Less Than</SelectItem>\n                          <SelectItem value=\"greater_equal\">Greater or Equal</SelectItem>\n                          <SelectItem value=\"less_equal\">Less or Equal</SelectItem>\n                          <SelectItem value=\"not_equal\">Not Equal</SelectItem>\n                          <SelectItem value=\"is_null\">Is NULL</SelectItem>\n                          <SelectItem value=\"is_not_null\">Is Not NULL</SelectItem>\n                        </SelectContent>\n                      </Select>\n                    </div>\n                    <div className=\"flex-1\">\n                      <label className=\"text-sm font-medium\">Value</label>\n                      <input\n                        id=\"filter-value\"\n                        data-filter-value\n                        type=\"text\"\n                        className=\"w-full px-3 py-2 border rounded-md\"\n                        value={newFilter.value}\n                        onChange={(e) => setNewFilter({...newFilter, value: e.target.value})}\n                      />\n                    </div>\n                    <Button \n                      onClick={handleAddFilter}\n                      className=\"mt-auto\"\n                    >\n                      Add Filter\n                    </Button>\n                  </div>\n\n                  {/* Active Filters */}\n                  {filters.length > 0 && (\n                    <div className=\"space-y-2\">\n                      <div className=\"flex justify-between items-center\">\n                        <label className=\"text-sm font-medium\">Active Filters:</label>\n                        <Button \n                          onClick={handleClearFilters} \n                          variant=\"ghost\" \n                          size=\"sm\"\n                          data-clear-filters\n                        >\n                          Clear All\n                        </Button>\n                      </div>\n                      <div className=\"flex flex-wrap gap-2\">\n                        {filters.map((filter, index) => (\n                          <div \n                            key={index} \n                            className=\"flex items-center gap-2 px-3 py-1 bg-primary/10 rounded-full text-sm\"\n                          >\n                            <span>\n                              {filter.column} {filter.operator.replace(/_/g, ' ')} {filter.value || ''}\n                            </span>\n                            <button\n                              onClick={() => handleRemoveFilter(index)}\n                              className=\"text-destructive hover:text-destructive/80\"\n                            >\n                              ×\n                            </button>\n                          </div>\n                        ))}\n                      </div>\n                    </div>\n                  )}\n                </div>\n              </div>\n            )}\n            \n            {loading ? (\n              <div className=\"text-center py-8\">\n                <p>{initializing ? 'Initializing...' : 'Loading...'}</p>\n              </div>\n            ) : data.length === 0 ? (\n              <div className=\"text-center py-8 text-muted-foreground\">\n                <p>No data in this table</p>\n              </div>\n            ) : (\n              <>\n                <div className=\"border rounded-md overflow-auto max-h-[600px]\">\n                  <Table>\n                    <TableHeader>\n                      <TableRow>\n                        <TableHead className=\"w-[50px]\">\n                          <input\n                            type=\"checkbox\"\n                            checked={selectedRows.size === data.length && data.length > 0}\n                            onChange={handleSelectAll}\n                            className=\"cursor-pointer\"\n                          />\n                        </TableHead>\n                        <TableHead className=\"w-[100px]\">rowid</TableHead>\n                        {columns.map(col => {\n                          const fkInfo = getForeignKeyInfo(col.name);\n                          return (\n                          <TableHead \n                            key={col.name}\n                            onClick={() => handleSort(col.name)}\n                            className=\"cursor-pointer hover:bg-muted/50\"\n                          >\n                            <div className=\"flex items-center gap-1\">\n                              {col.name}\n                              {fkInfo && (\n                                <span \n                                  className=\"text-xs text-blue-500\" \n                                  data-fk-indicator\n                                  title={`Foreign key to ${fkInfo.table}.${fkInfo.to}`}\n                                >\n                                  → {fkInfo.table}\n                                </span>\n                              )}\n                              {sortConfig?.column === col.name && (\n                                <span className=\"text-xs\">\n                                  {sortConfig.direction === 'ASC' ? '↑' : '↓'}\n                                </span>\n                              )}\n                              <span className=\"text-xs text-muted-foreground ml-2\">\n                                ({col.type})\n                              </span>\n                            </div>\n                          </TableHead>\n                        );\n                        })}\n                        <TableHead className=\"w-[100px]\">Actions</TableHead>\n                      </TableRow>\n                    </TableHeader>\n                    <TableBody>\n                      {data.map((row, rowIndex) => {\n                        const rowId = row.values[0].value;\n                        return (\n                        <TableRow key={rowIndex}>\n                          <TableCell>\n                            <input\n                              type=\"checkbox\"\n                              checked={selectedRows.has(rowId)}\n                              onChange={() => handleSelectRow(rowId)}\n                              className=\"cursor-pointer\"\n                            />\n                          </TableCell>\n                          <TableCell className=\"font-mono text-sm\">\n                            {rowId}\n                          </TableCell>\n                          {row.values.slice(1).map((cell: any, cellIndex: number) => {\n                            const isEditing = editingCell?.rowIndex === rowIndex && editingCell?.columnIndex === cellIndex;\n                            const column = columns[cellIndex];\n                            const isFK = isForeignKeyColumn(column.name);\n                            const cellValue = cell.value;\n                            \n                            const isBlob = isBlobColumn(column.type) && Array.isArray(cellValue);\n                            const blobSize = isBlob ? new Uint8Array(cellValue).length : 0;\n                            \n                            return (\n                              <TableCell \n                                key={cellIndex}\n                                className={`\n                                  ${cell.value === null || cell.value === undefined ? 'null-value' : ''}\n                                  ${isEditing ? 'editing' : 'cursor-pointer hover:bg-muted/50'}\n                                `}\n                                onDoubleClick={() => !isEditing && handleCellDoubleClick(rowIndex, cellIndex, cell.value)}\n                                data-fk-link={isFK && cellValue !== null && cellValue !== undefined ? 'true' : undefined}\n                                data-blob-preview={isBlob ? 'true' : undefined}\n                                data-blob-size={isBlob ? formatBlobSize(blobSize) : undefined}\n                              >\n                                {isEditing ? (\n                                  isBlobColumn(column.type) ? (\n                                    <input\n                                      type=\"file\"\n                                      onChange={handleFileChange}\n                                      className=\"w-full px-2 py-1 border rounded focus:outline-none focus:ring-2 focus:ring-primary\"\n                                    />\n                                  ) : (\n                                    <input\n                                      type={getInputType(column.type)}\n                                      step={column.type.includes('REAL') || column.type.includes('FLOAT') || column.type.includes('DOUBLE') ? 'any' : undefined}\n                                      value={editValue}\n                                      onChange={(e) => setEditValue(e.target.value)}\n                                      onKeyDown={handleKeyDown}\n                                      autoFocus\n                                      className=\"w-full px-2 py-1 border rounded focus:outline-none focus:ring-2 focus:ring-primary\"\n                                    />\n                                  )\n                                ) : cell.value === null || cell.value === undefined ? (\n                                  <span className=\"italic text-muted-foreground\">NULL</span>\n                                ) : isBlobColumn(column.type) && Array.isArray(cellValue) ? (\n                                  (() => {\n                                    const blobData = new Uint8Array(cellValue);\n                                    return (\n                                      <div className=\"flex items-center gap-2\">\n                                        {isImageBlob(blobData) ? (\n                                          <img \n                                            src={blobToDataURL(blobData)} \n                                            alt=\"BLOB preview\" \n                                            className=\"max-w-[100px] max-h-[50px] object-contain\"\n                                          />\n                                        ) : null}\n                                        <span className=\"text-sm text-muted-foreground\">\n                                          {formatBlobSize(blobData.length)}\n                                        </span>\n                                        <button\n                                          onClick={(e) => {\n                                            e.stopPropagation();\n                                            handleBlobDownload(blobData, `blob-${rowId}-${column.name}.bin`);\n                                          }}\n                                          className=\"text-xs px-2 py-1 bg-primary text-primary-foreground rounded hover:bg-primary/90\"\n                                          data-blob-download\n                                        >\n                                          ↓\n                                        </button>\n                                      </div>\n                                    );\n                                  })()\n                                ) : isFK ? (\n                                  <button\n                                    onClick={(e) => {\n                                      e.stopPropagation();\n                                      handleForeignKeyClick(column.name, cellValue);\n                                    }}\n                                    className=\"text-blue-500 hover:text-blue-700 underline\"\n                                  >\n                                    {String(cellValue)}\n                                  </button>\n                                ) : (\n                                  String(cellValue)\n                                )}\n                              </TableCell>\n                            );\n                          })}\n                          <TableCell>\n                            <Button\n                              onClick={() => handleDeleteRow(rowId)}\n                              variant=\"ghost\"\n                              size=\"sm\"\n                              disabled={loading}\n                              aria-label=\"Delete row\"\n                            >\n                              Delete\n                            </Button>\n                          </TableCell>\n                        </TableRow>\n                        );\n                      })}\n                    </TableBody>\n                  </Table>\n                </div>\n\n                <div className=\"flex justify-between items-center mt-4\">\n                  <Button\n                    onClick={handlePreviousPage}\n                    disabled={currentPage === 1}\n                    variant=\"outline\"\n                  >\n                    Previous\n                  </Button>\n                  <span className=\"text-sm text-muted-foreground\">\n                    Page {currentPage} of {totalPages}\n                  </span>\n                  <Button\n                    onClick={handleNextPage}\n                    disabled={currentPage >= totalPages}\n                    variant=\"outline\"\n                  >\n                    Next\n                  </Button>\n                </div>\n              </>\n            )}\n          </CardContent>\n        </Card>\n      )}\n\n      {/* Delete Confirmation Dialog */}\n      {showDeleteDialog && (\n        <div \n          className=\"fixed inset-0 bg-black/50 flex items-center justify-center z-50\"\n          onClick={handleCancelDelete}\n        >\n          <div \n            role=\"alertdialog\" \n            className=\"bg-background border rounded-lg p-6 max-w-md mx-4 shadow-lg\"\n            onClick={(e) => e.stopPropagation()}\n          >\n            <h2 className=\"text-lg font-semibold mb-2\">Confirm Delete</h2>\n            <p className=\"text-muted-foreground mb-4\">\n              {deleteTarget?.type === 'bulk' \n                ? `Are you sure you want to delete ${selectedRows.size} row(s)? This action cannot be undone.`\n                : 'Are you sure you want to delete this row? This action cannot be undone.'}\n            </p>\n            <div className=\"flex justify-end gap-2\">\n              <Button \n                onClick={handleCancelDelete} \n                variant=\"outline\"\n                type=\"button\"\n                id=\"cancelDeleteButton\"\n              >\n                Cancel\n              </Button>\n              <Button \n                onClick={handleConfirmDelete} \n                variant=\"destructive\"\n                type=\"button\"\n                id=\"confirmDeleteButton\"\n              >\n                Delete\n              </Button>\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}\n"],"names":[],"mappings":"wDAEA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OAQA,EAAA,EAAA,CAAA,CAAA,OAOA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OASA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,MAgDe,SAAS,IACtB,GAAM,IAAE,CAAE,CAAE,OAAK,kBAAE,CAAgB,qBAAE,CAAmB,CAAE,CAAG,CAAA,EAAA,EAAA,gBAAgB,AAAhB,IAGvD,CAAC,EAAc,EAAgB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAM,MAGhD,EAAW,GAAM,EAEjB,CAAC,EAAQ,EAAU,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAc,EAAE,EAC9C,CAAC,EAAe,EAAiB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAS,IACrD,CAAC,EAAS,EAAW,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAe,EAAE,EACjD,CAAC,EAAM,EAAQ,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAQ,EAAE,EACpC,CAAC,EAAc,EAAgB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,IAC3C,CAAC,EAAS,EAAW,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,GAAC,GACjC,CAAC,EAAU,EAAY,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAS,KAC3C,CAAC,EAAa,EAAe,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAS,GACjD,CAAC,EAAW,EAAa,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAS,GAC7C,CAAC,EAAa,EAAe,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAqB,MAC7D,CAAC,EAAW,EAAa,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAS,IAC7C,CAAC,EAAU,EAAY,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAc,MAChD,CAAC,EAAc,EAAgB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAc,IAAI,KAC5D,CAAC,EAAkB,EAAoB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,GAAC,GACnD,CAAC,EAAc,EAAgB,CAAG,CAAA,EAAA,EAAA,QAAQ,AAAR,EAA6D,MAC/F,CAAC,EAAY,EAAc,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAoB,MAC1D,CAAC,EAAS,EAAW,CAAG,CAAA,EAAA,EAAA,QAAQ,AAAR,EAAmB,EAAE,EAC7C,CAAC,EAAiB,EAAmB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,GAAC,GACjD,CAAC,EAAW,GAAa,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAS,CAAE,OAAQ,GAAI,SAAU,SAAU,MAAO,EAAG,GACzF,CAAC,GAAa,GAAe,CAAG,CAAA,EAAA,EAAA,QAAQ,AAAR,EAAuB,EAAE,EACzD,CAAC,GAAmB,GAAqB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAA0B,EAAE,EAChF,CAAC,GAAkB,GAAoB,CAAG,CAAA,EAAA,EAAA,QAAQ,AAAR,GAAS,GACnD,CAAC,GAAe,GAAiB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,CACjD,gBAAgB,EAChB,UAAW,QACX,gBAAgB,EAChB,WAAY,KACZ,aAAc,QACd,gBAAiB,EAAE,AACrB,GACM,CAAC,GAAsB,GAAwB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,GAAC,GAC3D,CAAC,GAAmB,GAAqB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,CACzD,aAAa,EACb,OAAQ,QACR,gBAAiB,EAAE,AACrB,GACM,CAAC,GAAqB,GAAuB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,GAAC,GACzD,CAAC,GAAkB,GAAoB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,CACvD,mBAAmB,EACnB,qBAAqB,EACrB,UAAW,IACX,gBAAiB,EAAE,AACrB,GAGA,CAAA,EAAA,EAAA,SAAA,AAAS,EAAC,KAwBV,EAAG,CAAC,EAAG,EAGP,CAAA,EAAA,EAAA,SAAS,AAAT,EAAU,KAcV,EAAG,CAAC,EAAa,EAGjB,CAAA,EAAA,EAAA,SAAA,AAAS,EAAC,KACJ,GACF,IAEJ,EAAG,CAAC,AAHY,EAGH,EAGb,CAAA,EAAA,EAAA,SAAA,AAAS,EAAC,KACJ,GACF,IAEJ,EAAG,CAHa,AAGZ,EAAiB,EAGrB,CAAA,EAAA,EAAA,SAAS,AAAT,EAAU,KACJ,GAAiB,GACnB,IAEJ,EAAG,CAH8B,AAG7B,EAAU,EAAe,EAAa,EAAU,EAAS,EAAW,EAExE,IAAM,GAAa,UACjB,GAAK,CAAD,CAEJ,GAAI,CACF,GAAW,CAHE,EAOb,IAAM,EAAS,MAAM,EAAS,OAAO,CAHvB,AAGwB,EAFlC,kEACA,gGAGE,EAAyB,EAAE,CACjC,IAAK,IAAM,KAAO,EAAO,IAAI,CAAE,CAC7B,IAAM,EAAY,EAAI,MAAM,CAAC,EAAE,CAAC,KAAK,CAG/B,EAAW,CADG,MAAM,EAAS,OAAO,CAAC,CAAC,qBAAqB,EAAE,EAAA,CAAW,GACjD,IAAI,CAAC,EAAE,CAAC,MAAM,CAAC,EAAE,CAAC,KAAK,CACpD,EAAU,IAAI,CAAC,CAAE,KAAM,WAAW,CAAS,EAC7C,CAEA,EAAU,EACZ,CAAE,MAAO,EAAK,CACZ,QAAQ,KAAK,CAAC,wBAAyB,EACzC,QAAU,CACR,GAAW,EACb,CACF,EAEM,GAAmB,KACvB,GAAuB,IAAnB,EAAQ,MAAM,CAAQ,MAAO,GAEjC,IAAM,EAAa,EAAQ,GAAG,CAAC,IAC7B,GAAM,QAAE,CAAM,UAAE,CAAQ,OAAE,CAAK,CAAE,CAAG,EAEpC,OAAQ,GACN,IAAK,SAoBL,QAnBE,MAAO,CAAA,EAAG,EAAO,IAAI,EAAE,EAAM,OAAO,CAAC,KAAM,MAAM,CAAC,CAAC,AACrD,KAAK,WACH,MAAO,CAAA,EAAG,EAAO,QAAQ,EAAE,EAAM,OAAO,CAAC,KAAM,MAAM,EAAE,CAAC,AAC1D,KAAK,cACH,MAAO,CAAA,EAAG,EAAO,OAAO,EAAE,EAAM,OAAO,CAAC,KAAM,MAAM,EAAE,CAAC,AACzD,KAAK,eACH,MAAO,CAAA,EAAG,EAAO,GAAG,EAAE,EAAA,CAAO,AAC/B,KAAK,YACH,MAAO,CAAA,EAAG,EAAO,GAAG,EAAE,EAAA,CAAO,AAC/B,KAAK,gBACH,MAAO,CAAA,EAAG,EAAO,IAAI,EAAE,EAAA,CAAO,AAChC,KAAK,aACH,MAAO,CAAA,EAAG,EAAO,IAAI,EAAE,EAAA,CAAO,AAChC,KAAK,YACH,MAAO,CAAA,EAAG,EAAO,KAAK,EAAE,EAAM,OAAO,CAAC,KAAM,MAAM,CAAC,CAAC,AACtD,KAAK,UACH,MAAO,CAAA,EAAG,EAAO,QAAQ,CAAC,AAC5B,KAAK,cACH,MAAO,CAAA,EAAG,EAAO,YAAY,CAAC,AAGlC,CACF,GAEA,MAAO,CAAC,OAAO,EAAE,EAAW,IAAI,CAAC,SAAA,CAAU,AAC7C,EAEM,GAAqB,IACzB,AAAK,EACE,CAAC,CADJ,QAAa,CACC,EAAE,EAAW,MAAM,CAAC,CAAC,EAAE,EAAW,SAAS,CAAA,CAAE,CADvC,GAIpB,GAAgB,UACpB,GAAI,AAAC,GAAY,EAEjB,GAAI,CACF,GAAW,AAHG,GAOd,GAP8B,CAOxB,EAAqB,CADL,MAAM,EAAS,OAAO,CAAC,CAAC,kBAAkB,EAAE,EAAc,CAAC,EAAC,EACzC,IAAI,CAAC,GAAG,CAAC,AAAC,IAAc,CAC/D,CAD8D,IACxD,EAAI,MAAM,CAAC,EAAE,CAAC,KAAK,CACzB,KAAM,EAAI,MAAM,CAAC,EAAE,CAAC,KAAK,CAC3B,CAAC,EACD,EAAW,GAIX,IAAM,EAAoB,CADT,MAAM,EAAS,OAAO,CAAC,CAAC,wBAAwB,EAAE,EAAc,CAAC,EAAC,EAChD,IAAI,CAAC,GAAG,CAAC,AAAC,IAAc,CACzD,CADwD,EACpD,EAAI,MAAM,CAAC,EAAE,CAAC,KAAK,CACvB,IAAK,EAAI,MAAM,CAAC,EAAE,CAAC,KAAK,CACxB,MAAO,EAAI,MAAM,CAAC,EAAE,CAAC,KAAK,CAC1B,KAAM,EAAI,MAAM,CAAC,EAAE,CAAC,KAAK,CACzB,GAAI,EAAI,MAAM,CAAC,EAAE,CAAC,KAAK,CACvB,UAAW,EAAI,MAAM,CAAC,EAAE,CAAC,KAAK,CAC9B,UAAW,EAAI,MAAM,CAAC,EAAE,CAAC,KAAK,CAC9B,MAAO,EAAI,MAAM,CAAC,EAAE,CAAC,KAAK,CAC5B,CAAC,EACD,GAAe,GAGf,IAAM,EAAc,KACd,EAAgB,KAGhB,EAAa,CAAC,qBAAqB,EAAE,EAAA,EAAgB,EAAA,CAAa,CAElE,EAAQ,CADM,MAAM,EAAS,OAAO,CAAC,EAAA,EACjB,IAAI,CAAC,EAAE,CAAC,MAAM,CAAC,EAAE,CAAC,KAAK,CACjD,EAAa,GAGb,IAAM,EAAS,CAAC,GAAc,CAAC,CAAI,EAC7B,EAAY,CAAC,gCAAgC,EAAE,EAAA,EAAgB,EAAA,EAAc,EAAc,OAAO,EAAE,EAAS,QAAQ,EAAE,EAAA,CAAQ,CAC/H,EAAa,MAAM,EAAS,OAAO,CAAC,GAE1C,EAAQ,EAAW,IAAI,CACzB,CAAE,MAAO,EAAK,CACZ,QAAQ,KAAK,CAAC,4BAA6B,EAC7C,QAAU,CACR,GAAW,EACb,CACF,EA+GM,GAAmB,MAAO,IAC9B,IAAM,EAAO,EAAE,MAAM,CAAC,KAAK,EAAE,CAAC,EAAE,CAC5B,GAEF,GAFQ,GAEF,GAAuB,EAEjC,EAEM,GAAyB,MAAO,IACpC,GAAI,AAAC,GAAgB,GAAa,EAElC,GAAI,CAEF,GAJkB,AAAa,CAIzB,EADM,AACE,CADE,CAAC,CAH8B,CAGlB,QAAQ,CAAC,CACpB,MAAM,CAAC,EAAE,CAAC,KAAK,CAC3B,EAAS,CAAO,CAAC,EAAY,WAAW,CAAC,CAEzC,EAAc,MAAM,EAAK,WAAW,GACpC,EAAW,IAAI,WAAW,GAE1B,EAAc,CAAC,OAAO,EAAE,EAAc,KAAK,EAAE,EAAO,IAAI,CAAC,oBAAoB,CAAC,CAC9E,EAAS,CACb,CAAE,KAAM,OAAQ,MAAO,MAAM,IAAI,CAAC,EAAU,EAC5C,CAAE,KAAM,UAAW,MAAO,CAAM,EACjC,AAED,OAAM,EAAS,iBAAiB,CAAC,EAAa,GAE9C,IAAM,EAAU,IAAI,EAAK,CACzB,CAAO,CAAC,EAAY,QAAQ,CAAC,CAAC,MAAM,CAAC,EAAY,WAAW,CAAG,EAAE,CAAC,KAAK,CAAG,MAAM,IAAI,CAAC,GACrF,EAAQ,GAER,EAAe,MACf,EAAa,IACb,EAAY,KACd,CAAE,MAAO,EAAK,CACZ,QAAQ,KAAK,CAAC,qBAAsB,EACtC,CACF,EAEM,GAAiB,UACrB,GAAI,AAAC,GAAgB,GAAa,EAElC,GAAI,CAEF,GAJkB,AAAa,CAIzB,EAAQ,AADF,CAAI,CAAC,CAH8B,CAGlB,QAAQ,CAAC,CACpB,MAAM,CAAC,EAAE,CAAC,KAAK,CAC3B,EAAS,CAAO,CAAC,EAAY,WAAW,CAAC,CAE3C,EAAgB,EAGpB,GAAI,GAAa,EAAO,IAAI,EAC1B,CAD6B,EACzB,EAAU,CACZ,IAAM,EAAc,MAAM,EAAS,WAAW,GAC9C,EAAW,IAAI,WAAW,EAC5B,MACE,CADK,CACM,SAEU,KAAd,GAAgD,QAAQ,CAApC,EAAU,WAAW,GAClD,EAAW,KACF,EAAO,IAAI,CAAC,QAAQ,CAAC,OAC9B,CADsC,CAC3B,SAAS,IACX,EAAO,IAAI,CAAC,QAAQ,CAAC,SAAW,EAAO,IAAI,CAAC,QAAQ,CAAC,UAAY,EAAO,IAAI,CAAC,QAAQ,CAAC,WAAa,EAAO,IAAI,CAAC,QAAQ,CAAC,UAAA,GAAY,CAC7I,EAAW,WAAW,EAAA,EAIxB,IAAM,EAAc,CAAC,OAAO,EAAE,EAAc,KAAK,EAAE,EAAO,IAAI,CAAC,oBAAoB,CAAC,CAC9E,EAAS,CACA,OAAb,EAAoB,CAAE,KAAM,OAAQ,MAAO,IAAK,EAChD,aAAoB,WAAa,CAAE,KAAM,OAAQ,MAAO,MAAM,IAAI,CAAC,EAAU,EACzD,UAApB,OAAO,GAAyB,OAAO,SAAS,CAAC,GAAY,CAAE,KAAM,UAAW,MAAO,CAAS,EAC5E,UAApB,OAAO,EAAwB,CAAE,KAAM,OAAQ,MAAO,CAAS,EAC/D,CAAE,KAAM,OAAQ,MAAO,OAAO,EAAU,EACxC,CAAE,KAAM,UAAW,MAAO,CAAM,EACjC,AAGD,OAAM,EAAS,iBAAiB,CAAC,EAAa,GAG9C,IAAM,EAAU,IAAI,EAAK,CAEnB,EAAe,aAAoB,WAAa,MAAM,IAAI,CAAC,GAAY,EAC7E,CAAO,CAAC,EAAY,QAAQ,CAAC,CAAC,MAAM,CAAC,EAAY,WAAW,CAAG,EAAE,CAAC,KAAK,CAAG,EAC1E,EAAQ,GAGR,EAAe,MACf,EAAa,IACb,EAAY,KACd,CAAE,MAAO,EAAK,CACZ,QAAQ,KAAK,CAAC,qBAAsB,EAEtC,CACF,EAQM,GAAgB,MAAO,IACb,UAAV,CAAqB,CAAnB,GAAG,EAAiB,EAAE,QAAQ,CAGf,CAHiB,SAGP,CAApB,EAAE,GAAG,GACd,EAAE,cAAc,GAVlB,EAAe,MACf,EAAa,IACb,EAAY,QAKV,EAAE,cAAc,GAChB,MAAM,KAKV,EAUM,GAAe,AAAC,GACb,EAAW,WAAW,GAAG,QAAQ,CAAC,QAGrC,GAAiB,AAAC,GACtB,AAAI,EAAQ,KAAa,CAAP,AAAO,EAAG,EAAM,EAAE,CAAC,CACjC,EAAQ,OAAO,CAAa,CAAA,EAAG,CAAC,CAAX,CAAmB,IAAA,CAAI,CAAE,OAAO,CAAC,GAAG,GAAG,CAAC,CAC1D,CAAA,EAAG,CAAC,EAAS,MAAD,CAAQ,AAAI,CAAC,CAAE,OAAO,CAAC,GAAG,GAAG,CAAC,CAmC7C,GAAe,UACnB,GAAI,AAAC,GAAY,EAEjB,GAAI,CACF,GAAW,AAHG,GAMd,GAN8B,GAMxB,EAAS,OAAO,CAAC,CAAC,YAAY,EAAE,EAAc,eAAe,CAAC,EAGpE,MAAM,IACR,CAAE,MAAO,EAAK,CACZ,QAAQ,KAAK,CAAC,oBAAqB,GAEnC,GAAI,CACF,IAAM,EAAc,EAAQ,GAAG,CAAC,GAAO,EAAI,IAAI,EAAE,IAAI,CAAC,MAChD,EAAe,EAAQ,GAAG,CAAC,IAAM,KAAK,IAAI,CAAC,MAC3C,EAAS,EAAQ,GAAG,CAAC,IAAM,CAAC,CAAE,KAAM,OAAQ,MAAO,IAAK,CAAC,EAE/D,OAAM,EAAS,iBAAiB,CAC9B,CAAC,YAAY,EAAE,EAAc,EAAE,EAAE,EAAY,UAAU,EAAE,EAAa,CAAC,CAAC,CACxE,GAEF,MAAM,IACR,CAAE,MAAO,EAAa,CACpB,QAAQ,KAAK,CAAC,+BAAgC,EAChD,CACF,QAAU,CACR,EAAW,GACb,CACF,EAaM,GAAsB,UAC1B,GAAI,AAAC,GAAY,GAAkB,EAEnC,GAAI,CAFY,AAKd,GAFA,GAAW,EAHqB,AAAe,CAKrB,WAAtB,EAAa,IAAI,OAAwC,IAAvB,EAAa,KAAK,AAAgB,CAEtE,MAAM,EAAS,iBAAiB,CAC9B,CAAC,YAAY,EAAE,EAAc,gBAAgB,CAAC,CAC9C,CAAC,CAAE,KAAM,UAAW,MAAO,EAAa,KAAK,AAAC,EAAE,OAE7C,GAAI,AAAsB,WAAT,IAAI,CAAa,CAGvC,IAAK,IAAM,KADI,IACK,EADC,IAAI,CAAC,AACE,GAC1B,MAAM,EAAS,iBAAiB,CAC9B,CAAC,YAAY,EAAE,EAAc,gBAAgB,CAAC,CAC9C,CAAC,CAAE,KAAM,UAAW,MAAO,CAAM,EAAE,EAGvC,EAAgB,IAAI,IACtB,CAGA,MAAM,KACN,GAAoB,GACpB,EAAgB,KAClB,CAAE,MAAO,EAAK,CACZ,QAAQ,KAAK,CAAC,yBAA0B,EAC1C,QAAU,CACR,EAAW,GACb,CACF,EAEM,GAAqB,KACzB,GAAoB,GACpB,EAAgB,KAClB,EAGM,GAAkB,UACtB,GAAI,CAAC,GAAW,CAAC,EAAe,OAAO,KAEvC,IAAM,EAAc,KACd,EAAgB,KAGhB,EAAQ,CAAC,cAAc,EAAE,EAAA,EAAgB,EAAA,EAAc,EAAA,CAAe,CACtE,EAAS,MAAM,EAAS,OAAO,CAAC,GAEtC,MAAO,CACL,QAAS,EAAQ,GAAG,CAAC,GAAK,EAAE,IAAI,EAChC,KAAM,EAAO,IAAI,AACnB,CACF,EAEM,GAAiC,MAAO,IAC5C,IAAM,EAAO,MAAM,KACnB,GAAI,CAAC,EAAM,OAEX,IAAM,EAAkB,EAAQ,eAAe,CAAC,MAAM,CAAG,EAAI,EAAQ,eAAe,CAAG,EAAK,OAAO,CACnG,GAA+B,IAA3B,EAAgB,MAAM,CAAQ,OAElC,IAAM,EAAqB,EAAE,CAEvB,EADe,AACH,CADK,MAAO,IAAK,UAAW,IAAK,IAAK,IAAM,KAAM,GAAI,CAC1C,CAAC,EAAQ,SAAS,CAAC,CAC3C,EAAoC,SAAvB,EAAQ,UAAU,CAAc,OAAS,KAa5D,GAAI,EAAQ,cAAc,CAAE,CAC1B,IAAM,EAAU,EAAgB,GAAG,CAAC,GAAO,EAAQ,cAAc,CAAG,CAAC,CAAC,EAAE,EAAI,CAAC,CAAC,CAAG,GAAK,IAAI,CAAC,GAC3F,EAAS,IAAI,CAAC,EAChB,CAEA,EAAK,IAAI,CAAC,OAAO,CAAC,AAAC,IACjB,IAAM,EAAS,EAAgB,GAAG,CAAC,IACjC,IAAM,EAAW,EAAK,OAAO,CAAC,OAAO,CAAC,OAlBrB,EAmBE,EAAI,MAAM,CAAC,EAAS,CAlBzC,GAAiB,QAAQ,CAArB,EAAI,IAAI,CACV,MAAgC,SAAzB,EAAQ,YAAY,CAAc,OAAS,GAEpD,IAAI,EAAQ,OAAO,EAAI,KAAK,SAC5B,AAAI,EAAQ,cAAc,EAAI,EAAM,QAAQ,CAAC,IAAc,EAAM,QAAQ,CAAC,MAAQ,EAAM,QAAQ,CAAC,MACxF,CAD+F,AAC9F,CAAC,EAAE,EAAM,OAAO,CAAC,KAAM,MAAM,CAAC,CAAC,CAElC,CAYP,GAAG,IAAI,CAAC,GACR,EAAS,IAAI,CAAC,EAChB,GAGA,IAAM,EAAO,IAAI,KAAK,CADH,EAAS,IAAI,CAAC,GACC,CAAE,CAAE,KAAM,yBAA0B,GAChE,EAAO,SAAS,aAAa,CAAC,KACpC,EAAK,IAAI,CAAG,IAAI,eAAe,CAAC,GAChC,EAAK,QAAQ,CAAG,CAAA,EAAG,EAAc,aAAa,CAAC,CAC/C,EAAK,KAAK,GACV,GAAoB,GACtB,EAMM,GAAkC,MAAO,IAC7C,IAMI,EANE,EAAO,MAAM,KACnB,GAAI,CAAC,EAAM,OAEX,IAAM,EAAkB,EAAQ,eAAe,CAAC,MAAM,CAAG,EAAI,EAAQ,eAAe,CAAG,EAAK,OAAO,CACnG,GAA+B,IAA3B,EAAgB,MAAM,CAAQ,OAIX,SAAS,CAA5B,EAAQ,MAAM,CAChB,EAAW,EAAK,IAAI,CAAC,GAAG,CAAC,AAAC,IACxB,IAAM,EAA2B,CAAC,EAQlC,OAPA,EAAgB,OAAO,CAAC,AAAC,IACvB,IAAM,EAAQ,EAAK,OAAO,CAAC,OAAO,CAAC,GACnC,GAAc,CAAC,IAAX,EAAc,CAChB,IAAM,EAAQ,EAAI,MAAM,CAAC,EAAM,CAC/B,CAAG,CAAC,EAAI,CAAkB,SAAf,EAAM,IAAI,CAAc,KAAO,EAAM,KAAK,AACvD,CACF,GACO,CACT,IAEA,EAAW,CAAC,EACZ,EAAK,IAAI,CAAC,OAAO,CAAC,AAAC,IACjB,IAEI,EAFE,EAA2B,CAAC,EAC5B,EAAW,EAAI,MAAM,CAAC,EAAE,CAG5B,EADoB,QAAQ,CAA1B,EAAS,IAAI,CACP,OACC,MAAM,OAAO,CAAC,EAAS,KAAK,EAC7B,CADgC,IAC3B,SAAS,CAAC,EAAS,KAAK,EAE7B,OAAO,EAAS,KAAK,EAG/B,EAAgB,OAAO,CAAC,AAAC,IACvB,IAAM,EAAQ,EAAK,OAAO,CAAC,OAAO,CAAC,GACnC,GAAc,CAAC,IAAX,EAAc,CAChB,IAAM,EAAQ,EAAI,MAAM,CAAC,EAAM,CAC/B,CAAG,CAAC,EAAI,CAAkB,SAAf,EAAM,IAAI,CAAc,KAAO,EAAM,KAAK,AACvD,CACF,GAEA,CAAQ,CAAC,EAAM,CAAG,CACpB,IAIF,IAAM,EAAO,IAAI,KAAK,CADH,EAAQ,WAAW,CAAG,KAAK,SAAS,CAAC,EAAU,KAAM,GAAK,KAAK,SAAS,CAAC,GAC1D,CAAE,CAAE,KAAM,kBAAmB,GACzD,EAAO,SAAS,aAAa,CAAC,IACpC,GAAK,IAAI,CAAG,IAAI,eAAe,CAAC,GAChC,EAAK,QAAQ,CAAG,CAAA,EAAG,EAAc,cAAc,CAAC,CAChD,EAAK,KAAK,GACV,IAAwB,EAC1B,EAMM,GAAiC,MAAO,IAC5C,IAAM,EAAO,MAAM,KACnB,GAAI,CAAC,EAAM,OAEX,IAAM,EAAkB,EAAQ,eAAe,CAAC,MAAM,CAAG,EAAI,EAAQ,eAAe,CAAG,EAAK,OAAO,CACnG,GAA+B,IAA3B,EAAgB,MAAM,CAAQ,OAElC,IAAM,EAAqB,EAAE,CAGzB,EAAQ,mBAAmB,EAAE,CAC/B,EAAS,IAAI,CAAC,sBACd,EAAS,IAAI,CAAC,KAGZ,EAAQ,iBAAiB,EAAE,CAC7B,EAAS,IAAI,CAAC,CAAC,qBAAqB,EAAE,EAAU,CAAC,CAAC,EAClD,EAAS,IAAI,CAAC,KAIhB,IAAM,EAAa,EAAgB,GAAG,CAAE,AAAD,IACrC,IAAM,EAAU,EAAQ,IAAI,CAAC,GAAK,EAAE,IAAI,GAAK,GACvC,EAAU,GAAS,MAAQ,OACjC,MAAO,CAAC,EAAE,EAAE,EAAI,CAAC,EAAE,EAAA,CAAS,AAC9B,GAAG,IAAI,CAAC,OAOR,GANA,EAAS,IAAI,CAAC,CAAC,aAAa,EAAE,AAlBZ,EAkBsB,EAAE,CAAC,EAC3C,EAAS,IAAI,CAAC,GACd,EAAS,IAAI,CAAC,MACd,EAAS,IAAI,CAAC,IAGV,EAAK,IAAI,CAAC,MAAM,CAAG,EACrB,CADwB,GACnB,IAAI,EAAI,EAAG,EAAI,EAAK,IAAI,CAAC,MAAM,CAAE,GAAK,EAAQ,SAAS,CAAE,CAE5D,IAAM,EADQ,AACI,EADC,IAAI,CAAC,KAAK,CAAC,EAAG,EAAI,EAAQ,SAAS,EAC9B,GAAG,CAAC,AAAC,IAC3B,IAAM,EAAS,EAAgB,GAAG,CAAC,IACjC,IAAM,EAAW,EAAK,OAAO,CAAC,OAAO,CAAC,GAChC,EAAM,EAAI,MAAM,CAAC,EAAS,CAChC,GAAiB,QAAQ,CAArB,EAAI,IAAI,CACV,MAAO,MAGF,EAFA,GAAiB,YAAb,EAAI,IAAI,EAA+B,QAAQ,CAArB,EAAI,IAAI,CAC3C,OAAO,OAAO,EAAI,KAAK,EAEvB,IAAM,EAAe,OAAO,EAAI,KAAK,EAAE,OAAO,CAAC,KAAM,MACrD,MAAO,CAAC,CAAC,EAAE,EAAa,CAAC,CAAC,AAC5B,CACF,GAAG,IAAI,CAAC,MACR,MAAO,CAAC,GAAG,EAAE,EAAO,CAAC,CAAC,AACxB,GAAG,IAAI,CAAC,OAER,EAAS,IAAI,CAAC,CAAC,YAAY,EAAE,EAAU,EAAE,EAAE,EAAgB,IAAI,CAAC,MAAM,QAAQ,CAAC,EAC/E,EAAS,IAAI,CAAC,EAAY,KAC1B,EAAS,IAAI,CAAC,GAChB,CAGE,EAAQ,mBAAmB,EAAE,AAC/B,EAAS,IAAI,CAAC,WAIhB,IAAM,EAAO,IAAI,KAAK,CADH,EAAS,IAAI,CAAC,MACC,CAAE,CAAE,KAAM,iBAAkB,GACxD,EAAO,SAAS,aAAa,CAAC,KACpC,EAAK,IAAI,CAAG,IAAI,eAAe,CAAC,GAChC,EAAK,QAAQ,CAAG,CAAA,EAAG,EAAc,aAAa,CAAC,CAC/C,EAAK,KAAK,GACV,IAAuB,EACzB,EA2BM,GAAa,KAAK,IAAI,CAAC,EAAY,GAEzC,MACE,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,GAAG,cAAc,UAAU,6CAC9B,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACC,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,8BAAqB,iBACnC,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,sCAA6B,kDAK5C,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,IAAI,CAAA,WACH,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,UAAU,CAAA,WACT,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,SAAS,CAAA,UAAC,oBACX,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,eAAe,CAAA,UAAC,yCAEnB,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,WAAW,CAAA,CAAC,UAAU,sBACrB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,oCACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,mBACb,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CAAM,QAAQ,cAAc,UAAU,0CAAiC,iBAGxE,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,uBACb,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,MAAM,CAAA,CAAC,MAAO,EAAe,cAtlBlB,AAAC,CAslBgC,GArlBzD,EAAiB,GACjB,EAAe,GACf,EAAc,MACd,EAAW,EAAE,CACf,YAklBgB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,aAAa,CAAA,CAAC,GAAG,cAAc,cAAY,eAAe,UAAU,kBACnE,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,WAAW,CAAA,CAAC,YAAY,qBAE3B,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,aAAa,CAAA,UACX,EAAO,GAAG,CAAC,GACV,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,UAAU,CAAA,CAAkB,MAAO,EAAM,IAAI,WAC3C,EAAM,IAAI,CAAC,KAAG,EAAM,QAAQ,CAAC,WADf,EAAM,IAAI,QAMjC,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAA,CACL,GAAG,gBACH,QAAS,GACT,QAAQ,UACR,SAAU,WACX,kBAML,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,iBACb,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CAAM,QAAQ,iBAAiB,UAAU,0CAAiC,cAG3E,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,MAAM,CAAA,CAAC,MAAO,EAAS,QAAQ,GAAI,cA1mBlB,AAAD,CA0mBkC,GAzmB7D,EAAY,SAAS,IACrB,EAAe,EACjB,YAwmBc,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,aAAa,CAAA,CAAC,GAAG,0BAChB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,WAAW,CAAA,CAAA,KAEd,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,aAAa,CAAA,WACZ,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,UAAU,CAAA,CAAC,MAAM,eAAM,QACxB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,UAAU,CAAA,CAAC,MAAM,eAAM,QACxB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,UAAU,CAAA,CAAC,MAAM,gBAAO,qBAMhC,GACC,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,4EACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,GAAG,qBAAW,UACV,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,yBAAiB,IAAiB,WAE3D,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WAAI,QACG,EAAY,OAAK,IAAc,cAO9C,GACC,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,IAAI,CAAA,WACH,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,UAAU,CAAA,WAER,GAAkB,MAAM,CAAG,GAC1B,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,aAAW,aAAa,iBAAe,CAAA,CAAA,EAAC,UAAU,yCACrD,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAA,CACL,QAhkBa,CAgkBJ,IA/jBvB,GAAI,AAA6B,OAAX,MAAM,CAAQ,OAEpC,IAAM,EAAW,EAAiB,CAAC,GAAkB,MAAM,CAAG,EAAE,CAGhE,GAFmB,GAAkB,KAAK,CAAC,EAAG,CAAC,IAG/C,EAAiB,AADI,EACK,KAAK,EAC/B,EAAe,EAAS,IAAI,EAC5B,EAAW,EAAS,OAAO,EAC3B,EAAc,EAAS,IAAI,CAC7B,EAsjBgB,QAAQ,QACR,KAAK,KACL,kBAAgB,CAAA,CAAA,EAChB,aAAW,qCACZ,WAGD,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,kEACZ,GAAkB,GAAG,CAAC,CAAC,EAAM,IAC5B,CAAA,EAAA,EAAA,IAAA,EAAC,OAAA,WACE,EAAK,KAAK,CAAC,OADH,IAIb,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,yCAAiC,UAKvD,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,6CACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACC,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,SAAS,CAAA,CAAC,kBAAgB,CAAA,CAAA,WAAE,IAC7B,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,eAAe,CAAA,WAAC,WACL,CAAC,GAAc,CAAC,CAAI,EAAY,EAAE,MAAI,KAAK,GAAG,CAAC,EAAc,EAAU,GAAW,OAAK,EAAU,cAG/G,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,uBACb,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,MAAM,CAAA,CACL,QAAS,IAAM,EAAmB,CAAC,GACnC,QAAQ,UACR,oBAAkB,CAAA,CAAA,YACnB,WACU,EAAQ,MAAM,CAAG,GAAK,CAAC,CAAC,EAAE,EAAQ,MAAM,CAAC,CAAC,CAAC,IAEtD,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAA,CAAC,QAAS,GAAc,SAAU,WAAS,YAGjD,EAAa,IAAI,CAAG,GACnB,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,MAAM,CAAA,CACL,QArYW,CAqYF,IApYC,GAAG,CAAzB,EAAa,IAAI,GACrB,EAAgB,CAAE,KAAM,MAAO,GAC/B,GAAoB,GACtB,EAkYkB,QAAQ,cACR,SAAU,YACX,oBACmB,EAAa,IAAI,CAAC,OAGxC,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAA,CACL,GAAG,oBACH,QAlSY,CAkSH,IAjSvB,GAA+B,GACjC,EAiSgB,QAAQ,UACR,KAAK,cACN,eAGD,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAA,CACL,GAAG,qBACH,QA9Oa,CA8OJ,IA7OvB,GAAgC,GAClC,EA6OgB,QAAQ,UACR,KAAK,cACN,gBAGD,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAA,CACL,GAAG,oBACH,QA5KY,CA4KH,IA3KvB,GAA+B,GACjC,EA2KgB,QAAQ,UACR,KAAK,cACN,eAGD,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,MAAM,CAAA,CAAC,KAAM,GAAkB,aAAc,aAC5C,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,aAAa,CAAA,CAAC,OAAO,CAAA,CAAA,WACpB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAA,CACL,GAAG,2BACH,QAAQ,UACR,KAAK,KACL,QAAS,KACH,EAAQ,MAAM,CAAG,GAA8C,GAAG,CAA5C,GAAc,eAAe,CAAC,MAAM,EAC5D,GAAiB,CAAE,GAAG,EAAa,CAAE,gBAAiB,EAAQ,GAAG,CAAC,GAAK,EAAE,IAAI,CAAE,EAEnF,WACD,kBAIH,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,aAAa,CAAA,CAAC,UAAU,6BACvB,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,YAAY,CAAA,WACX,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,WAAW,CAAA,UAAC,uBACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,iBAAiB,CAAA,UAAC,0CAIrB,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,2BACZ,EAAQ,MAAM,CAAG,GAChB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,uBACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,CAAC,UAAU,+BAAsB,6BACvC,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,4BACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAA,CACL,GAAG,mBACH,KAAK,SACL,QAAQ,UACR,KAAK,KACL,QAAS,IAAM,GAAiB,CAAE,GAAG,EAAa,CAAE,gBAAiB,EAAQ,GAAG,CAAC,GAAK,EAAE,IAAI,CAAE,YAC/F,eAGD,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAA,CACL,GAAG,qBACH,KAAK,SACL,QAAQ,UACR,KAAK,KACL,QAAS,IAAM,GAAiB,CAAE,GAAG,EAAa,CAAE,gBAAiB,EAAE,AAAC,YACzE,oBAIH,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,2DACZ,EAAQ,GAAG,CAAC,AAAC,GACZ,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAmB,UAAU,wCAC5B,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,QAAQ,CAAA,CACP,GAAI,CAAC,OAAO,EAAE,EAAI,IAAI,CAAA,CAAE,CACxB,QAAS,GAAc,eAAe,CAAC,QAAQ,CAAC,EAAI,IAAI,EACxD,gBAAiB,AAAC,IACZ,EACF,GAAiB,CACf,GAFS,AAEN,EAAa,CAChB,gBAAiB,IAAI,GAAc,eAAe,CAAE,EAAI,IAAI,CAAC,AAC/D,GAEA,GAAiB,CACf,GAAG,EAAa,CAChB,gBAAiB,GAAc,eAAe,CAAC,MAAM,CAAC,GAAK,IAAM,EAAI,IAAI,CAC3E,EAEJ,IAEF,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,CAAC,QAAS,CAAC,OAAO,EAAE,EAAI,IAAI,CAAA,CAAE,CAAE,UAAU,kCAC7C,EAAI,IAAI,KAnBH,EAAI,IAAI,UA2B5B,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,YAAY,CAAA,UACX,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAA,CACL,GAAG,gBACH,QAAS,IAAM,GAA+B,aAC/C,4BASb,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,WAAW,CAAA,WAET,GACC,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,kDACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,sBACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,iCACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,mBACb,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CAAM,UAAU,+BAAsB,WACvC,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,MAAM,CAAA,CACL,MAAO,EAAU,MAAM,CACvB,cAAe,AAAC,GAAU,GAAa,CAAC,GAAG,CAAS,CAAE,OAAQ,CAAK,aAEnE,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,aAAa,CAAA,CAAC,GAAG,gBAAgB,oBAAkB,CAAA,CAAA,WAClD,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,WAAW,CAAA,CAAC,YAAY,oBAE3B,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,aAAa,CAAA,UACX,EAAQ,GAAG,CAAC,GACX,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,UAAU,CAAA,CAAgB,MAAO,EAAI,IAAI,UACvC,EAAI,IAAI,EADM,EAAI,IAAI,WAOjC,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,mBACb,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CAAM,UAAU,+BAAsB,aACvC,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,MAAM,CAAA,CACL,MAAO,EAAU,QAAQ,CACzB,cAAe,AAAC,GAAU,GAAa,CAAC,GAAG,CAAS,CAAE,SAAU,CAAK,aAErE,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,aAAa,CAAA,CAAC,GAAG,kBAAkB,sBAAoB,CAAA,CAAA,WACtD,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,WAAW,CAAA,CAAA,KAEd,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,aAAa,CAAA,WACZ,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,UAAU,CAAA,CAAC,MAAM,kBAAS,WAC3B,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,UAAU,CAAA,CAAC,MAAM,oBAAW,aAC7B,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,UAAU,CAAA,CAAC,MAAM,uBAAc,gBAChC,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,UAAU,CAAA,CAAC,MAAM,wBAAe,iBACjC,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,UAAU,CAAA,CAAC,MAAM,qBAAY,cAC9B,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,UAAU,CAAA,CAAC,MAAM,yBAAgB,qBAClC,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,UAAU,CAAA,CAAC,MAAM,sBAAa,kBAC/B,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,UAAU,CAAA,CAAC,MAAM,qBAAY,cAC9B,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,UAAU,CAAA,CAAC,MAAM,mBAAU,YAC5B,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,UAAU,CAAA,CAAC,MAAM,uBAAc,yBAItC,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,mBACb,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CAAM,UAAU,+BAAsB,UACvC,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CACC,GAAG,eACH,mBAAiB,CAAA,CAAA,EACjB,KAAK,OACL,UAAU,qCACV,MAAO,EAAU,KAAK,CACtB,SAAU,AAAC,GAAM,GAAa,CAAC,GAAG,CAAS,CAAE,MAAO,EAAE,MAAM,CAAC,KAAK,QAGtE,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAA,CACL,QAp0BI,CAo0BK,IAn0BvB,EAAU,MAAM,EAAI,EAAU,QAAQ,EAAE,CAC1C,EAAW,IAAI,EAAS,EAAU,EAClC,GAAa,CAAE,OAAQ,GAAI,SAAU,SAAU,MAAO,EAAG,GACzD,EAAe,GAEnB,EA+zBoB,UAAU,mBACX,kBAMF,EAAQ,MAAM,CAAG,GAChB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,sBACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,8CACb,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CAAM,UAAU,+BAAsB,oBACvC,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAA,CACL,QAz0BG,CAy0BM,IAx0B/B,EAAW,EAAE,EACb,EAAe,EACjB,EAu0BwB,QAAQ,QACR,KAAK,KACL,oBAAkB,CAAA,CAAA,WACnB,iBAIH,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,gCACZ,EAAQ,GAAG,CAAC,CAAC,EAAQ,IACpB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAEC,UAAU,iFAEV,CAAA,EAAA,EAAA,IAAA,EAAC,OAAA,WACE,EAAO,MAAM,CAAC,IAAE,EAAO,QAAQ,CAAC,OAAO,CAAC,KAAM,KAAK,IAAE,EAAO,KAAK,EAAI,MAExE,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACC,QAAS,IAAM,CAp1BzC,EADuB,EAAQ,MAAM,CAAC,AAC3B,CAD4B,EAAG,IAAM,IAq1BY,EAr1BN,EAEtD,EAAe,IAo1BW,UAAU,sDACX,QATI,cAqBpB,EACC,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,4BACb,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,UAAG,EAAe,kBAAoB,iBAEvB,IAAhB,EAAK,MAAM,CACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,kDACb,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,UAAE,4BAGL,CAAA,EAAA,EAAA,IAAA,EAAA,EAAA,QAAA,CAAA,WACE,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,yDACb,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,KAAK,CAAA,WACJ,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,WAAW,CAAA,UACV,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,QAAQ,CAAA,WACP,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,SAAS,CAAA,CAAC,UAAU,oBACnB,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CACC,KAAK,WACL,QAAS,EAAa,IAAI,GAAK,EAAK,MAAM,EAAI,EAAK,MAAM,CAAG,EAC5D,SAtXF,CAsXY,IArX9B,EAAa,IAAI,GAAK,EAAK,MAAM,CAEnC,CAFqC,CAErB,IAAI,KAIpB,EAAgB,IAAI,IAAI,AADN,EAAK,GAAG,CAAC,GAAO,EAAI,MAAM,CAAC,EAAE,CAAC,KAAK,GAGzD,EA8W0B,UAAU,qBAGd,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,SAAS,CAAA,CAAC,UAAU,qBAAY,UAChC,EAAQ,GAAG,CAAC,IACX,MAAM,GA70BH,EA60B8B,EAAI,EAAtB,EAA0B,CA50BxD,GAAY,IAAI,CAAC,GAAM,EAAG,IAAI,GAAK,IA60BpB,MACA,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,SAAS,CAAA,CAER,QAAS,IAAM,cA35BrB,EA25BgC,EAAI,IAAI,MA15BtD,GAAY,SAAW,EAEzB,EAAc,CACZ,OAHmC,AAG3B,EACR,UAAoC,QAAzB,EAAW,SAAS,CAAa,OAAS,KACvD,GAGA,EAAc,CAAE,OAAQ,EAAY,UAAW,KAAM,GAEvD,EAAe,KAi5BS,UAAU,4CAEV,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,oCACZ,EAAI,IAAI,CACR,GACC,CAAA,EAAA,EAAA,IAAA,EAAC,OAAA,CACC,UAAU,wBACV,mBAAiB,CAAA,CAAA,EACjB,MAAO,CAAC,eAAe,EAAE,EAAO,KAAK,CAAC,CAAC,EAAE,EAAO,EAAE,CAAA,CAAE,WACrD,KACI,EAAO,KAAK,IAGlB,GAAY,SAAW,EAAI,IAAI,EAC9B,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,mBACY,QAAzB,EAAW,SAAS,CAAa,IAAM,MAG5C,CAAA,EAAA,EAAA,IAAA,EAAC,OAAA,CAAK,UAAU,+CAAqC,IACjD,EAAI,IAAI,CAAC,WArBV,EAAI,IAAI,CA0BjB,GACA,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,SAAS,CAAA,CAAC,UAAU,qBAAY,iBAGrC,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,SAAS,CAAA,UACP,EAAK,GAAG,CAAC,CAAC,EAAK,KACd,IAAM,EAAQ,EAAI,MAAM,CAAC,EAAE,CAAC,KAAK,CACjC,MACA,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,QAAQ,CAAA,WACP,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,SAAS,CAAA,UACR,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CACC,KAAK,WACL,QAAS,EAAa,GAAG,CAAC,GAC1B,SAAU,IAAM,OA9atC,CADE,EAAc,IAAI,IAAI,IACZ,GAAG,CAAC,AA8asC,GA7axD,EAAY,GADc,GACR,CAAC,GAEnB,EAAY,GAAG,CAAC,GAElB,EAAgB,IA0aU,UAAU,qBAGd,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,SAAS,CAAA,CAAC,UAAU,6BAClB,IAEF,EAAI,MAAM,CAAC,KAAK,CAAC,GAAG,GAAG,CAAC,CAAC,EAAW,KACnC,QA0Cc,EA1CR,EAAY,GAAa,WAAa,GAAY,GAAa,cAAgB,EAC/E,EAAS,CAAO,CAAC,EAAU,CAC3B,GAr4BJ,EAq4B8B,EAAnB,AAA0B,IAAI,CAp4B5D,GAAY,IAAI,CAAC,GAAM,EAAG,IAAI,GAAK,IAq4BZ,EAAY,EAAK,KAAK,CAEtB,EAAS,GAAa,EAAO,IAAI,GAAK,MAAM,OAAO,CAAC,GACpD,EAAW,EAAS,IAAI,WAAW,GAAW,MAAM,CAAG,EAE7D,MACE,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,SAAS,CAAA,CAER,UAAW,CAAC;kCACV,EAAE,AAAe,SAAV,KAAK,OAA4B,IAAf,EAAK,KAAK,CAAiB,aAAe,GAAG;kCACtE,EAAE,EAAY,UAAY,mCAAmC;gCAC/D,CAAC,CACD,cAAe,iBAAM,CAAC,QAz4BlD,EAAe,CAAE,EAy4B8C,OAAsB,EAz4B1D,YAy4BoE,EAz4BvD,KAAA,CAD4B,EA04BsC,EAAK,KAz4BjE,AAy4BsE,GAx4BpH,QAAa,EAAwC,OAAO,CAArC,EAA8C,IACrE,EAD+B,AACnB,QAw4BgB,EAz4Ba,aAy4BC,GAA8B,MAAtB,EAAgD,MAAZ,MAAtB,AAA2C,EAC/E,oBAAmB,EAAS,YAAS,EACrC,iBAAgB,EAAS,GAAe,QAAY,WAEnD,EACC,GAAa,EAAO,IAAI,EACtB,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CACC,KAAK,OACL,SAAU,GACV,UAAU,uFAGZ,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CACC,IAAA,CAhyB9B,CADE,AAiyBkC,EAjyB3B,AAiyBwC,EAAO,IAAI,CAjyBxC,WAAW,IAC1B,QAAQ,CAAC,QAAQ,AACtB,EAAK,QAAQ,CAAC,SAAW,EAAK,QAAQ,CAAC,UAAY,EAAK,QAAQ,CAAC,WAAa,EAAK,QAAQ,CAAC,WAD/D,CAC2E,OAAO,CAC/G,EAAK,QAAQ,CAAC,QAAgB,CAAP,MACpB,OA8xB2B,KAAM,EAAO,IAAI,CAAC,QAAQ,CAAC,SAAW,EAAO,IAAI,CAAC,QAAQ,CAAC,UAAY,EAAO,IAAI,CAAC,QAAQ,CAAC,UAAY,MAAQ,OAChH,MAAO,EACP,SAAU,AAAC,GAAM,EAAa,EAAE,MAAM,CAAC,KAAK,EAC5C,UAAW,GACX,SAAS,CAAA,CAAA,EACT,UAAU,uFAGG,OAAf,EAAK,KAAK,EAA4B,SAAf,EAAK,KAAK,CACnC,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,wCAA+B,SAC7C,GAAa,EAAO,IAAI,GAAK,MAAM,OAAO,CAAC,MAE1B,IAAI,GADvB,CAAC,OACiC,GAE9B,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,oCA9xBjD,AA+xBqC,EAAY,AA/xB7C,EAAK,MAAM,EAAG,GAAG,CAEL,MAFY,AAExB,CAAI,CAAC,EAAE,EAAyB,KAAZ,CAAI,CAAC,EAAE,EAAyB,KAAZ,CAAI,CAAC,EAAE,EAAyB,KAAZ,CAAI,AAAc,CAAb,EAAE,EAEnE,AAAY,EAFyE,KAEjF,CAAC,EAAE,EAAyB,MAAZ,CAAI,CAAC,EAAE,EAAyB,MAAM,AAAlB,CAAI,CAAC,EAAE,EAEnC,CAFqD,IAEjE,CAAI,CAAC,EAAE,EAAyB,KAAZ,CAAI,CAAC,EAAE,EAAyB,AAAZ,MAAkB,AAAd,CAAC,EAAE,EAEnC,EAFqD,GAEjE,CAAI,CAAC,EAAE,EAAyB,KAAZ,CAAI,CAAC,EAAE,EAAyB,KAAZ,CAAI,CAAC,EAAE,EAAyB,KAAZ,CAAI,CAAC,EAAE,EAAa,EAAK,MAAM,CAAG,IAAI,AACpF,KAAZ,CAAI,CAAC,EAAE,EAAyB,KAAZ,CAAI,CAAC,EAAE,EAA0B,KAAb,CAAI,CAAC,GAAG,EAA0B,KAAb,CAAI,AAAe,CAAd,GAAG,EAuxBrC,CAvxBuD,AAuxBvD,EAAA,EAAA,GAAA,EAAC,MAAA,CACC,IAAK,CAnxBzB,CAAC,EAAkB,EAAmB,WAAW,IACrE,IAAM,EAAO,IAAI,KAAK,CAAC,EAAY,CAAE,CAAE,KAAM,CAAS,GACtD,OAAO,IAAI,eAAe,CAAC,GAC7B,EAgxB6D,GACnB,IAAI,eACJ,UAAU,8CAEV,KACJ,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,yCACb,GAAe,EAAS,MAAM,IAEjC,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACC,QAAS,AAAC,IACR,EAAE,eAAe,GACjB,CAzxBf,CAAC,EAAkB,EAAmB,cAAc,IAC7E,IAAM,EAAO,IAAI,KAAK,CAAC,EAAY,EAC7B,EAAM,IAAI,eAAe,CAAC,GAC1B,EAAI,SAAS,aAAa,CAAC,KACjC,EAAE,IAAI,CAAG,EACT,EAAE,QAAQ,CAAG,EACb,SAAS,IAAI,CAAC,WAAW,CAAC,GAC1B,EAAE,KAAK,GACP,SAAS,IAAI,CAAC,WAAW,CAAC,GAC1B,IAAI,eAAe,CAAC,EACtB,GA+wB6D,EAAU,CAAC,KAAK,EAAE,EAAM,CAAC,EAAE,EAAO,IAAI,CAAC,IAAI,CAAC,CACjE,EACA,UAAU,mFACV,oBAAkB,CAAA,CAAA,WACnB,UAML,EACF,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACC,QAAS,AAAC,gBACR,EAAE,eAAe,GA/+BtB,EAg/B2B,EAAO,IAAI,EA9+B7D,EAF2C,AAEtC,GAAY,IAAI,CAAC,GAAM,EAAG,IAAI,GAAK,KACf,UAG/B,EAH2C,CAGtB,IAAI,GAAmB,CAC1C,EAJoD,IAI7C,EACP,KAAM,EACN,QAAS,EACT,KAAM,CACR,EAAE,EAGF,EAAiB,EAAG,KAAK,EACzB,EAAW,CAAC,CACV,OAAQ,EAAG,EAAE,CACb,SAAU,SACV,MAAO,OAAO,AA89BqD,EA79BrE,EAAE,EACF,EAAe,GACf,EAAc,MA49BkB,EACA,UAAU,uDAET,OAAO,KAGV,OAAO,IArEJ,EAyEX,GACA,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,SAAS,CAAA,UACR,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAA,CACL,QAAS,IAAM,CAxwBzC,EAAgB,CAAE,KAAM,SAAU,MAwwBuB,CAxwBjB,GACxC,GAAoB,IAwwBM,QAAQ,QACR,KAAK,KACL,SAAU,EACV,aAAW,sBACZ,eAxGU,EA8GjB,UAKN,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,mDACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAA,CACL,QAvjCS,CAujCA,IAtjCrB,EAAc,GAChB,AADmB,EACJ,EAAc,EAEjC,EAojCkB,SAA0B,IAAhB,EACV,QAAQ,mBACT,aAGD,CAAA,EAAA,EAAA,IAAA,EAAC,OAAA,CAAK,UAAU,0CAAgC,QACxC,EAAY,OAAK,MAEzB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAA,CACL,QAxkCK,CAwkCI,IAtkCrB,EADe,KAAK,IAAI,CAAC,EACX,AADuB,IAEvC,EAAe,EAAc,EAEjC,EAHgC,AAukCd,SAAU,GAAe,GACzB,QAAQ,mBACT,qBAWZ,GACC,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CACC,UAAU,kEACV,QAAS,YAET,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CACC,KAAK,cACL,UAAU,8DACV,QAAS,AAAC,GAAM,EAAE,eAAe,aAEjC,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,sCAA6B,mBAC3C,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,sCACV,GAAc,OAAS,OACpB,CAAC,gCAAgC,EAAE,EAAa,IAAI,CAAC,sCAAsC,CAAC,CAC5F,4EAEN,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,mCACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAA,CACL,QAAS,GACT,QAAQ,UACR,KAAK,SACL,GAAG,8BACJ,WAGD,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAA,CACL,QAAS,GACT,QAAQ,cACR,KAAK,SACL,GAAG,+BACJ,qBASf"}