{"version":3,"sources":["turbopack:///[project]/pwa/app/db/diff/page.tsx"],"sourcesContent":["'use client';\n\nimport { useState, useEffect } from 'react';\nimport { useDatabaseStore } from '@/lib/db/store';\nimport { Button } from '@/components/ui/button';\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card';\nimport {\n  Select,\n  SelectContent,\n  SelectItem,\n  SelectTrigger,\n  SelectValue,\n} from '@/components/ui/select';\nimport { Alert, AlertDescription } from '@/components/ui/alert';\nimport { Badge } from '@/components/ui/badge';\n\ninterface TableInfo {\n  name: string;\n  sql: string;\n}\n\ninterface ColumnInfo {\n  cid: number;\n  name: string;\n  type: string;\n  notnull: number;\n  dflt_value: any;\n  pk: number;\n}\n\ninterface IndexInfo {\n  name: string;\n  sql: string;\n}\n\ninterface SchemaDiff {\n  tablesAdded: string[];\n  tablesRemoved: string[];\n  tablesModified: {\n    name: string;\n    columnsAdded: string[];\n    columnsRemoved: string[];\n    columnsModified: string[];\n  }[];\n  indexesAdded: string[];\n  indexesRemoved: string[];\n}\n\nfunction SchemaDiffContent() {\n  const { db: currentDb } = useDatabaseStore();\n  const [allDatabases, setAllDatabases] = useState<string[]>([]);\n  const [sourceDbName, setSourceDbName] = useState<string>('');\n  const [targetDbName, setTargetDbName] = useState<string>('');\n  const [diff, setDiff] = useState<SchemaDiff | null>(null);\n  const [isComparing, setIsComparing] = useState(false);\n  const [error, setError] = useState<string | null>(null);\n  const [wasmReady, setWasmReady] = useState(false);\n  const [forwardMigration, setForwardMigration] = useState<string>('');\n  const [rollbackMigration, setRollbackMigration] = useState<string>('');\n  const [showMigration, setShowMigration] = useState(false);\n  const [isGenerating, setIsGenerating] = useState(false);\n\n  // Initialize WASM\n  useEffect(() => {\n    if (typeof window === 'undefined') return;\n    if ((window as any).Database) {\n      setWasmReady(true);\n      return; // Already initialized\n    }\n\n    async function initializeWasm() {\n      try {\n        const { default: init, Database } = await import('@npiesco/absurder-sql');\n        await init();\n        (window as any).Database = Database;\n        setWasmReady(true);\n      } catch (err: any) {\n        console.error('Failed to initialize WASM:', err);\n      }\n    }\n\n    initializeWasm();\n  }, []);\n\n  // Load list of all databases from IndexedDB\n  useEffect(() => {\n    if (!wasmReady) return;\n    \n    async function loadDatabases() {\n      try {\n        const Database = (window as any).Database;\n        if (Database && Database.getAllDatabases) {\n          const dbNames = await Database.getAllDatabases();\n          setAllDatabases(dbNames);\n        }\n      } catch (err) {\n        console.error('Failed to load databases:', err);\n      }\n    }\n\n    loadDatabases();\n  }, [wasmReady]);\n\n  const compareDatabases = async () => {\n    if (!sourceDbName || !targetDbName) {\n      setError('Please select both source and target databases');\n      return;\n    }\n\n    if (sourceDbName === targetDbName) {\n      setDiff({\n        tablesAdded: [],\n        tablesRemoved: [],\n        tablesModified: [],\n        indexesAdded: [],\n        indexesRemoved: [],\n      });\n      return;\n    }\n\n    setIsComparing(true);\n    setError(null);\n    setDiff(null);\n\n    try {\n      // Load both databases using Database class\n      const Database = (window as any).Database;\n      if (!Database) {\n        throw new Error('Database API not available');\n      }\n\n      const sourceDb = await Database.newDatabase(sourceDbName);\n      const targetDb = await Database.newDatabase(targetDbName);\n\n      // Get schema information from both databases\n      const sourceTables = await sourceDb.execute(\n        \"SELECT name, sql FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite_%' ORDER BY name\"\n      );\n      const targetTables = await targetDb.execute(\n        \"SELECT name, sql FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite_%' ORDER BY name\"\n      );\n\n      const sourceIndexes = await sourceDb.execute(\n        \"SELECT name, sql FROM sqlite_master WHERE type='index' AND name NOT LIKE 'sqlite_%' ORDER BY name\"\n      );\n      const targetIndexes = await targetDb.execute(\n        \"SELECT name, sql FROM sqlite_master WHERE type='index' AND name NOT LIKE 'sqlite_%' ORDER BY name\"\n      );\n\n      // Build sets for comparison\n      const sourceTableNames = new Set<string>(sourceTables.rows.map((r: any) => r.values[0].value as string));\n      const targetTableNames = new Set<string>(targetTables.rows.map((r: any) => r.values[0].value as string));\n      const sourceIndexNames = new Set<string>(sourceIndexes.rows.map((r: any) => r.values[0].value as string));\n      const targetIndexNames = new Set<string>(targetIndexes.rows.map((r: any) => r.values[0].value as string));\n\n      // Calculate differences\n      const tablesAdded = Array.from(targetTableNames).filter(t => !sourceTableNames.has(t));\n      const tablesRemoved = Array.from(sourceTableNames).filter(t => !targetTableNames.has(t));\n      const indexesAdded = Array.from(targetIndexNames).filter(i => !sourceIndexNames.has(i));\n      const indexesRemoved = Array.from(sourceIndexNames).filter(i => !targetIndexNames.has(i));\n\n      // Check for modified tables (tables in both but with different columns)\n      const tablesModified: SchemaDiff['tablesModified'] = [];\n      const commonTables = Array.from(sourceTableNames).filter(t => targetTableNames.has(t));\n\n      for (const tableName of commonTables) {\n        try {\n          const sourceColumns = await sourceDb.execute(`PRAGMA table_info(${tableName})`);\n          const targetColumns = await targetDb.execute(`PRAGMA table_info(${tableName})`);\n\n          const sourceColNames = new Set<string>(sourceColumns.rows.map((r: any) => r.values[1].value as string));\n          const targetColNames = new Set<string>(targetColumns.rows.map((r: any) => r.values[1].value as string));\n\n          const columnsAdded: string[] = Array.from(targetColNames).filter(c => !sourceColNames.has(c));\n          const columnsRemoved: string[] = Array.from(sourceColNames).filter(c => !targetColNames.has(c));\n\n          if (columnsAdded.length > 0 || columnsRemoved.length > 0) {\n            tablesModified.push({\n              name: tableName,\n              columnsAdded,\n              columnsRemoved,\n              columnsModified: [],\n            });\n          }\n        } catch (err) {\n          console.error(`Error comparing table ${tableName}:`, err);\n        }\n      }\n\n      // Close temporary databases\n      await sourceDb.close();\n      await targetDb.close();\n\n      setDiff({\n        tablesAdded,\n        tablesRemoved,\n        tablesModified,\n        indexesAdded,\n        indexesRemoved,\n      });\n    } catch (err: any) {\n      console.error('[SchemaDiff] Error comparing databases:', err);\n      setError(err.message || 'Failed to compare databases');\n    } finally {\n      setIsComparing(false);\n    }\n  };\n\n  const hasDifferences = diff && (\n    diff.tablesAdded.length > 0 ||\n    diff.tablesRemoved.length > 0 ||\n    diff.tablesModified.length > 0 ||\n    diff.indexesAdded.length > 0 ||\n    diff.indexesRemoved.length > 0\n  );\n\n  const generateMigrationSQL = async () => {\n    if (!diff || !hasDifferences) return;\n\n    setIsGenerating(true);\n    try {\n      const Database = (window as any).Database;\n      if (!Database) {\n        throw new Error('Database API not available');\n      }\n\n      const targetDb = await Database.newDatabase(targetDbName);\n      const sourceDb = await Database.newDatabase(sourceDbName);\n\n      // Build forward migration (source â†’ target)\n      const forwardStatements: string[] = [];\n      const rollbackStatements: string[] = [];\n\n      forwardStatements.push('-- Forward Migration');\n      forwardStatements.push(`-- Migrate ${sourceDbName} to ${targetDbName} schema`);\n      forwardStatements.push('-- Generated: ' + new Date().toISOString());\n      forwardStatements.push('');\n      forwardStatements.push('BEGIN TRANSACTION;');\n      forwardStatements.push('');\n\n      rollbackStatements.push('-- Rollback Migration');\n      rollbackStatements.push(`-- Rollback ${targetDbName} to ${sourceDbName} schema`);\n      rollbackStatements.push('-- Generated: ' + new Date().toISOString());\n      rollbackStatements.push('');\n      rollbackStatements.push('BEGIN TRANSACTION;');\n      rollbackStatements.push('');\n\n      // Handle table additions (forward: CREATE TABLE, rollback: DROP TABLE)\n      for (const tableName of diff.tablesAdded) {\n        try {\n          const tableInfo = await targetDb.execute(\n            `SELECT sql FROM sqlite_master WHERE type='table' AND name='${tableName}'`\n          );\n          if (tableInfo.rows.length > 0) {\n            const createSql = tableInfo.rows[0].values[0].value;\n            forwardStatements.push(`-- Add table: ${tableName}`);\n            forwardStatements.push(createSql + ';');\n            forwardStatements.push('');\n\n            rollbackStatements.push(`-- Remove table: ${tableName}`);\n            rollbackStatements.push(`DROP TABLE IF EXISTS ${tableName};`);\n            rollbackStatements.push('');\n          }\n        } catch (err) {\n          console.error(`Error getting CREATE statement for ${tableName}:`, err);\n        }\n      }\n\n      // Handle table removals (forward: DROP TABLE, rollback: CREATE TABLE)\n      for (const tableName of diff.tablesRemoved) {\n        try {\n          const tableInfo = await sourceDb.execute(\n            `SELECT sql FROM sqlite_master WHERE type='table' AND name='${tableName}'`\n          );\n          if (tableInfo.rows.length > 0) {\n            const createSql = tableInfo.rows[0].values[0].value;\n            forwardStatements.push(`-- Remove table: ${tableName}`);\n            forwardStatements.push(`DROP TABLE IF EXISTS ${tableName};`);\n            forwardStatements.push('');\n\n            rollbackStatements.push(`-- Restore table: ${tableName}`);\n            rollbackStatements.push(createSql + ';');\n            rollbackStatements.push('');\n          }\n        } catch (err) {\n          console.error(`Error getting DROP statement for ${tableName}:`, err);\n        }\n      }\n\n      // Handle modified tables (ALTER TABLE statements)\n      for (const table of diff.tablesModified) {\n        try {\n          // Get column details from target for added columns\n          const targetColumns = await targetDb.execute(`PRAGMA table_info(${table.name})`);\n          \n          // Handle column additions\n          for (const colName of table.columnsAdded) {\n            const colInfo = targetColumns.rows.find((r: any) => r.values[1].value === colName);\n            if (colInfo) {\n              const colType = colInfo.values[2].value;\n              const notNull = colInfo.values[3].value === 1;\n              const dfltValue = colInfo.values[4].value;\n              \n              let alterStmt = `ALTER TABLE ${table.name} ADD COLUMN ${colName} ${colType}`;\n              if (notNull) alterStmt += ' NOT NULL';\n              if (dfltValue !== null) {\n                alterStmt += ` DEFAULT ${dfltValue}`;\n              }\n              \n              forwardStatements.push(`-- Add column to ${table.name}`);\n              forwardStatements.push(alterStmt + ';');\n              forwardStatements.push('');\n\n              // SQLite doesn't support DROP COLUMN in older versions\n              // We note this in the rollback\n              rollbackStatements.push(`-- Note: SQLite DROP COLUMN requires table recreation`);\n              rollbackStatements.push(`-- Column ${colName} was added to ${table.name}`);\n              rollbackStatements.push('');\n            }\n          }\n\n          // Handle column removals\n          for (const colName of table.columnsRemoved) {\n            // Note: SQLite doesn't support DROP COLUMN easily\n            forwardStatements.push(`-- Note: Removing column ${colName} from ${table.name}`);\n            forwardStatements.push(`-- SQLite requires table recreation for column removal`);\n            forwardStatements.push(`-- Consider manual migration or backup/restore`);\n            forwardStatements.push('');\n\n            rollbackStatements.push(`-- Note: Column ${colName} was removed from ${table.name}`);\n            rollbackStatements.push(`-- Would require ALTER TABLE ADD COLUMN`);\n            rollbackStatements.push('');\n          }\n        } catch (err) {\n          console.error(`Error generating ALTER statements for ${table.name}:`, err);\n        }\n      }\n\n      // Handle index additions\n      for (const indexName of diff.indexesAdded) {\n        try {\n          const indexInfo = await targetDb.execute(\n            `SELECT sql FROM sqlite_master WHERE type='index' AND name='${indexName}'`\n          );\n          if (indexInfo.rows.length > 0 && indexInfo.rows[0].values[0].value) {\n            const createSql = indexInfo.rows[0].values[0].value;\n            forwardStatements.push(`-- Add index: ${indexName}`);\n            forwardStatements.push(createSql + ';');\n            forwardStatements.push('');\n\n            rollbackStatements.push(`-- Remove index: ${indexName}`);\n            rollbackStatements.push(`DROP INDEX IF EXISTS ${indexName};`);\n            rollbackStatements.push('');\n          }\n        } catch (err) {\n          console.error(`Error getting CREATE INDEX for ${indexName}:`, err);\n        }\n      }\n\n      // Handle index removals\n      for (const indexName of diff.indexesRemoved) {\n        try {\n          const indexInfo = await sourceDb.execute(\n            `SELECT sql FROM sqlite_master WHERE type='index' AND name='${indexName}'`\n          );\n          if (indexInfo.rows.length > 0 && indexInfo.rows[0].values[0].value) {\n            const createSql = indexInfo.rows[0].values[0].value;\n            forwardStatements.push(`-- Remove index: ${indexName}`);\n            forwardStatements.push(`DROP INDEX IF EXISTS ${indexName};`);\n            forwardStatements.push('');\n\n            rollbackStatements.push(`-- Restore index: ${indexName}`);\n            rollbackStatements.push(createSql + ';');\n            rollbackStatements.push('');\n          }\n        } catch (err) {\n          console.error(`Error getting DROP INDEX for ${indexName}:`, err);\n        }\n      }\n\n      forwardStatements.push('COMMIT;');\n      rollbackStatements.push('COMMIT;');\n\n      await targetDb.close();\n      await sourceDb.close();\n\n      setForwardMigration(forwardStatements.join('\\n'));\n      setRollbackMigration(rollbackStatements.join('\\n'));\n      setShowMigration(true);\n    } catch (err: any) {\n      console.error('[MigrationGenerator] Error generating migration:', err);\n      setError(err.message || 'Failed to generate migration');\n    } finally {\n      setIsGenerating(false);\n    }\n  };\n\n  const downloadFile = (content: string, filename: string) => {\n    const blob = new Blob([content], { type: 'text/plain' });\n    const url = URL.createObjectURL(blob);\n    const a = document.createElement('a');\n    a.href = url;\n    a.download = filename;\n    document.body.appendChild(a);\n    a.click();\n    document.body.removeChild(a);\n    URL.revokeObjectURL(url);\n  };\n\n  const downloadForwardMigration = () => {\n    const timestamp = new Date().toISOString().split('T')[0];\n    downloadFile(forwardMigration, `forward_migration_${timestamp}.sql`);\n  };\n\n  const downloadRollbackMigration = () => {\n    const timestamp = new Date().toISOString().split('T')[0];\n    downloadFile(rollbackMigration, `rollback_migration_${timestamp}.sql`);\n  };\n\n  return (\n    <div className=\"container mx-auto p-6 space-y-6\">\n      <h1 className=\"text-3xl font-bold mb-6\">Schema Diff</h1>\n      <Card>\n        <CardHeader>\n          <CardTitle>Compare Databases</CardTitle>\n          <CardDescription>\n            Compare schema differences between two databases\n          </CardDescription>\n        </CardHeader>\n        <CardContent className=\"space-y-4\">\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n            <div className=\"space-y-2\">\n              <label htmlFor=\"sourceDb\" className=\"text-sm font-medium\">\n                Source Database\n              </label>\n              <Select value={sourceDbName} onValueChange={setSourceDbName}>\n                <SelectTrigger id=\"sourceDb\">\n                  <SelectValue placeholder=\"Select source database\" />\n                </SelectTrigger>\n                <SelectContent>\n                  {allDatabases.map((dbName) => (\n                    <SelectItem key={dbName} value={dbName}>\n                      {dbName}\n                    </SelectItem>\n                  ))}\n                </SelectContent>\n              </Select>\n            </div>\n\n            <div className=\"space-y-2\">\n              <label htmlFor=\"targetDb\" className=\"text-sm font-medium\">\n                Target Database\n              </label>\n              <Select value={targetDbName} onValueChange={setTargetDbName}>\n                <SelectTrigger id=\"targetDb\">\n                  <SelectValue placeholder=\"Select target database\" />\n                </SelectTrigger>\n                <SelectContent>\n                  {allDatabases.map((dbName) => (\n                    <SelectItem key={dbName} value={dbName}>\n                      {dbName}\n                    </SelectItem>\n                  ))}\n                </SelectContent>\n              </Select>\n            </div>\n          </div>\n\n          <Button\n            id=\"compareButton\"\n            onClick={compareDatabases}\n            disabled={!sourceDbName || !targetDbName || isComparing}\n          >\n            {isComparing ? 'Comparing...' : 'Compare Databases'}\n          </Button>\n\n          {error && (\n            <Alert variant=\"destructive\">\n              <AlertDescription>{error}</AlertDescription>\n            </Alert>\n          )}\n        </CardContent>\n      </Card>\n\n      {diff && !hasDifferences && (\n        <Card>\n          <CardContent className=\"py-8\">\n            <p className=\"text-center text-muted-foreground\">\n              No differences found. The databases have identical schemas.\n            </p>\n          </CardContent>\n        </Card>\n      )}\n\n      {diff && hasDifferences && (\n        <div className=\"space-y-4\" data-testid=\"diff-summary\">\n          <Card>\n            <CardContent className=\"py-4\">\n              <Button\n                id=\"generateMigrationButton\"\n                onClick={generateMigrationSQL}\n                disabled={isGenerating}\n                className=\"w-full md:w-auto\"\n              >\n                {isGenerating ? 'Generating...' : 'Generate Migration'}\n              </Button>\n            </CardContent>\n          </Card>\n\n          {showMigration && (\n            <div className=\"space-y-4\">\n              <Card>\n                <CardHeader>\n                  <div className=\"flex items-center justify-between\">\n                    <CardTitle>Forward Migration SQL</CardTitle>\n                    <Button\n                      id=\"downloadForwardMigration\"\n                      onClick={downloadForwardMigration}\n                      variant=\"outline\"\n                      size=\"sm\"\n                    >\n                      Download Forward\n                    </Button>\n                  </div>\n                  <CardDescription>\n                    Apply these changes to migrate from {sourceDbName} to {targetDbName}\n                  </CardDescription>\n                </CardHeader>\n                <CardContent>\n                  <pre\n                    id=\"forwardMigrationSql\"\n                    data-testid=\"forward-migration\"\n                    className=\"p-4 bg-gray-50 rounded-lg overflow-x-auto text-sm font-mono whitespace-pre\"\n                  >\n                    {forwardMigration}\n                  </pre>\n                </CardContent>\n              </Card>\n\n              <Card>\n                <CardHeader>\n                  <div className=\"flex items-center justify-between\">\n                    <CardTitle>Rollback Migration SQL</CardTitle>\n                    <Button\n                      id=\"downloadRollbackMigration\"\n                      onClick={downloadRollbackMigration}\n                      variant=\"outline\"\n                      size=\"sm\"\n                    >\n                      Download Rollback\n                    </Button>\n                  </div>\n                  <CardDescription>\n                    Use this to revert the migration and restore {sourceDbName} schema\n                  </CardDescription>\n                </CardHeader>\n                <CardContent>\n                  <pre\n                    id=\"rollbackMigrationSql\"\n                    data-testid=\"rollback-migration\"\n                    className=\"p-4 bg-gray-50 rounded-lg overflow-x-auto text-sm font-mono whitespace-pre\"\n                  >\n                    {rollbackMigration}\n                  </pre>\n                </CardContent>\n              </Card>\n            </div>\n          )}\n          <Card>\n            <CardHeader>\n              <CardTitle>Difference Summary</CardTitle>\n            </CardHeader>\n            <CardContent className=\"space-y-2\">\n              {diff.tablesAdded.length > 0 && (\n                <div className=\"flex items-center gap-2\">\n                  <Badge variant=\"outline\" className=\"bg-green-50 text-green-700\">\n                    +{diff.tablesAdded.length}\n                  </Badge>\n                  <span className=\"text-sm\">\n                    {diff.tablesAdded.length === 1 ? 'table' : 'tables'} added\n                  </span>\n                </div>\n              )}\n              {diff.tablesRemoved.length > 0 && (\n                <div className=\"flex items-center gap-2\">\n                  <Badge variant=\"outline\" className=\"bg-red-50 text-red-700\">\n                    -{diff.tablesRemoved.length}\n                  </Badge>\n                  <span className=\"text-sm\">\n                    {diff.tablesRemoved.length === 1 ? 'table' : 'tables'} removed\n                  </span>\n                </div>\n              )}\n              {diff.tablesModified.length > 0 && (\n                <div className=\"flex items-center gap-2\">\n                  <Badge variant=\"outline\" className=\"bg-yellow-50 text-yellow-700\">\n                    ~{diff.tablesModified.length}\n                  </Badge>\n                  <span className=\"text-sm\">\n                    {diff.tablesModified.length === 1 ? 'table' : 'tables'} modified\n                  </span>\n                </div>\n              )}\n              {diff.indexesAdded.length > 0 && (\n                <div className=\"flex items-center gap-2\">\n                  <Badge variant=\"outline\" className=\"bg-green-50 text-green-700\">\n                    +{diff.indexesAdded.length}\n                  </Badge>\n                  <span className=\"text-sm\">\n                    {diff.indexesAdded.length === 1 ? 'index' : 'indexes'} added\n                  </span>\n                </div>\n              )}\n              {diff.indexesRemoved.length > 0 && (\n                <div className=\"flex items-center gap-2\">\n                  <Badge variant=\"outline\" className=\"bg-red-50 text-red-700\">\n                    -{diff.indexesRemoved.length}\n                  </Badge>\n                  <span className=\"text-sm\">\n                    {diff.indexesRemoved.length === 1 ? 'index' : 'indexes'} removed\n                  </span>\n                </div>\n              )}\n            </CardContent>\n          </Card>\n\n          {/* Tables Added */}\n          {diff.tablesAdded.length > 0 && (\n            <Card>\n              <CardHeader>\n                <CardTitle className=\"text-green-700\">Tables Added</CardTitle>\n              </CardHeader>\n              <CardContent>\n                <div className=\"space-y-2\">\n                  {diff.tablesAdded.map((table) => (\n                    <div\n                      key={table}\n                      className=\"p-3 bg-green-50 border border-green-200 rounded\"\n                      data-diff=\"added\"\n                    >\n                      <span className=\"font-mono text-sm\">{table}</span>\n                    </div>\n                  ))}\n                </div>\n              </CardContent>\n            </Card>\n          )}\n\n          {/* Tables Removed */}\n          {diff.tablesRemoved.length > 0 && (\n            <Card>\n              <CardHeader>\n                <CardTitle className=\"text-red-700\">Tables Removed</CardTitle>\n              </CardHeader>\n              <CardContent>\n                <div className=\"space-y-2\">\n                  {diff.tablesRemoved.map((table) => (\n                    <div\n                      key={table}\n                      className=\"p-3 bg-red-50 border border-red-200 rounded\"\n                      data-diff=\"removed\"\n                    >\n                      <span className=\"font-mono text-sm\">{table}</span>\n                    </div>\n                  ))}\n                </div>\n              </CardContent>\n            </Card>\n          )}\n\n          {/* Tables Modified */}\n          {diff.tablesModified.length > 0 && (\n            <Card>\n              <CardHeader>\n                <CardTitle className=\"text-yellow-700\">Tables Modified</CardTitle>\n              </CardHeader>\n              <CardContent>\n                <div className=\"space-y-4\">\n                  {diff.tablesModified.map((table) => (\n                    <div\n                      key={table.name}\n                      className=\"p-4 bg-yellow-50 border border-yellow-200 rounded space-y-3\"\n                      data-diff=\"modified\"\n                    >\n                      <div className=\"font-mono font-semibold\">{table.name}</div>\n                      \n                      {table.columnsAdded.length > 0 && (\n                        <div className=\"ml-4 space-y-1\">\n                          <div className=\"text-sm font-medium text-green-700\">\n                            Columns Added:\n                          </div>\n                          {table.columnsAdded.map((col) => (\n                            <div key={col} className=\"ml-4 text-sm font-mono text-green-600\">\n                              + {col}\n                            </div>\n                          ))}\n                        </div>\n                      )}\n                      \n                      {table.columnsRemoved.length > 0 && (\n                        <div className=\"ml-4 space-y-1\">\n                          <div className=\"text-sm font-medium text-red-700\">\n                            Columns Removed:\n                          </div>\n                          {table.columnsRemoved.map((col) => (\n                            <div key={col} className=\"ml-4 text-sm font-mono text-red-600\">\n                              - {col}\n                            </div>\n                          ))}\n                        </div>\n                      )}\n                    </div>\n                  ))}\n                </div>\n              </CardContent>\n            </Card>\n          )}\n\n          {/* Indexes Added */}\n          {diff.indexesAdded.length > 0 && (\n            <Card>\n              <CardHeader>\n                <CardTitle className=\"text-green-700\">Indexes Added</CardTitle>\n              </CardHeader>\n              <CardContent>\n                <div className=\"space-y-2\">\n                  {diff.indexesAdded.map((index) => (\n                    <div\n                      key={index}\n                      className=\"p-3 bg-green-50 border border-green-200 rounded\"\n                      data-type=\"index\"\n                      data-diff=\"added\"\n                    >\n                      <span className=\"font-mono text-sm\">{index}</span>\n                    </div>\n                  ))}\n                </div>\n              </CardContent>\n            </Card>\n          )}\n\n          {/* Indexes Removed */}\n          {diff.indexesRemoved.length > 0 && (\n            <Card>\n              <CardHeader>\n                <CardTitle className=\"text-red-700\">Indexes Removed</CardTitle>\n              </CardHeader>\n              <CardContent>\n                <div className=\"space-y-2\">\n                  {diff.indexesRemoved.map((index) => (\n                    <div\n                      key={index}\n                      className=\"p-3 bg-red-50 border border-red-200 rounded\"\n                      data-type=\"index\"\n                      data-diff=\"removed\"\n                    >\n                      <span className=\"font-mono text-sm\">{index}</span>\n                    </div>\n                  ))}\n                </div>\n              </CardContent>\n            </Card>\n          )}\n        </div>\n      )}\n    </div>\n  );\n}\n\nexport default function SchemaDiffPage() {\n  const currentDbName = useDatabaseStore((state) => state.currentDbName);\n  \n  return <SchemaDiffContent />;\n}\n"],"names":[],"mappings":"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"}