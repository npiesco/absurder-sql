module.exports=[16717,(a,b,c)=>{var d,e;d=a.e,e=function(){function a(b,c,d){return this.id=++a.highestId,this.name=b,this.symbols=c,this.postprocess=d,this}function b(a,b,c,d){this.rule=a,this.dot=b,this.reference=c,this.data=[],this.wantedBy=d,this.isComplete=this.dot===a.symbols.length}function c(a,b){this.grammar=a,this.index=b,this.states=[],this.wants={},this.scannable=[],this.completed={}}function d(a,b){this.rules=a,this.start=b||this.rules[0].name;var c=this.byName={};this.rules.forEach(function(a){c.hasOwnProperty(a.name)||(c[a.name]=[]),c[a.name].push(a)})}function e(){this.reset("")}function f(a,b,f){if(a instanceof d)var g=a,f=b;else var g=d.fromCompiled(a,b);for(var h in this.grammar=g,this.options={keepHistory:!1,lexer:g.lexer||new e},f||{})this.options[h]=f[h];this.lexer=this.options.lexer,this.lexerState=void 0;var i=new c(g,0);this.table=[i],i.wants[g.start]=[],i.predict(g.start),i.process(),this.current=0}function g(a){var b=typeof a;if("string"===b)return a;if("object"===b)if(a.literal)return JSON.stringify(a.literal);else if(a instanceof RegExp)return a.toString();else if(a.type)return"%"+a.type;else if(a.test)return"<"+String(a.test)+">";else throw Error("Unknown symbol type: "+a)}return a.highestId=0,a.prototype.toString=function(a){var b=void 0===a?this.symbols.map(g).join(" "):this.symbols.slice(0,a).map(g).join(" ")+" ● "+this.symbols.slice(a).map(g).join(" ");return this.name+" → "+b},b.prototype.toString=function(){return"{"+this.rule.toString(this.dot)+"}, from: "+(this.reference||0)},b.prototype.nextState=function(a){var c=new b(this.rule,this.dot+1,this.reference,this.wantedBy);return c.left=this,c.right=a,c.isComplete&&(c.data=c.build(),c.right=void 0),c},b.prototype.build=function(){var a=[],b=this;do a.push(b.right.data),b=b.left;while(b.left)return a.reverse(),a},b.prototype.finish=function(){this.rule.postprocess&&(this.data=this.rule.postprocess(this.data,this.reference,f.fail))},c.prototype.process=function(a){for(var b=this.states,c=this.wants,d=this.completed,e=0;e<b.length;e++){var g=b[e];if(g.isComplete){if(g.finish(),g.data!==f.fail){for(var h=g.wantedBy,i=h.length;i--;){var j=h[i];this.complete(j,g)}if(g.reference===this.index){var k=g.rule.name;(this.completed[k]=this.completed[k]||[]).push(g)}}}else{var k=g.rule.symbols[g.dot];if("string"!=typeof k){this.scannable.push(g);continue}if(c[k]){if(c[k].push(g),d.hasOwnProperty(k))for(var l=d[k],i=0;i<l.length;i++){var m=l[i];this.complete(g,m)}}else c[k]=[g],this.predict(k)}}},c.prototype.predict=function(a){for(var c=this.grammar.byName[a]||[],d=0;d<c.length;d++){var e=c[d],f=this.wants[a],g=new b(e,0,this.index,f);this.states.push(g)}},c.prototype.complete=function(a,b){var c=a.nextState(b);this.states.push(c)},d.fromCompiled=function(b,c){var e=b.Lexer;b.ParserStart&&(c=b.ParserStart,b=b.ParserRules);var b=b.map(function(b){return new a(b.name,b.symbols,b.postprocess)}),f=new d(b,c);return f.lexer=e,f},e.prototype.reset=function(a,b){this.buffer=a,this.index=0,this.line=b?b.line:1,this.lastLineBreak=b?-b.col:0},e.prototype.next=function(){if(this.index<this.buffer.length){var a=this.buffer[this.index++];return"\n"===a&&(this.line+=1,this.lastLineBreak=this.index),{value:a}}},e.prototype.save=function(){return{line:this.line,col:this.index-this.lastLineBreak}},e.prototype.formatError=function(a,b){var c=this.buffer;if("string"!=typeof c)return b+" at index "+(this.index-1);var d=c.split("\n").slice(Math.max(0,this.line-5),this.line),e=c.indexOf("\n",this.index);-1===e&&(e=c.length);var f=this.index-this.lastLineBreak,g=String(this.line).length;return b+=" at line "+this.line+" col "+f+":\n\n",b+=d.map(function(a,b){return h(this.line-d.length+b+1,g)+" "+a},this).join("\n"),b+="\n"+h("",g+f)+"^\n";function h(a,b){var c=String(a);return Array(b-c.length+1).join(" ")+c}},f.fail={},f.prototype.feed=function(a){var b,d=this.lexer;for(d.reset(a,this.lexerState);;){try{if(!(b=d.next()))break}catch(a){var f=new c(this.grammar,this.current+1);this.table.push(f);var g=Error(this.reportLexerError(a));throw g.offset=this.current,g.token=a.token,g}var h=this.table[this.current];this.options.keepHistory||delete this.table[this.current-1];var i=this.current+1,f=new c(this.grammar,i);this.table.push(f);for(var j=void 0!==b.text?b.text:b.value,k=d.constructor===e?b.value:b,l=h.scannable,m=l.length;m--;){var n=l[m],o=n.rule.symbols[n.dot];if(o.test?o.test(k):o.type?o.type===b.type:o.literal===j){var p=n.nextState({data:k,token:b,isToken:!0,reference:i-1});f.states.push(p)}}if(f.process(),0===f.states.length){var g=Error(this.reportError(b));throw g.offset=this.current,g.token=b,g}this.options.keepHistory&&(h.lexerState=d.save()),this.current++}return h&&(this.lexerState=d.save()),this.results=this.finish(),this},f.prototype.reportLexerError=function(a){var b,c,d=a.token;return d?(b="input "+JSON.stringify(d.text[0])+" (lexer error)",c=this.lexer.formatError(d,"Syntax error")):(b="input (lexer error)",c=a.message),this.reportErrorCommon(c,b)},f.prototype.reportError=function(a){var b=(a.type?a.type+" token: ":"")+JSON.stringify(void 0!==a.value?a.value:a),c=this.lexer.formatError(a,"Syntax error");return this.reportErrorCommon(c,b)},f.prototype.reportErrorCommon=function(a,b){var c=[];c.push(a);var d=this.table.length-2,e=this.table[d],f=e.states.filter(function(a){var b=a.rule.symbols[a.dot];return b&&"string"!=typeof b});return 0===f.length?(c.push("Unexpected "+b+". I did not expect any more input. Here is the state of my parse table:\n"),this.displayStateStack(e.states,c)):(c.push("Unexpected "+b+". Instead, I was expecting to see one of the following:\n"),f.map(function(a){return this.buildFirstStateStack(a,[])||[a]},this).forEach(function(a){var b=a[0],d=b.rule.symbols[b.dot],e=this.getSymbolDisplay(d);c.push("A "+e+" based on:"),this.displayStateStack(a,c)},this)),c.push(""),c.join("\n")},f.prototype.displayStateStack=function(a,b){for(var c,d=0,e=0;e<a.length;e++){var f=a[e],g=f.rule.toString(f.dot);g===c?d++:(d>0&&b.push("    ^ "+d+" more lines identical to this"),d=0,b.push("    "+g)),c=g}},f.prototype.getSymbolDisplay=function(a){var b=a,c=typeof b;if("string"===c)return b;if("object"===c)if(b.literal)return JSON.stringify(b.literal);else if(b instanceof RegExp)return"character matching "+b;else if(b.type)return b.type+" token";else if(b.test)return"token matching "+String(b.test);else throw Error("Unknown symbol type: "+b)},f.prototype.buildFirstStateStack=function(a,b){if(-1!==b.indexOf(a))return null;if(0===a.wantedBy.length)return[a];var c=a.wantedBy[0],d=[a].concat(b),e=this.buildFirstStateStack(c,d);return null===e?null:[a].concat(e)},f.prototype.save=function(){var a=this.table[this.current];return a.lexerState=this.lexerState,a},f.prototype.restore=function(a){var b=a.index;this.current=b,this.table[b]=a,this.table.splice(b+1),this.lexerState=a.lexerState,this.results=this.finish()},f.prototype.rewind=function(a){if(!this.options.keepHistory)throw Error("set option `keepHistory` to enable rewinding");this.restore(this.table[a])},f.prototype.finish=function(){var a=[],b=this.grammar.start;return this.table[this.table.length-1].states.forEach(function(c){c.rule.name===b&&c.dot===c.rule.symbols.length&&0===c.reference&&c.data!==f.fail&&a.push(c)}),a.map(function(a){return a.data})},{Parser:f,Grammar:d,Rule:a}},b.exports?b.exports=e():d.nearley=e()},50735,a=>{"use strict";let b,c,d,e,f,g;var h,i,j,k,l,m,n,o,p,q,r,s,t,u,v=a.i(22367),w=a.i(97863),x=a.i(23105),y=a.i(57372),z=a.i(45061);let A=[],B=[],C="lc,34,7n,7,7b,19,,,,2,,2,,,20,b,1c,l,g,,2t,7,2,6,2,2,,4,z,,u,r,2j,b,1m,9,9,,o,4,,9,,3,,5,17,3,3b,f,,w,1j,,,,4,8,4,,3,7,a,2,t,,1m,,,,2,4,8,,9,,a,2,q,,2,2,1l,,4,2,4,2,2,3,3,,u,2,3,,b,2,1l,,4,5,,2,4,,k,2,m,6,,,1m,,,2,,4,8,,7,3,a,2,u,,1n,,,,c,,9,,14,,3,,1l,3,5,3,,4,7,2,b,2,t,,1m,,2,,2,,3,,5,2,7,2,b,2,s,2,1l,2,,,2,4,8,,9,,a,2,t,,20,,4,,2,3,,,8,,29,,2,7,c,8,2q,,2,9,b,6,22,2,r,,,,,,1j,e,,5,,2,5,b,,10,9,,2u,4,,6,,2,2,2,p,2,4,3,g,4,d,,2,2,6,,f,,jj,3,qa,3,t,3,t,2,u,2,1s,2,,7,8,,2,b,9,,19,3,3b,2,y,,3a,3,4,2,9,,6,3,63,2,2,,1m,,,7,,,,,2,8,6,a,2,,1c,h,1r,4,1c,7,,,5,,14,9,c,2,w,4,2,2,,3,1k,,,2,3,,,3,1m,8,2,2,48,3,,d,,7,4,,6,,3,2,5i,1m,,5,ek,,5f,x,2da,3,3x,,2o,w,fe,6,2x,2,n9w,4,,a,w,2,28,2,7k,,3,,4,,p,2,5,,47,2,q,i,d,,12,8,p,b,1a,3,1c,,2,4,2,2,13,,1v,6,2,2,2,2,c,,8,,1b,,1f,,,3,2,2,5,2,,,16,2,8,,6m,,2,,4,,fn4,,kh,g,g,g,a6,2,gt,,6a,,45,5,1ae,3,,2,5,4,14,3,4,,4l,2,fx,4,ar,2,49,b,4w,,1i,f,1k,3,1d,4,2,2,1x,3,10,5,,8,1q,,c,2,1g,9,a,4,2,,2n,3,2,,,2,6,,4g,,3,8,l,2,1l,2,,,,,m,,e,7,3,5,5f,8,2,3,,,n,,29,,2,6,,,2,,,2,,2,6j,,2,4,6,2,,2,r,2,2d,8,2,,,2,2y,,,,2,6,,,2t,3,2,4,,5,77,9,,2,6t,,a,2,,,4,,40,4,2,2,4,,w,a,14,6,2,4,8,,9,6,2,3,1a,d,,2,ba,7,,6,,,2a,m,2,7,,2,,2,3e,6,3,,,2,,7,,,20,2,3,,,,9n,2,f0b,5,1n,7,t4,,1r,4,29,,f5k,2,43q,,,3,4,5,8,8,2,7,u,4,44,3,1iz,1j,4,1e,8,,e,,m,5,,f,11s,7,,h,2,7,,2,,5,79,7,c5,4,15s,7,31,7,240,5,gx7k,2o,3k,6o".split(",").map(a=>a?parseInt(a,36):1);for(let a=0,b=0;a<C.length;a++)(a%2?B:A).push(b+=C[a]);function D(a){return a>=127462&&a<=127487}function E(a,b,c){if(b==a.length)return b;b&&G(a.charCodeAt(b))&&H(a.charCodeAt(b-1))&&b--;let d=F(a,b);for(b+=I(d);b<a.length;){let e=F(a,b);if(8205==d||8205==e||c&&function(a){if(a<768)return!1;for(let b=0,c=A.length;;){let d=b+c>>1;if(a<A[d])c=d;else{if(!(a>=B[d]))return!0;b=d+1}if(b==c)return!1}}(e))b+=I(e),d=e;else if(D(e)){let c=0,d=b-2;for(;d>=0&&D(F(a,d));)c++,d-=2;if(c%2==0)break;b+=2}else break}return b}function F(a,b){let c=a.charCodeAt(b);if(!H(c)||b+1==a.length)return c;let d=a.charCodeAt(b+1);return G(d)?(c-55296<<10)+(d-56320)+65536:c}function G(a){return a>=56320&&a<57344}function H(a){return a>=55296&&a<56320}function I(a){return a<65536?1:2}class J{lineAt(a){if(a<0||a>this.length)throw RangeError(`Invalid position ${a} in document of length ${this.length}`);return this.lineInner(a,!1,1,0)}line(a){if(a<1||a>this.lines)throw RangeError(`Invalid line number ${a} in ${this.lines}-line document`);return this.lineInner(a,!0,1,0)}replace(a,b,c){[a,b]=R(this,a,b);let d=[];return this.decompose(0,a,d,2),c.length&&c.decompose(0,c.length,d,3),this.decompose(b,this.length,d,1),L.from(d,this.length-(b-a)+c.length)}append(a){return this.replace(this.length,this.length,a)}slice(a,b=this.length){[a,b]=R(this,a,b);let c=[];return this.decompose(a,b,c,0),L.from(c,b-a)}eq(a){if(a==this)return!0;if(a.length!=this.length||a.lines!=this.lines)return!1;let b=this.scanIdentical(a,1),c=this.length-this.scanIdentical(a,-1),d=new N(this),e=new N(a);for(let a=b,f=b;;){if(d.next(a),e.next(a),a=0,d.lineBreak!=e.lineBreak||d.done!=e.done||d.value!=e.value)return!1;if(f+=d.value.length,d.done||f>=c)return!0}}iter(a=1){return new N(this,a)}iterRange(a,b=this.length){return new O(this,a,b)}iterLines(a,b){let c;if(null==a)c=this.iter();else{null==b&&(b=this.lines+1);let d=this.line(a).from;c=this.iterRange(d,Math.max(d,b==this.lines+1?this.length:b<=1?0:this.line(b-1).to))}return new P(c)}toString(){return this.sliceString(0)}toJSON(){let a=[];return this.flatten(a),a}constructor(){}static of(a){if(0==a.length)throw RangeError("A document must have at least one line");return 1!=a.length||a[0]?a.length<=32?new K(a):L.from(K.split(a,[])):J.empty}}class K extends J{constructor(a,b=function(a){let b=-1;for(let c of a)b+=c.length+1;return b}(a)){super(),this.text=a,this.length=b}get lines(){return this.text.length}get children(){return null}lineInner(a,b,c,d){for(let e=0;;e++){let f=this.text[e],g=d+f.length;if((b?c:g)>=a)return new Q(d,g,c,f);d=g+1,c++}}decompose(a,b,c,d){var e;let f=a<=0&&b>=this.length?this:new K((e=this.text,M(e,[""],a,b)),Math.min(b,this.length)-Math.max(0,a));if(1&d){let a=c.pop(),b=M(f.text,a.text.slice(),0,f.length);if(b.length<=32)c.push(new K(b,a.length+f.length));else{let a=b.length>>1;c.push(new K(b.slice(0,a)),new K(b.slice(a)))}}else c.push(f)}replace(a,b,c){var d;if(!(c instanceof K))return super.replace(a,b,c);[a,b]=R(this,a,b);let e=M(this.text,M(c.text,(d=this.text,M(d,[""],0,a))),b),f=this.length+c.length-(b-a);return e.length<=32?new K(e,f):L.from(K.split(e,[]),f)}sliceString(a,b=this.length,c="\n"){[a,b]=R(this,a,b);let d="";for(let e=0,f=0;e<=b&&f<this.text.length;f++){let g=this.text[f],h=e+g.length;e>a&&f&&(d+=c),a<h&&b>e&&(d+=g.slice(Math.max(0,a-e),b-e)),e=h+1}return d}flatten(a){for(let b of this.text)a.push(b)}scanIdentical(){return 0}static split(a,b){let c=[],d=-1;for(let e of a)c.push(e),d+=e.length+1,32==c.length&&(b.push(new K(c,d)),c=[],d=-1);return d>-1&&b.push(new K(c,d)),b}}class L extends J{constructor(a,b){for(let c of(super(),this.children=a,this.length=b,this.lines=0,a))this.lines+=c.lines}lineInner(a,b,c,d){for(let e=0;;e++){let f=this.children[e],g=d+f.length,h=c+f.lines-1;if((b?h:g)>=a)return f.lineInner(a,b,c,d);d=g+1,c=h+1}}decompose(a,b,c,d){for(let e=0,f=0;f<=b&&e<this.children.length;e++){let g=this.children[e],h=f+g.length;if(a<=h&&b>=f){let e=d&(f<=a|2*(h>=b));f>=a&&h<=b&&!e?c.push(g):g.decompose(a-f,b-f,c,e)}f=h+1}}replace(a,b,c){if([a,b]=R(this,a,b),c.lines<this.lines)for(let d=0,e=0;d<this.children.length;d++){let f=this.children[d],g=e+f.length;if(a>=e&&b<=g){let h=f.replace(a-e,b-e,c),i=this.lines-f.lines+h.lines;if(h.lines<i>>4&&h.lines>i>>6){let e=this.children.slice();return e[d]=h,new L(e,this.length-(b-a)+c.length)}return super.replace(e,g,h)}e=g+1}return super.replace(a,b,c)}sliceString(a,b=this.length,c="\n"){[a,b]=R(this,a,b);let d="";for(let e=0,f=0;e<this.children.length&&f<=b;e++){let g=this.children[e],h=f+g.length;f>a&&e&&(d+=c),a<h&&b>f&&(d+=g.sliceString(a-f,b-f,c)),f=h+1}return d}flatten(a){for(let b of this.children)b.flatten(a)}scanIdentical(a,b){if(!(a instanceof L))return 0;let c=0,[d,e,f,g]=b>0?[0,0,this.children.length,a.children.length]:[this.children.length-1,a.children.length-1,-1,-1];for(;;d+=b,e+=b){if(d==f||e==g)return c;let h=this.children[d],i=a.children[e];if(h!=i)return c+h.scanIdentical(i,b);c+=h.length+1}}static from(a,b=a.reduce((a,b)=>a+b.length+1,-1)){let c=0;for(let b of a)c+=b.lines;if(c<32){let c=[];for(let b of a)b.flatten(c);return new K(c,b)}let d=Math.max(32,c>>5),e=d<<1,f=d>>1,g=[],h=0,i=-1,j=[];function k(){0!=h&&(g.push(1==j.length?j[0]:L.from(j,i)),i=-1,h=j.length=0)}for(let b of a)!function a(b){let c;if(b.lines>e&&b instanceof L)for(let c of b.children)a(c);else b.lines>f&&(h>f||!h)?(k(),g.push(b)):b instanceof K&&h&&(c=j[j.length-1])instanceof K&&b.lines+c.lines<=32?(h+=b.lines,i+=b.length+1,j[j.length-1]=new K(c.text.concat(b.text),c.length+1+b.length)):(h+b.lines>d&&k(),h+=b.lines,i+=b.length+1,j.push(b))}(b);return k(),1==g.length?g[0]:new L(g,b)}}function M(a,b,c=0,d=1e9){for(let e=0,f=0,g=!0;f<a.length&&e<=d;f++){let h=a[f],i=e+h.length;i>=c&&(i>d&&(h=h.slice(0,d-e)),e<c&&(h=h.slice(c-e)),g?(b[b.length-1]+=h,g=!1):b.push(h)),e=i+1}return b}J.empty=new K([""],0);class N{constructor(a,b=1){this.dir=b,this.done=!1,this.lineBreak=!1,this.value="",this.nodes=[a],this.offsets=[b>0?1:(a instanceof K?a.text.length:a.children.length)<<1]}nextInner(a,b){for(this.done=this.lineBreak=!1;;){let c=this.nodes.length-1,d=this.nodes[c],e=this.offsets[c],f=e>>1,g=d instanceof K?d.text.length:d.children.length;if(f==(b>0?g:0)){if(0==c)return this.done=!0,this.value="",this;b>0&&this.offsets[c-1]++,this.nodes.pop(),this.offsets.pop()}else if((1&e)==(b>0?0:1)){if(this.offsets[c]+=b,0==a)return this.lineBreak=!0,this.value="\n",this;a--}else if(d instanceof K){let e=d.text[f+(b<0?-1:0)];if(this.offsets[c]+=b,e.length>Math.max(0,a))return this.value=0==a?e:b>0?e.slice(a):e.slice(0,e.length-a),this;a-=e.length}else{let e=d.children[f+(b<0?-1:0)];a>e.length?(a-=e.length,this.offsets[c]+=b):(b<0&&this.offsets[c]--,this.nodes.push(e),this.offsets.push(b>0?1:(e instanceof K?e.text.length:e.children.length)<<1))}}}next(a=0){return a<0&&(this.nextInner(-a,-this.dir),a=this.value.length),this.nextInner(a,this.dir)}}class O{constructor(a,b,c){this.value="",this.done=!1,this.cursor=new N(a,b>c?-1:1),this.pos=b>c?a.length:0,this.from=Math.min(b,c),this.to=Math.max(b,c)}nextInner(a,b){if(b<0?this.pos<=this.from:this.pos>=this.to)return this.value="",this.done=!0,this;a+=Math.max(0,b<0?this.pos-this.to:this.from-this.pos);let c=b<0?this.pos-this.from:this.to-this.pos;a>c&&(a=c),c-=a;let{value:d}=this.cursor.next(a);return this.pos+=(d.length+a)*b,this.value=d.length<=c?d:b<0?d.slice(d.length-c):d.slice(0,c),this.done=!this.value,this}next(a=0){return a<0?a=Math.max(a,this.from-this.pos):a>0&&(a=Math.min(a,this.to-this.pos)),this.nextInner(a,this.cursor.dir)}get lineBreak(){return this.cursor.lineBreak&&""!=this.value}}class P{constructor(a){this.inner=a,this.afterBreak=!0,this.value="",this.done=!1}next(a=0){let{done:b,lineBreak:c,value:d}=this.inner.next(a);return b&&this.afterBreak?(this.value="",this.afterBreak=!1):b?(this.done=!0,this.value=""):c?this.afterBreak?this.value="":(this.afterBreak=!0,this.next()):(this.value=d,this.afterBreak=!1),this}get lineBreak(){return!1}}"undefined"!=typeof Symbol&&(J.prototype[Symbol.iterator]=function(){return this.iter()},N.prototype[Symbol.iterator]=O.prototype[Symbol.iterator]=P.prototype[Symbol.iterator]=function(){return this});class Q{constructor(a,b,c,d){this.from=a,this.to=b,this.number=c,this.text=d}get length(){return this.to-this.from}}function R(a,b,c){return[b=Math.max(0,Math.min(a.length,b)),Math.max(b,Math.min(a.length,c))]}function S(a,b,c=!0,d=!0){return function(a,b,c=!0,d=!0){return(c?E:function(a,b,c){for(;b>0;){let d=E(a,b-2,c);if(d<b)return d;b--}return 0})(a,b,d)}(a,b,c,d)}function T(a,b){let c=a.charCodeAt(b);if(!(c>=55296&&c<56320)||b+1==a.length)return c;let d=a.charCodeAt(b+1);return d>=56320&&d<57344?(c-55296<<10)+(d-56320)+65536:c}function U(a){return a<=65535?String.fromCharCode(a):String.fromCharCode(((a-=65536)>>10)+55296,(1023&a)+56320)}function V(a){return a<65536?1:2}let W=/\r\n?|\n/;var X=((h=X||(X={}))[h.Simple=0]="Simple",h[h.TrackDel=1]="TrackDel",h[h.TrackBefore=2]="TrackBefore",h[h.TrackAfter=3]="TrackAfter",h);class Y{constructor(a){this.sections=a}get length(){let a=0;for(let b=0;b<this.sections.length;b+=2)a+=this.sections[b];return a}get newLength(){let a=0;for(let b=0;b<this.sections.length;b+=2){let c=this.sections[b+1];a+=c<0?this.sections[b]:c}return a}get empty(){return 0==this.sections.length||2==this.sections.length&&this.sections[1]<0}iterGaps(a){for(let b=0,c=0,d=0;b<this.sections.length;){let e=this.sections[b++],f=this.sections[b++];f<0?(a(c,d,e),d+=e):d+=f,c+=e}}iterChangedRanges(a,b=!1){aa(this,a,b)}get invertedDesc(){let a=[];for(let b=0;b<this.sections.length;){let c=this.sections[b++],d=this.sections[b++];d<0?a.push(c,d):a.push(d,c)}return new Y(a)}composeDesc(a){return this.empty?a:a.empty?this:ac(this,a)}mapDesc(a,b=!1){return a.empty?this:ab(this,a,b)}mapPos(a,b=-1,c=X.Simple){let d=0,e=0;for(let f=0;f<this.sections.length;){let g=this.sections[f++],h=this.sections[f++],i=d+g;if(h<0){if(i>a)return e+(a-d);e+=g}else{if(c!=X.Simple&&i>=a&&(c==X.TrackDel&&d<a&&i>a||c==X.TrackBefore&&d<a||c==X.TrackAfter&&i>a))return null;if(i>a||i==a&&b<0&&!g)return a==d||b<0?e:e+h;e+=h}d=i}if(a>d)throw RangeError(`Position ${a} is out of range for changeset of length ${d}`);return e}touchesRange(a,b=a){for(let c=0,d=0;c<this.sections.length&&d<=b;){let e=this.sections[c++],f=this.sections[c++],g=d+e;if(f>=0&&d<=b&&g>=a)return!(d<a)||!(g>b)||"cover";d=g}return!1}toString(){let a="";for(let b=0;b<this.sections.length;){let c=this.sections[b++],d=this.sections[b++];a+=(a?" ":"")+c+(d>=0?":"+d:"")}return a}toJSON(){return this.sections}static fromJSON(a){if(!Array.isArray(a)||a.length%2||a.some(a=>"number"!=typeof a))throw RangeError("Invalid JSON representation of ChangeDesc");return new Y(a)}static create(a){return new Y(a)}}class Z extends Y{constructor(a,b){super(a),this.inserted=b}apply(a){if(this.length!=a.length)throw RangeError("Applying change set to a document with the wrong length");return aa(this,(b,c,d,e,f)=>a=a.replace(d,d+(c-b),f),!1),a}mapDesc(a,b=!1){return ab(this,a,b,!0)}invert(a){let b=this.sections.slice(),c=[];for(let d=0,e=0;d<b.length;d+=2){let f=b[d],g=b[d+1];if(g>=0){b[d]=g,b[d+1]=f;let h=d>>1;for(;c.length<h;)c.push(J.empty);c.push(f?a.slice(e,e+f):J.empty)}e+=f}return new Z(b,c)}compose(a){return this.empty?a:a.empty?this:ac(this,a,!0)}map(a,b=!1){return a.empty?this:ab(this,a,b,!0)}iterChanges(a,b=!1){aa(this,a,b)}get desc(){return Y.create(this.sections)}filter(a){let b=[],c=[],d=[],e=new ad(this);a:for(let f=0,g=0;;){let h=f==a.length?1e9:a[f++];for(;g<h||g==h&&0==e.len;){if(e.done)break a;let a=Math.min(e.len,h-g);$(d,a,-1);let f=-1==e.ins?-1:0==e.off?e.ins:0;$(b,a,f),f>0&&_(c,b,e.text),e.forward(a),g+=a}let i=a[f++];for(;g<i;){if(e.done)break a;let a=Math.min(e.len,i-g);$(b,a,-1),$(d,a,-1==e.ins?-1:0==e.off?e.ins:0),e.forward(a),g+=a}}return{changes:new Z(b,c),filtered:Y.create(d)}}toJSON(){let a=[];for(let b=0;b<this.sections.length;b+=2){let c=this.sections[b],d=this.sections[b+1];d<0?a.push(c):0==d?a.push([c]):a.push([c].concat(this.inserted[b>>1].toJSON()))}return a}static of(a,b,c){let d=[],e=[],f=0,g=null;function h(a=!1){if(!a&&!d.length)return;f<b&&$(d,b-f,-1);let c=new Z(d,e);g=g?g.compose(c.map(g)):c,d=[],e=[],f=0}return!function a(i){if(Array.isArray(i))for(let b of i)a(b);else if(i instanceof Z){if(i.length!=b)throw RangeError(`Mismatched change set length (got ${i.length}, expected ${b})`);h(),g=g?g.compose(i.map(g)):i}else{let{from:a,to:g=a,insert:j}=i;if(a>g||a<0||g>b)throw RangeError(`Invalid change range ${a} to ${g} (in doc of length ${b})`);let k=j?"string"==typeof j?J.of(j.split(c||W)):j:J.empty,l=k.length;if(a==g&&0==l)return;a<f&&h(),a>f&&$(d,a-f,-1),$(d,g-a,l),_(e,d,k),f=g}}(a),h(!g),g}static empty(a){return new Z(a?[a,-1]:[],[])}static fromJSON(a){if(!Array.isArray(a))throw RangeError("Invalid JSON representation of ChangeSet");let b=[],c=[];for(let d=0;d<a.length;d++){let e=a[d];if("number"==typeof e)b.push(e,-1);else if(!Array.isArray(e)||"number"!=typeof e[0]||e.some((a,b)=>b&&"string"!=typeof a))throw RangeError("Invalid JSON representation of ChangeSet");else if(1==e.length)b.push(e[0],0);else{for(;c.length<d;)c.push(J.empty);c[d]=J.of(e.slice(1)),b.push(e[0],c[d].length)}}return new Z(b,c)}static createSet(a,b){return new Z(a,b)}}function $(a,b,c,d=!1){if(0==b&&c<=0)return;let e=a.length-2;e>=0&&c<=0&&c==a[e+1]?a[e]+=b:e>=0&&0==b&&0==a[e]?a[e+1]+=c:d?(a[e]+=b,a[e+1]+=c):a.push(b,c)}function _(a,b,c){if(0==c.length)return;let d=b.length-2>>1;if(d<a.length)a[a.length-1]=a[a.length-1].append(c);else{for(;a.length<d;)a.push(J.empty);a.push(c)}}function aa(a,b,c){let d=a.inserted;for(let e=0,f=0,g=0;g<a.sections.length;){let h=a.sections[g++],i=a.sections[g++];if(i<0)e+=h,f+=h;else{let j=e,k=f,l=J.empty;for(;j+=h,k+=i,i&&d&&(l=l.append(d[g-2>>1])),!c&&g!=a.sections.length&&!(a.sections[g+1]<0);)h=a.sections[g++],i=a.sections[g++];b(e,j,f,k,l),e=j,f=k}}}function ab(a,b,c,d=!1){let e=[],f=d?[]:null,g=new ad(a),h=new ad(b);for(let a=-1;;)if(g.done&&h.len||h.done&&g.len)throw Error("Mismatched change set lengths");else if(-1==g.ins&&-1==h.ins){let a=Math.min(g.len,h.len);$(e,a,-1),g.forward(a),h.forward(a)}else if(h.ins>=0&&(g.ins<0||a==g.i||0==g.off&&(h.len<g.len||h.len==g.len&&!c))){let b=h.len;for($(e,h.ins,-1);b;){let c=Math.min(g.len,b);g.ins>=0&&a<g.i&&g.len<=c&&($(e,0,g.ins),f&&_(f,e,g.text),a=g.i),g.forward(c),b-=c}h.next()}else if(g.ins>=0){let b=0,c=g.len;for(;c;)if(-1==h.ins){let a=Math.min(c,h.len);b+=a,c-=a,h.forward(a)}else if(0==h.ins&&h.len<c)c-=h.len,h.next();else break;$(e,b,a<g.i?g.ins:0),f&&a<g.i&&_(f,e,g.text),a=g.i,g.forward(g.len-c)}else if(g.done&&h.done)return f?Z.createSet(e,f):Y.create(e);else throw Error("Mismatched change set lengths")}function ac(a,b,c=!1){let d=[],e=c?[]:null,f=new ad(a),g=new ad(b);for(let a=!1;;)if(f.done&&g.done)return e?Z.createSet(d,e):Y.create(d);else if(0==f.ins)$(d,f.len,0,a),f.next();else if(0!=g.len||g.done)if(f.done||g.done)throw Error("Mismatched change set lengths");else{let b=Math.min(f.len2,g.len),c=d.length;if(-1==f.ins){let c=-1==g.ins?-1:g.off?0:g.ins;$(d,b,c,a),e&&c&&_(e,d,g.text)}else -1==g.ins?($(d,f.off?0:f.len,b,a),e&&_(e,d,f.textBit(b))):($(d,f.off?0:f.len,g.off?0:g.ins,a),e&&!g.off&&_(e,d,g.text));a=(f.ins>b||g.ins>=0&&g.len>b)&&(a||d.length>c),f.forward2(b),g.forward(b)}else $(d,0,g.ins,a),e&&_(e,d,g.text),g.next()}class ad{constructor(a){this.set=a,this.i=0,this.next()}next(){let{sections:a}=this.set;this.i<a.length?(this.len=a[this.i++],this.ins=a[this.i++]):(this.len=0,this.ins=-2),this.off=0}get done(){return -2==this.ins}get len2(){return this.ins<0?this.len:this.ins}get text(){let{inserted:a}=this.set,b=this.i-2>>1;return b>=a.length?J.empty:a[b]}textBit(a){let{inserted:b}=this.set,c=this.i-2>>1;return c>=b.length&&!a?J.empty:b[c].slice(this.off,null==a?void 0:this.off+a)}forward(a){a==this.len?this.next():(this.len-=a,this.off+=a)}forward2(a){-1==this.ins?this.forward(a):a==this.ins?this.next():(this.ins-=a,this.off+=a)}}class ae{constructor(a,b,c){this.from=a,this.to=b,this.flags=c}get anchor(){return 32&this.flags?this.to:this.from}get head(){return 32&this.flags?this.from:this.to}get empty(){return this.from==this.to}get assoc(){return 8&this.flags?-1:16&this.flags?1:0}get bidiLevel(){let a=7&this.flags;return 7==a?null:a}get goalColumn(){let a=this.flags>>6;return 0xffffff==a?void 0:a}map(a,b=-1){let c,d;return this.empty?c=d=a.mapPos(this.from,b):(c=a.mapPos(this.from,1),d=a.mapPos(this.to,-1)),c==this.from&&d==this.to?this:new ae(c,d,this.flags)}extend(a,b=a){if(a<=this.anchor&&b>=this.anchor)return af.range(a,b);let c=Math.abs(a-this.anchor)>Math.abs(b-this.anchor)?a:b;return af.range(this.anchor,c)}eq(a,b=!1){return this.anchor==a.anchor&&this.head==a.head&&(!b||!this.empty||this.assoc==a.assoc)}toJSON(){return{anchor:this.anchor,head:this.head}}static fromJSON(a){if(!a||"number"!=typeof a.anchor||"number"!=typeof a.head)throw RangeError("Invalid JSON representation for SelectionRange");return af.range(a.anchor,a.head)}static create(a,b,c){return new ae(a,b,c)}}class af{constructor(a,b){this.ranges=a,this.mainIndex=b}map(a,b=-1){return a.empty?this:af.create(this.ranges.map(c=>c.map(a,b)),this.mainIndex)}eq(a,b=!1){if(this.ranges.length!=a.ranges.length||this.mainIndex!=a.mainIndex)return!1;for(let c=0;c<this.ranges.length;c++)if(!this.ranges[c].eq(a.ranges[c],b))return!1;return!0}get main(){return this.ranges[this.mainIndex]}asSingle(){return 1==this.ranges.length?this:new af([this.main],0)}addRange(a,b=!0){return af.create([a].concat(this.ranges),b?0:this.mainIndex+1)}replaceRange(a,b=this.mainIndex){let c=this.ranges.slice();return c[b]=a,af.create(c,this.mainIndex)}toJSON(){return{ranges:this.ranges.map(a=>a.toJSON()),main:this.mainIndex}}static fromJSON(a){if(!a||!Array.isArray(a.ranges)||"number"!=typeof a.main||a.main>=a.ranges.length)throw RangeError("Invalid JSON representation for EditorSelection");return new af(a.ranges.map(a=>ae.fromJSON(a)),a.main)}static single(a,b=a){return new af([af.range(a,b)],0)}static create(a,b=0){if(0==a.length)throw RangeError("A selection needs at least one range");for(let c=0,d=0;d<a.length;d++){let e=a[d];if(e.empty?e.from<=c:e.from<c)return af.normalized(a.slice(),b);c=e.to}return new af(a,b)}static cursor(a,b=0,c,d){return ae.create(a,a,(0==b?0:b<0?8:16)|(null==c?7:Math.min(6,c))|(null!=d?d:0xffffff)<<6)}static range(a,b,c,d){let e=(null!=c?c:0xffffff)<<6|(null==d?7:Math.min(6,d));return b<a?ae.create(b,a,48|e):ae.create(a,b,8*(b>a)|e)}static normalized(a,b=0){let c=a[b];a.sort((a,b)=>a.from-b.from),b=a.indexOf(c);for(let c=1;c<a.length;c++){let d=a[c],e=a[c-1];if(d.empty?d.from<=e.to:d.from<e.to){let f=e.from,g=Math.max(d.to,e.to);c<=b&&b--,a.splice(--c,2,d.anchor>d.head?af.range(g,f):af.range(f,g))}}return new af(a,b)}}function ag(a,b){for(let c of a.ranges)if(c.to>b)throw RangeError("Selection points outside of document")}let ah=0;class ai{constructor(a,b,c,d,e){this.combine=a,this.compareInput=b,this.compare=c,this.isStatic=d,this.id=ah++,this.default=a([]),this.extensions="function"==typeof e?e(this):e}get reader(){return this}static define(a={}){return new ai(a.combine||(a=>a),a.compareInput||((a,b)=>a===b),a.compare||(!a.combine?aj:(a,b)=>a===b),!!a.static,a.enables)}of(a){return new ak([],this,0,a)}compute(a,b){if(this.isStatic)throw Error("Can't compute a static facet");return new ak(a,this,1,b)}computeN(a,b){if(this.isStatic)throw Error("Can't compute a static facet");return new ak(a,this,2,b)}from(a,b){return b||(b=a=>a),this.compute([a],c=>b(c.field(a)))}}function aj(a,b){return a==b||a.length==b.length&&a.every((a,c)=>a===b[c])}class ak{constructor(a,b,c,d){this.dependencies=a,this.facet=b,this.type=c,this.value=d,this.id=ah++}dynamicSlot(a){var b;let c=this.value,d=this.facet.compareInput,e=this.id,f=a[e]>>1,g=2==this.type,h=!1,i=!1,j=[];for(let c of this.dependencies)"doc"==c?h=!0:"selection"==c?i=!0:((null!=(b=a[c.id])?b:1)&1)==0&&j.push(a[c.id]);return{create:a=>(a.values[f]=c(a),1),update(a,b){if(h&&b.docChanged||i&&(b.docChanged||b.selection)||am(a,j)){let b=c(a);if(g?!al(b,a.values[f],d):!d(b,a.values[f]))return a.values[f]=b,1}return 0},reconfigure:(a,b)=>{let h,i=b.config.address[e];if(null!=i){let e=aw(b,i);if(this.dependencies.every(c=>c instanceof ai?b.facet(c)===a.facet(c):!(c instanceof ao)||b.field(c,!1)==a.field(c,!1))||(g?al(h=c(a),e,d):d(h=c(a),e)))return a.values[f]=e,0}else h=c(a);return a.values[f]=h,1}}}}function al(a,b,c){if(a.length!=b.length)return!1;for(let d=0;d<a.length;d++)if(!c(a[d],b[d]))return!1;return!0}function am(a,b){let c=!1;for(let d of b)1&av(a,d)&&(c=!0);return c}let an=ai.define({static:!0});class ao{constructor(a,b,c,d,e){this.id=a,this.createF=b,this.updateF=c,this.compareF=d,this.spec=e,this.provides=void 0}static define(a){let b=new ao(ah++,a.create,a.update,a.compare||((a,b)=>a===b),a);return a.provide&&(b.provides=a.provide(b)),b}create(a){let b=a.facet(an).find(a=>a.field==this);return((null==b?void 0:b.create)||this.createF)(a)}slot(a){let b=a[this.id]>>1;return{create:a=>(a.values[b]=this.create(a),1),update:(a,c)=>{let d=a.values[b],e=this.updateF(d,c);return this.compareF(d,e)?0:(a.values[b]=e,1)},reconfigure:(a,c)=>{let d=a.facet(an),e=c.facet(an),f;return(f=d.find(a=>a.field==this))&&f!=e.find(a=>a.field==this)?(a.values[b]=f.create(a),1):null!=c.config.address[this.id]?(a.values[b]=c.field(this),0):(a.values[b]=this.create(a),1)}}}init(a){return[this,an.of({field:this,create:a})]}get extension(){return this}}function ap(a){return b=>new ar(b,a)}let aq={highest:ap(0),high:ap(1),default:ap(2),low:ap(3),lowest:ap(4)};class ar{constructor(a,b){this.inner=a,this.prec=b}}class as{of(a){return new at(this,a)}reconfigure(a){return as.reconfigure.of({compartment:this,extension:a})}get(a){return a.config.compartments.get(this)}}class at{constructor(a,b){this.compartment=a,this.inner=b}}class au{constructor(a,b,c,d,e,f){for(this.base=a,this.compartments=b,this.dynamicSlots=c,this.address=d,this.staticValues=e,this.facets=f,this.statusTemplate=[];this.statusTemplate.length<c.length;)this.statusTemplate.push(0)}staticFacet(a){let b=this.address[a.id];return null==b?a.default:this.staticValues[b>>1]}static resolve(a,b,c){var d,e,f;let g,h,i=[],j=Object.create(null),k=new Map;for(let c of(d=a,e=b,f=k,g=[[],[],[],[],[]],h=new Map,!function a(b,c){let d=h.get(b);if(null!=d){if(d<=c)return;let a=g[d].indexOf(b);a>-1&&g[d].splice(a,1),b instanceof at&&f.delete(b.compartment)}if(h.set(b,c),Array.isArray(b))for(let d of b)a(d,c);else if(b instanceof at){if(f.has(b.compartment))throw RangeError("Duplicate use of compartment in extensions");let d=e.get(b.compartment)||b.inner;f.set(b.compartment,d),a(d,c)}else if(b instanceof ar)a(b.inner,b.prec);else if(b instanceof ao)g[c].push(b),b.provides&&a(b.provides,c);else if(b instanceof ak)g[c].push(b),b.facet.extensions&&a(b.facet.extensions,2);else{let d=b.extension;if(!d)throw Error(`Unrecognized extension value in extension set (${b}). This sometimes happens because multiple instances of @codemirror/state are loaded, breaking instanceof checks.`);a(d,c)}}(d,2),g.reduce((a,b)=>a.concat(b))))c instanceof ao?i.push(c):(j[c.facet.id]||(j[c.facet.id]=[])).push(c);let l=Object.create(null),m=[],n=[];for(let a of i)l[a.id]=n.length<<1,n.push(b=>a.slot(b));let o=null==c?void 0:c.config.facets;for(let a in j){let b=j[a],d=b[0].facet,e=o&&o[a]||[];if(b.every(a=>0==a.type))if(l[d.id]=m.length<<1|1,aj(e,b))m.push(c.facet(d));else{let a=d.combine(b.map(a=>a.value));m.push(c&&d.compare(a,c.facet(d))?c.facet(d):a)}else{for(let a of b)0==a.type?(l[a.id]=m.length<<1|1,m.push(a.value)):(l[a.id]=n.length<<1,n.push(b=>a.dynamicSlot(b)));l[d.id]=n.length<<1,n.push(a=>(function(a,b,c){let d=c.map(b=>a[b.id]),e=c.map(a=>a.type),f=d.filter(a=>!(1&a)),g=a[b.id]>>1;function h(a){let c=[];for(let b=0;b<d.length;b++){let f=aw(a,d[b]);if(2==e[b])for(let a of f)c.push(a);else c.push(f)}return b.combine(c)}return{create(a){for(let b of d)av(a,b);return a.values[g]=h(a),1},update(a,c){if(!am(a,f))return 0;let d=h(a);return b.compare(d,a.values[g])?0:(a.values[g]=d,1)},reconfigure(a,e){let f=am(a,d),i=e.config.facets[b.id],j=e.facet(b);if(i&&!f&&aj(c,i))return a.values[g]=j,0;let k=h(a);return b.compare(k,j)?(a.values[g]=j,0):(a.values[g]=k,1)}}})(a,d,b))}}return new au(a,k,n.map(a=>a(l)),l,m,j)}}function av(a,b){if(1&b)return 2;let c=b>>1,d=a.status[c];if(4==d)throw Error("Cyclic dependency between fields and/or facets");if(2&d)return d;a.status[c]=4;let e=a.computeSlot(a,a.config.dynamicSlots[c]);return a.status[c]=2|e}function aw(a,b){return 1&b?a.config.staticValues[b>>1]:a.values[b>>1]}let ax=ai.define(),ay=ai.define({combine:a=>a.some(a=>a),static:!0}),az=ai.define({combine:a=>a.length?a[0]:void 0,static:!0}),aA=ai.define(),aB=ai.define(),aC=ai.define(),aD=ai.define({combine:a=>!!a.length&&a[0]});class aE{constructor(a,b){this.type=a,this.value=b}static define(){return new aF}}class aF{of(a){return new aE(this,a)}}class aG{constructor(a){this.map=a}of(a){return new aH(this,a)}}class aH{constructor(a,b){this.type=a,this.value=b}map(a){let b=this.type.map(this.value,a);return void 0===b?void 0:b==this.value?this:new aH(this.type,b)}is(a){return this.type==a}static define(a={}){return new aG(a.map||(a=>a))}static mapEffects(a,b){if(!a.length)return a;let c=[];for(let d of a){let a=d.map(b);a&&c.push(a)}return c}}aH.reconfigure=aH.define(),aH.appendConfig=aH.define();class aI{constructor(a,b,c,d,e,f){this.startState=a,this.changes=b,this.selection=c,this.effects=d,this.annotations=e,this.scrollIntoView=f,this._doc=null,this._state=null,c&&ag(c,b.newLength),e.some(a=>a.type==aI.time)||(this.annotations=e.concat(aI.time.of(Date.now())))}static create(a,b,c,d,e,f){return new aI(a,b,c,d,e,f)}get newDoc(){return this._doc||(this._doc=this.changes.apply(this.startState.doc))}get newSelection(){return this.selection||this.startState.selection.map(this.changes)}get state(){return this._state||this.startState.applyTransaction(this),this._state}annotation(a){for(let b of this.annotations)if(b.type==a)return b.value}get docChanged(){return!this.changes.empty}get reconfigured(){return this.startState.config!=this.state.config}isUserEvent(a){let b=this.annotation(aI.userEvent);return!!(b&&(b==a||b.length>a.length&&b.slice(0,a.length)==a&&"."==b[a.length]))}}function aJ(a,b,c){var d;let e,f,g;return c?(e=b.changes,f=Z.empty(b.changes.length),g=a.changes.compose(b.changes)):(e=b.changes.map(a.changes),f=a.changes.mapDesc(b.changes,!0),g=a.changes.compose(e)),{changes:g,selection:b.selection?b.selection.map(f):null==(d=a.selection)?void 0:d.map(e),effects:aH.mapEffects(a.effects,e).concat(aH.mapEffects(b.effects,f)),annotations:a.annotations.length?a.annotations.concat(b.annotations):b.annotations,scrollIntoView:a.scrollIntoView||b.scrollIntoView}}function aK(a,b,c){let d=b.selection,e=aM(b.annotations);return b.userEvent&&(e=e.concat(aI.userEvent.of(b.userEvent))),{changes:b.changes instanceof Z?b.changes:Z.of(b.changes||[],c,a.facet(az)),selection:d&&(d instanceof af?d:af.single(d.anchor,d.head)),effects:aM(b.effects),annotations:e,scrollIntoView:!!b.scrollIntoView}}aI.time=aE.define(),aI.userEvent=aE.define(),aI.addToHistory=aE.define(),aI.remote=aE.define();let aL=[];function aM(a){return null==a?aL:Array.isArray(a)?a:[a]}var aN=((i=aN||(aN={}))[i.Word=0]="Word",i[i.Space=1]="Space",i[i.Other=2]="Other",i);let aO=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;try{b=RegExp("[\\p{Alphabetic}\\p{Number}_]","u")}catch(a){}class aP{constructor(a,b,c,d,e,f){this.config=a,this.doc=b,this.selection=c,this.values=d,this.status=a.statusTemplate.slice(),this.computeSlot=e,f&&(f._state=this);for(let a=0;a<this.config.dynamicSlots.length;a++)av(this,a<<1);this.computeSlot=null}field(a,b=!0){let c=this.config.address[a.id];if(null==c){if(b)throw RangeError("Field is not present in this state");return}return av(this,c),aw(this,c)}update(...a){return function a(b,c,d){let e=aK(b,c.length?c[0]:{},b.doc.length);c.length&&!1===c[0].filter&&(d=!1);for(let a=1;a<c.length;a++){!1===c[a].filter&&(d=!1);let f=!!c[a].sequential;e=aJ(e,aK(b,c[a],f?e.changes.newLength:b.doc.length),f)}let f=aI.create(b,e.changes,e.selection,e.effects,e.annotations,e.scrollIntoView);return function(a){let b=a.startState,c=b.facet(aC),d=a;for(let e=c.length-1;e>=0;e--){let f=c[e](a);f&&Object.keys(f).length&&(d=aJ(d,aK(b,f,a.changes.newLength),!0))}return d==a?a:aI.create(b,a.changes,a.selection,d.effects,d.annotations,d.scrollIntoView)}(d?function(b){let c=b.startState,d=!0;for(let a of c.facet(aA)){let c=a(b);if(!1===c){d=!1;break}Array.isArray(c)&&(d=!0===d?c:function(a,b){let c=[];for(let d=0,e=0;;){let f,g;if(d<a.length&&(e==b.length||b[e]>=a[d]))f=a[d++],g=a[d++];else{if(!(e<b.length))return c;f=b[e++],g=b[e++]}!c.length||c[c.length-1]<f?c.push(f,g):c[c.length-1]<g&&(c[c.length-1]=g)}}(d,c))}if(!0!==d){let a,e;if(!1===d)e=b.changes.invertedDesc,a=Z.empty(c.doc.length);else{let c=b.changes.filter(d);a=c.changes,e=c.filtered.mapDesc(c.changes).invertedDesc}b=aI.create(c,a,b.selection&&b.selection.map(e),aH.mapEffects(b.effects,e),b.annotations,b.scrollIntoView)}let e=c.facet(aB);for(let d=e.length-1;d>=0;d--){let f=e[d](b);b=f instanceof aI?f:Array.isArray(f)&&1==f.length&&f[0]instanceof aI?f[0]:a(c,aM(f),!1)}return b}(f):f)}(this,a,!0)}applyTransaction(a){let b,c=this.config,{base:d,compartments:e}=c;for(let b of a.effects)b.is(as.reconfigure)?(c&&(e=new Map,c.compartments.forEach((a,b)=>e.set(b,a)),c=null),e.set(b.value.compartment,b.value.extension)):b.is(aH.reconfigure)?(c=null,d=b.value):b.is(aH.appendConfig)&&(c=null,d=aM(d).concat(b.value));b=c?a.startState.values.slice():new aP(c=au.resolve(d,e,this),this.doc,this.selection,c.dynamicSlots.map(()=>null),(a,b)=>b.reconfigure(a,this),null).values;let f=a.startState.facet(ay)?a.newSelection:a.newSelection.asSingle();new aP(c,a.newDoc,f,b,(b,c)=>c.update(b,a),a)}replaceSelection(a){return"string"==typeof a&&(a=this.toText(a)),this.changeByRange(b=>({changes:{from:b.from,to:b.to,insert:a},range:af.cursor(b.from+a.length)}))}changeByRange(a){let b=this.selection,c=a(b.ranges[0]),d=this.changes(c.changes),e=[c.range],f=aM(c.effects);for(let c=1;c<b.ranges.length;c++){let g=a(b.ranges[c]),h=this.changes(g.changes),i=h.map(d);for(let a=0;a<c;a++)e[a]=e[a].map(i);let j=d.mapDesc(h,!0);e.push(g.range.map(j)),d=d.compose(i),f=aH.mapEffects(f,i).concat(aH.mapEffects(aM(g.effects),j))}return{changes:d,selection:af.create(e,b.mainIndex),effects:f}}changes(a=[]){return a instanceof Z?a:Z.of(a,this.doc.length,this.facet(aP.lineSeparator))}toText(a){return J.of(a.split(this.facet(aP.lineSeparator)||W))}sliceDoc(a=0,b=this.doc.length){return this.doc.sliceString(a,b,this.lineBreak)}facet(a){let b=this.config.address[a.id];return null==b?a.default:(av(this,b),aw(this,b))}toJSON(a){let b={doc:this.sliceDoc(),selection:this.selection.toJSON()};if(a)for(let c in a){let d=a[c];d instanceof ao&&null!=this.config.address[d.id]&&(b[c]=d.spec.toJSON(this.field(a[c]),this))}return b}static fromJSON(a,b={},c){if(!a||"string"!=typeof a.doc)throw RangeError("Invalid JSON representation for EditorState");let d=[];if(c){for(let b in c)if(Object.prototype.hasOwnProperty.call(a,b)){let e=c[b],f=a[b];d.push(e.init(a=>e.spec.fromJSON(f,a)))}}return aP.create({doc:a.doc,selection:af.fromJSON(a.selection),extensions:b.extensions?d.concat([b.extensions]):d})}static create(a={}){let b=au.resolve(a.extensions||[],new Map),c=a.doc instanceof J?a.doc:J.of((a.doc||"").split(b.staticFacet(aP.lineSeparator)||W)),d=a.selection?a.selection instanceof af?a.selection:af.single(a.selection.anchor,a.selection.head):af.single(0);return ag(d,c.length),b.staticFacet(ay)||(d=d.asSingle()),new aP(b,c,d,b.dynamicSlots.map(()=>null),(a,b)=>b.create(a),null)}get tabSize(){return this.facet(aP.tabSize)}get lineBreak(){return this.facet(aP.lineSeparator)||"\n"}get readOnly(){return this.facet(aD)}phrase(a,...b){for(let b of this.facet(aP.phrases))if(Object.prototype.hasOwnProperty.call(b,a)){a=b[a];break}return b.length&&(a=a.replace(/\$(\$|\d*)/g,(a,c)=>{if("$"==c)return"$";let d=+(c||1);return!d||d>b.length?a:b[d-1]})),a}languageDataAt(a,b,c=-1){let d=[];for(let e of this.facet(ax))for(let f of e(this,b,c))Object.prototype.hasOwnProperty.call(f,a)&&d.push(f[a]);return d}charCategorizer(a){var c;return c=this.languageDataAt("wordChars",a).join(""),a=>{if(!/\S/.test(a))return aN.Space;if(function(a){if(b)return b.test(a);for(let b=0;b<a.length;b++){let c=a[b];if(/\w/.test(c)||c>""&&(c.toUpperCase()!=c.toLowerCase()||aO.test(c)))return!0}return!1}(a))return aN.Word;for(let b=0;b<c.length;b++)if(a.indexOf(c[b])>-1)return aN.Word;return aN.Other}}wordAt(a){let{text:b,from:c,length:d}=this.doc.lineAt(a),e=this.charCategorizer(a),f=a-c,g=a-c;for(;f>0;){let a=S(b,f,!1);if(e(b.slice(a,f))!=aN.Word)break;f=a}for(;g<d;){let a=S(b,g);if(e(b.slice(g,a))!=aN.Word)break;g=a}return f==g?null:af.range(f+c,g+c)}}function aQ(a,b,c={}){let d={};for(let b of a)for(let a of Object.keys(b)){let e=b[a],f=d[a];if(void 0===f)d[a]=e;else if(f===e||void 0===e);else if(Object.hasOwnProperty.call(c,a))d[a]=c[a](f,e);else throw Error("Config merge conflict for field "+a)}for(let a in b)void 0===d[a]&&(d[a]=b[a]);return d}aP.allowMultipleSelections=ay,aP.tabSize=ai.define({combine:a=>a.length?a[0]:4}),aP.lineSeparator=az,aP.readOnly=aD,aP.phrases=ai.define({compare(a,b){let c=Object.keys(a),d=Object.keys(b);return c.length==d.length&&c.every(c=>a[c]==b[c])}}),aP.languageData=ax,aP.changeFilter=aA,aP.transactionFilter=aB,aP.transactionExtender=aC,as.reconfigure=aH.define();class aR{eq(a){return this==a}range(a,b=a){return aS.create(a,b,this)}}aR.prototype.startSide=aR.prototype.endSide=0,aR.prototype.point=!1,aR.prototype.mapMode=X.TrackDel;class aS{constructor(a,b,c){this.from=a,this.to=b,this.value=c}static create(a,b,c){return new aS(a,b,c)}}function aT(a,b){return a.from-b.from||a.value.startSide-b.value.startSide}class aU{constructor(a,b,c,d){this.from=a,this.to=b,this.value=c,this.maxPoint=d}get length(){return this.to[this.to.length-1]}findIndex(a,b,c,d=0){let e=c?this.to:this.from;for(let f=d,g=e.length;;){if(f==g)return f;let d=f+g>>1,h=e[d]-a||(c?this.value[d].endSide:this.value[d].startSide)-b;if(d==f)return h>=0?f:g;h>=0?g=d:f=d+1}}between(a,b,c,d){for(let e=this.findIndex(b,-1e9,!0),f=this.findIndex(c,1e9,!1,e);e<f;e++)if(!1===d(this.from[e]+a,this.to[e]+a,this.value[e]))return!1}map(a,b){let c=[],d=[],e=[],f=-1,g=-1;for(let h=0;h<this.value.length;h++){let i=this.value[h],j=this.from[h]+a,k=this.to[h]+a,l,m;if(j==k){let a=b.mapPos(j,i.startSide,i.mapMode);if(null==a||(l=m=a,i.startSide!=i.endSide&&(m=b.mapPos(j,i.endSide))<l))continue}else if((l=b.mapPos(j,i.startSide))>(m=b.mapPos(k,i.endSide))||l==m&&i.startSide>0&&i.endSide<=0)continue;0>(m-l||i.endSide-i.startSide)||(f<0&&(f=l),i.point&&(g=Math.max(g,m-l)),c.push(i),d.push(l-f),e.push(m-f))}return{mapped:c.length?new aU(d,e,c,g):null,pos:f}}}class aV{constructor(a,b,c,d){this.chunkPos=a,this.chunk=b,this.nextLayer=c,this.maxPoint=d}static create(a,b,c,d){return new aV(a,b,c,d)}get length(){let a=this.chunk.length-1;return a<0?0:Math.max(this.chunkEnd(a),this.nextLayer.length)}get size(){if(this.isEmpty)return 0;let a=this.nextLayer.size;for(let b of this.chunk)a+=b.value.length;return a}chunkEnd(a){return this.chunkPos[a]+this.chunk[a].length}update(a){let{add:b=[],sort:c=!1,filterFrom:d=0,filterTo:e=this.length}=a,f=a.filter;if(0==b.length&&!f)return this;if(c&&(b=b.slice().sort(aT)),this.isEmpty)return b.length?aV.of(b):this;let g=new aY(this,null,-1).goto(0),h=0,i=[],j=new aW;for(;g.value||h<b.length;)if(h<b.length&&(g.from-b[h].from||g.startSide-b[h].value.startSide)>=0){let a=b[h++];j.addInner(a.from,a.to,a.value)||i.push(a)}else 1==g.rangeIndex&&g.chunkIndex<this.chunk.length&&(h==b.length||this.chunkEnd(g.chunkIndex)<b[h].from)&&(!f||d>this.chunkEnd(g.chunkIndex)||e<this.chunkPos[g.chunkIndex])&&j.addChunk(this.chunkPos[g.chunkIndex],this.chunk[g.chunkIndex])?g.nextChunk():((!f||d>g.to||e<g.from||f(g.from,g.to,g.value))&&!j.addInner(g.from,g.to,g.value)&&i.push(aS.create(g.from,g.to,g.value)),g.next());return j.finishInner(this.nextLayer.isEmpty&&!i.length?aV.empty:this.nextLayer.update({add:i,filter:f,filterFrom:d,filterTo:e}))}map(a){if(a.empty||this.isEmpty)return this;let b=[],c=[],d=-1;for(let e=0;e<this.chunk.length;e++){let f=this.chunkPos[e],g=this.chunk[e],h=a.touchesRange(f,f+g.length);if(!1===h)d=Math.max(d,g.maxPoint),b.push(g),c.push(a.mapPos(f));else if(!0===h){let{mapped:e,pos:h}=g.map(f,a);e&&(d=Math.max(d,e.maxPoint),b.push(e),c.push(h))}}let e=this.nextLayer.map(a);return 0==b.length?e:new aV(c,b,e||aV.empty,d)}between(a,b,c){if(!this.isEmpty){for(let d=0;d<this.chunk.length;d++){let e=this.chunkPos[d],f=this.chunk[d];if(b>=e&&a<=e+f.length&&!1===f.between(e,a-e,b-e,c))return}this.nextLayer.between(a,b,c)}}iter(a=0){return aZ.from([this]).goto(a)}get isEmpty(){return this.nextLayer==this}static iter(a,b=0){return aZ.from(a).goto(b)}static compare(a,b,c,d,e=-1){let f=a.filter(a=>a.maxPoint>0||!a.isEmpty&&a.maxPoint>=e),g=b.filter(a=>a.maxPoint>0||!a.isEmpty&&a.maxPoint>=e),h=aX(f,g,c),i=new a_(f,h,e),j=new a_(g,h,e);c.iterGaps((a,b,c)=>a0(i,a,j,b,c,d)),c.empty&&0==c.length&&a0(i,0,j,0,0,d)}static eq(a,b,c=0,d){null==d&&(d=0x3b9ac9ff);let e=a.filter(a=>!a.isEmpty&&0>b.indexOf(a)),f=b.filter(b=>!b.isEmpty&&0>a.indexOf(b));if(e.length!=f.length)return!1;if(!e.length)return!0;let g=aX(e,f),h=new a_(e,g,0).goto(c),i=new a_(f,g,0).goto(c);for(;;){if(h.to!=i.to||!a1(h.active,i.active)||h.point&&(!i.point||!h.point.eq(i.point)))return!1;if(h.to>d)return!0;h.next(),i.next()}}static spans(a,b,c,d,e=-1){let f=new a_(a,null,e).goto(b),g=b,h=f.openStart;for(;;){let a=Math.min(f.to,c);if(f.point){let c=f.activeForPoint(f.to),e=f.pointFrom<b?c.length+1:f.point.startSide<0?c.length:Math.min(c.length,h);d.point(g,a,f.point,c,e,f.pointRank),h=Math.min(f.openEnd(a),c.length)}else a>g&&(d.span(g,a,f.active,h),h=f.openEnd(a));if(f.to>c)return h+(f.point&&f.to>c?1:0);g=f.to,f.next()}}static of(a,b=!1){let c=new aW;for(let d of a instanceof aS?[a]:b?function(a){if(a.length>1)for(let b=a[0],c=1;c<a.length;c++){let d=a[c];if(aT(b,d)>0)return a.slice().sort(aT);b=d}return a}(a):a)c.add(d.from,d.to,d.value);return c.finish()}static join(a){if(!a.length)return aV.empty;let b=a[a.length-1];for(let c=a.length-2;c>=0;c--)for(let d=a[c];d!=aV.empty;d=d.nextLayer)b=new aV(d.chunkPos,d.chunk,b,Math.max(d.maxPoint,b.maxPoint));return b}}aV.empty=new aV([],[],null,-1),aV.empty.nextLayer=aV.empty;class aW{finishChunk(a){this.chunks.push(new aU(this.from,this.to,this.value,this.maxPoint)),this.chunkPos.push(this.chunkStart),this.chunkStart=-1,this.setMaxPoint=Math.max(this.setMaxPoint,this.maxPoint),this.maxPoint=-1,a&&(this.from=[],this.to=[],this.value=[])}constructor(){this.chunks=[],this.chunkPos=[],this.chunkStart=-1,this.last=null,this.lastFrom=-1e9,this.lastTo=-1e9,this.from=[],this.to=[],this.value=[],this.maxPoint=-1,this.setMaxPoint=-1,this.nextLayer=null}add(a,b,c){this.addInner(a,b,c)||(this.nextLayer||(this.nextLayer=new aW)).add(a,b,c)}addInner(a,b,c){let d=a-this.lastTo||c.startSide-this.last.endSide;if(d<=0&&0>(a-this.lastFrom||c.startSide-this.last.startSide))throw Error("Ranges must be added sorted by `from` position and `startSide`");return!(d<0)&&(250==this.from.length&&this.finishChunk(!0),this.chunkStart<0&&(this.chunkStart=a),this.from.push(a-this.chunkStart),this.to.push(b-this.chunkStart),this.last=c,this.lastFrom=a,this.lastTo=b,this.value.push(c),c.point&&(this.maxPoint=Math.max(this.maxPoint,b-a)),!0)}addChunk(a,b){if(0>(a-this.lastTo||b.value[0].startSide-this.last.endSide))return!1;this.from.length&&this.finishChunk(!0),this.setMaxPoint=Math.max(this.setMaxPoint,b.maxPoint),this.chunks.push(b),this.chunkPos.push(a);let c=b.value.length-1;return this.last=b.value[c],this.lastFrom=b.from[c]+a,this.lastTo=b.to[c]+a,!0}finish(){return this.finishInner(aV.empty)}finishInner(a){if(this.from.length&&this.finishChunk(!1),0==this.chunks.length)return a;let b=aV.create(this.chunkPos,this.chunks,this.nextLayer?this.nextLayer.finishInner(a):a,this.setMaxPoint);return this.from=null,b}}function aX(a,b,c){let d=new Map;for(let b of a)for(let a=0;a<b.chunk.length;a++)b.chunk[a].maxPoint<=0&&d.set(b.chunk[a],b.chunkPos[a]);let e=new Set;for(let a of b)for(let b=0;b<a.chunk.length;b++){let f=d.get(a.chunk[b]);null==f||(c?c.mapPos(f):f)!=a.chunkPos[b]||(null==c?void 0:c.touchesRange(f,f+a.chunk[b].length))||e.add(a.chunk[b])}return e}class aY{constructor(a,b,c,d=0){this.layer=a,this.skip=b,this.minPoint=c,this.rank=d}get startSide(){return this.value?this.value.startSide:0}get endSide(){return this.value?this.value.endSide:0}goto(a,b=-1e9){return this.chunkIndex=this.rangeIndex=0,this.gotoInner(a,b,!1),this}gotoInner(a,b,c){for(;this.chunkIndex<this.layer.chunk.length;){let b=this.layer.chunk[this.chunkIndex];if(!(this.skip&&this.skip.has(b)||this.layer.chunkEnd(this.chunkIndex)<a||b.maxPoint<this.minPoint))break;this.chunkIndex++,c=!1}if(this.chunkIndex<this.layer.chunk.length){let d=this.layer.chunk[this.chunkIndex].findIndex(a-this.layer.chunkPos[this.chunkIndex],b,!0);(!c||this.rangeIndex<d)&&this.setRangeIndex(d)}this.next()}forward(a,b){0>(this.to-a||this.endSide-b)&&this.gotoInner(a,b,!0)}next(){for(;;)if(this.chunkIndex==this.layer.chunk.length){this.from=this.to=1e9,this.value=null;break}else{let a=this.layer.chunkPos[this.chunkIndex],b=this.layer.chunk[this.chunkIndex],c=a+b.from[this.rangeIndex];if(this.from=c,this.to=a+b.to[this.rangeIndex],this.value=b.value[this.rangeIndex],this.setRangeIndex(this.rangeIndex+1),this.minPoint<0||this.value.point&&this.to-this.from>=this.minPoint)break}}setRangeIndex(a){if(a==this.layer.chunk[this.chunkIndex].value.length){if(this.chunkIndex++,this.skip)for(;this.chunkIndex<this.layer.chunk.length&&this.skip.has(this.layer.chunk[this.chunkIndex]);)this.chunkIndex++;this.rangeIndex=0}else this.rangeIndex=a}nextChunk(){this.chunkIndex++,this.rangeIndex=0,this.next()}compare(a){return this.from-a.from||this.startSide-a.startSide||this.rank-a.rank||this.to-a.to||this.endSide-a.endSide}}class aZ{constructor(a){this.heap=a}static from(a,b=null,c=-1){let d=[];for(let e=0;e<a.length;e++)for(let f=a[e];!f.isEmpty;f=f.nextLayer)f.maxPoint>=c&&d.push(new aY(f,b,c,e));return 1==d.length?d[0]:new aZ(d)}get startSide(){return this.value?this.value.startSide:0}goto(a,b=-1e9){for(let c of this.heap)c.goto(a,b);for(let a=this.heap.length>>1;a>=0;a--)a$(this.heap,a);return this.next(),this}forward(a,b){for(let c of this.heap)c.forward(a,b);for(let a=this.heap.length>>1;a>=0;a--)a$(this.heap,a);0>(this.to-a||this.value.endSide-b)&&this.next()}next(){if(0==this.heap.length)this.from=this.to=1e9,this.value=null,this.rank=-1;else{let a=this.heap[0];this.from=a.from,this.to=a.to,this.value=a.value,this.rank=a.rank,a.value&&a.next(),a$(this.heap,0)}}}function a$(a,b){for(let c=a[b];;){let d=(b<<1)+1;if(d>=a.length)break;let e=a[d];if(d+1<a.length&&e.compare(a[d+1])>=0&&(e=a[d+1],d++),0>c.compare(e))break;a[d]=c,a[b]=e,b=d}}class a_{constructor(a,b,c){this.minPoint=c,this.active=[],this.activeTo=[],this.activeRank=[],this.minActive=-1,this.point=null,this.pointFrom=0,this.pointRank=0,this.to=-1e9,this.endSide=0,this.openStart=-1,this.cursor=aZ.from(a,b,c)}goto(a,b=-1e9){return this.cursor.goto(a,b),this.active.length=this.activeTo.length=this.activeRank.length=0,this.minActive=-1,this.to=a,this.endSide=b,this.openStart=-1,this.next(),this}forward(a,b){for(;this.minActive>-1&&0>(this.activeTo[this.minActive]-a||this.active[this.minActive].endSide-b);)this.removeActive(this.minActive);this.cursor.forward(a,b)}removeActive(a){a2(this.active,a),a2(this.activeTo,a),a2(this.activeRank,a),this.minActive=a4(this.active,this.activeTo)}addActive(a){let b=0,{value:c,to:d,rank:e}=this.cursor;for(;b<this.activeRank.length&&(e-this.activeRank[b]||d-this.activeTo[b])>0;)b++;a3(this.active,b,c),a3(this.activeTo,b,d),a3(this.activeRank,b,e),a&&a3(a,b,this.cursor.from),this.minActive=a4(this.active,this.activeTo)}next(){let a=this.to,b=this.point;this.point=null;let c=this.openStart<0?[]:null;for(;;){let d=this.minActive;if(d>-1&&0>(this.activeTo[d]-this.cursor.from||this.active[d].endSide-this.cursor.startSide)){if(this.activeTo[d]>a){this.to=this.activeTo[d],this.endSide=this.active[d].endSide;break}this.removeActive(d),c&&a2(c,d)}else if(this.cursor.value)if(this.cursor.from>a){this.to=this.cursor.from,this.endSide=this.cursor.startSide;break}else{let a=this.cursor.value;if(a.point)if(b&&this.cursor.to==this.to&&this.cursor.from<this.cursor.to)this.cursor.next();else{this.point=a,this.pointFrom=this.cursor.from,this.pointRank=this.cursor.rank,this.to=this.cursor.to,this.endSide=a.endSide,this.cursor.next(),this.forward(this.to,this.endSide);break}else this.addActive(c),this.cursor.next()}else{this.to=this.endSide=1e9;break}}if(c){this.openStart=0;for(let b=c.length-1;b>=0&&c[b]<a;b--)this.openStart++}}activeForPoint(a){if(!this.active.length)return this.active;let b=[];for(let c=this.active.length-1;c>=0&&!(this.activeRank[c]<this.pointRank);c--)(this.activeTo[c]>a||this.activeTo[c]==a&&this.active[c].endSide>=this.point.endSide)&&b.push(this.active[c]);return b.reverse()}openEnd(a){let b=0;for(let c=this.activeTo.length-1;c>=0&&this.activeTo[c]>a;c--)b++;return b}}function a0(a,b,c,d,e,f){a.goto(b),c.goto(d);let g=d+e,h=d,i=d-b;for(;;){let b=a.to+i-c.to,d=b||a.endSide-c.endSide,e=d<0?a.to+i:c.to,j=Math.min(e,g);if(a.point||c.point?a.point&&c.point&&(a.point==c.point||a.point.eq(c.point))&&a1(a.activeForPoint(a.to),c.activeForPoint(c.to))||f.comparePoint(h,j,a.point,c.point):j>h&&!a1(a.active,c.active)&&f.compareRange(h,j,a.active,c.active),e>g)break;(b||a.openEnd!=c.openEnd)&&f.boundChange&&f.boundChange(e),h=e,d<=0&&a.next(),d>=0&&c.next()}}function a1(a,b){if(a.length!=b.length)return!1;for(let c=0;c<a.length;c++)if(a[c]!=b[c]&&!a[c].eq(b[c]))return!1;return!0}function a2(a,b){for(let c=b,d=a.length-1;c<d;c++)a[c]=a[c+1];a.pop()}function a3(a,b,c){for(let c=a.length-1;c>=b;c--)a[c+1]=a[c];a[b]=c}function a4(a,b){let c=-1,d=1e9;for(let e=0;e<b.length;e++)0>(b[e]-d||a[e].endSide-a[c].endSide)&&(c=e,d=b[e]);return c}function a5(a,b,c=a.length){let d=0;for(let e=0;e<c&&e<a.length;)9==a.charCodeAt(e)?(d+=b-d%b,e++):(d++,e=S(a,e));return d}let a6="undefined"==typeof Symbol?"__ͼ":Symbol.for("ͼ"),a7="undefined"==typeof Symbol?"__styleSet"+Math.floor(1e8*Math.random()):Symbol("styleSet"),a8="undefined"!=typeof globalThis?globalThis:{};class a9{constructor(a,b){this.rules=[];let{finish:c}=b||{};function d(a){return/^@/.test(a)?[a]:a.split(/,\s*/)}for(let b in a)!function a(b,e,f,g){let h=[],i=/^@(\w+)\b/.exec(b[0]),j=i&&"keyframes"==i[1];if(i&&null==e)return f.push(b[0]+";");for(let c in e){let g=e[c];if(/&/.test(c))a(c.split(/,\s*/).map(a=>b.map(b=>a.replace(/&/,b))).reduce((a,b)=>a.concat(b)),g,f);else if(g&&"object"==typeof g){if(!i)throw RangeError("The value of a property ("+c+") should be a primitive value.");a(d(c),g,h,j)}else null!=g&&h.push(c.replace(/_.*/,"").replace(/[A-Z]/g,a=>"-"+a.toLowerCase())+": "+g+";")}(h.length||j)&&f.push((c&&!i&&!g?b.map(c):b).join(", ")+" {"+h.join(" ")+"}")}(d(b),a[b],this.rules)}getRules(){return this.rules.join("\n")}static newName(){let a=a8[a6]||1;return a8[a6]=a+1,"ͼ"+a.toString(36)}static mount(a,b,c){let d=a[a7],e=c&&c.nonce;d?e&&d.setNonce(e):d=new bb(a,e),d.mount(Array.isArray(b)?b:[b],a)}}let ba=new Map;class bb{constructor(a,b){let c=a.ownerDocument||a,d=c.defaultView;if(!a.head&&a.adoptedStyleSheets&&d.CSSStyleSheet){let b=ba.get(c);if(b)return a[a7]=b;this.sheet=new d.CSSStyleSheet,ba.set(c,this)}else this.styleTag=c.createElement("style"),b&&this.styleTag.setAttribute("nonce",b);this.modules=[],a[a7]=this}mount(a,b){let c=this.sheet,d=0,e=0;for(let b=0;b<a.length;b++){let f=a[b],g=this.modules.indexOf(f);if(g<e&&g>-1&&(this.modules.splice(g,1),e--,g=-1),-1==g){if(this.modules.splice(e++,0,f),c)for(let a=0;a<f.rules.length;a++)c.insertRule(f.rules[a],d++)}else{for(;e<g;)d+=this.modules[e++].rules.length;d+=f.rules.length,e++}}if(c)0>b.adoptedStyleSheets.indexOf(this.sheet)&&(b.adoptedStyleSheets=[this.sheet,...b.adoptedStyleSheets]);else{let a="";for(let b=0;b<this.modules.length;b++)a+=this.modules[b].getRules()+"\n";this.styleTag.textContent=a;let c=b.head||b;this.styleTag.parentNode!=c&&c.insertBefore(this.styleTag,c.firstChild)}}setNonce(a){this.styleTag&&this.styleTag.getAttribute("nonce")!=a&&this.styleTag.setAttribute("nonce",a)}}for(var bc={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},bd={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},be="undefined"!=typeof navigator&&/Mac/.test(navigator.platform),bf="undefined"!=typeof navigator&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),bg=0;bg<10;bg++)bc[48+bg]=bc[96+bg]=String(bg);for(var bg=1;bg<=24;bg++)bc[bg+111]="F"+bg;for(var bg=65;bg<=90;bg++)bc[bg]=String.fromCharCode(bg+32),bd[bg]=String.fromCharCode(bg);for(var bh in bc)bd.hasOwnProperty(bh)||(bd[bh]=bc[bh]);let bi="undefined"!=typeof navigator?navigator:{userAgent:"",vendor:"",platform:""},bj="undefined"!=typeof document?document:{documentElement:{style:{}}},bk=/Edge\/(\d+)/.exec(bi.userAgent),bl=/MSIE \d/.test(bi.userAgent),bm=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(bi.userAgent),bn=!!(bl||bm||bk),bo=!bn&&/gecko\/(\d+)/i.test(bi.userAgent),bp=!bn&&/Chrome\/(\d+)/.exec(bi.userAgent),bq="webkitFontSmoothing"in bj.documentElement.style,br=!bn&&/Apple Computer/.test(bi.vendor),bs=br&&(/Mobile\/\w+/.test(bi.userAgent)||bi.maxTouchPoints>2);var bt={mac:bs||/Mac/.test(bi.platform),windows:/Win/.test(bi.platform),linux:/Linux|X11/.test(bi.platform),ie:bn,ie_version:bl?bj.documentMode||6:bm?+bm[1]:bk?+bk[1]:0,gecko:bo,gecko_version:bo?+(/Firefox\/(\d+)/.exec(bi.userAgent)||[0,0])[1]:0,chrome:!!bp,chrome_version:bp?+bp[1]:0,ios:bs,android:/Android\b/.test(bi.userAgent),webkit:bq,webkit_version:bq?+(/\bAppleWebKit\/(\d+)/.exec(bi.userAgent)||[0,0])[1]:0,safari:br,safari_version:br?+(/\bVersion\/(\d+(\.\d+)?)/.exec(bi.userAgent)||[0,0])[1]:0,tabSize:null!=bj.documentElement.style.tabSize?"tab-size":"-moz-tab-size"};function bu(a){return(11==a.nodeType?a.getSelection?a:a.ownerDocument:a).getSelection()}function bv(a,b){return!!b&&(a==b||a.contains(1!=b.nodeType?b.parentNode:b))}function bw(a,b){if(!b.anchorNode)return!1;try{return bv(a,b.anchorNode)}catch(a){return!1}}function bx(a){return 3==a.nodeType?bI(a,0,a.nodeValue.length).getClientRects():1==a.nodeType?a.getClientRects():[]}function by(a,b,c,d){return!!c&&(bB(a,b,c,d,-1)||bB(a,b,c,d,1))}function bz(a){for(var b=0;;b++)if(!(a=a.previousSibling))return b}function bA(a){return 1==a.nodeType&&/^(DIV|P|LI|UL|OL|BLOCKQUOTE|DD|DT|H\d|SECTION|PRE)$/.test(a.nodeName)}function bB(a,b,c,d,e){for(;;){if(a==c&&b==d)return!0;if(b==(e<0?0:bC(a))){if("DIV"==a.nodeName)return!1;let c=a.parentNode;if(!c||1!=c.nodeType)return!1;b=bz(a)+(e<0?0:1),a=c}else{if(1!=a.nodeType||1==(a=a.childNodes[b+(e<0?-1:0)]).nodeType&&"false"==a.contentEditable)return!1;b=e<0?bC(a):0}}}function bC(a){return 3==a.nodeType?a.nodeValue.length:a.childNodes.length}function bD(a,b){let c=b?a.left:a.right;return{left:c,right:c,top:a.top,bottom:a.bottom}}function bE(a,b){let c=b.width/a.offsetWidth,d=b.height/a.offsetHeight;return(c>.995&&c<1.005||!isFinite(c)||1>Math.abs(b.width-a.offsetWidth))&&(c=1),(d>.995&&d<1.005||!isFinite(d)||1>Math.abs(b.height-a.offsetHeight))&&(d=1),{scaleX:c,scaleY:d}}class bF{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}eq(a){return this.anchorNode==a.anchorNode&&this.anchorOffset==a.anchorOffset&&this.focusNode==a.focusNode&&this.focusOffset==a.focusOffset}setRange(a){let{anchorNode:b,focusNode:c}=a;this.set(b,Math.min(a.anchorOffset,b?bC(b):0),c,Math.min(a.focusOffset,c?bC(c):0))}set(a,b,c,d){this.anchorNode=a,this.anchorOffset=b,this.focusNode=c,this.focusOffset=d}}let bG=null;function bH(a){if(a.setActive)return a.setActive();if(bG)return a.focus(bG);let b=[];for(let c=a;c&&(b.push(c,c.scrollTop,c.scrollLeft),c!=c.ownerDocument);c=c.parentNode);if(a.focus(null==bG?{get preventScroll(){return bG={preventScroll:!0},!0}}:void 0),!bG){bG=!1;for(let a=0;a<b.length;){let c=b[a++],d=b[a++],e=b[a++];c.scrollTop!=d&&(c.scrollTop=d),c.scrollLeft!=e&&(c.scrollLeft=e)}}}function bI(a,b,d=b){let e=c||(c=document.createRange());return e.setEnd(a,d),e.setStart(a,b),e}function bJ(a,b,c,d){let e={key:b,code:b,keyCode:c,which:c,cancelable:!0};d&&({altKey:e.altKey,ctrlKey:e.ctrlKey,shiftKey:e.shiftKey,metaKey:e.metaKey}=d);let f=new KeyboardEvent("keydown",e);f.synthetic=!0,a.dispatchEvent(f);let g=new KeyboardEvent("keyup",e);return g.synthetic=!0,a.dispatchEvent(g),f.defaultPrevented||g.defaultPrevented}function bK(a){for(;a.attributes.length;)a.removeAttributeNode(a.attributes[0])}function bL(a){return a.scrollTop>Math.max(1,a.scrollHeight-a.clientHeight-4)}function bM(a,b){for(let c=a,d=b;;)if(3==c.nodeType&&d>0)return{node:c,offset:d};else if(1==c.nodeType&&d>0){if("false"==c.contentEditable)return null;d=bC(c=c.childNodes[d-1])}else{if(!c.parentNode||bA(c))return null;d=bz(c),c=c.parentNode}}function bN(a,b){for(let c=a,d=b;;)if(3==c.nodeType&&d<c.nodeValue.length)return{node:c,offset:d};else if(1==c.nodeType&&d<c.childNodes.length){if("false"==c.contentEditable)return null;c=c.childNodes[d],d=0}else{if(!c.parentNode||bA(c))return null;d=bz(c)+1,c=c.parentNode}}bt.safari&&bt.safari_version>=26&&(bG=!1);class bO{constructor(a,b,c=!0){this.node=a,this.offset=b,this.precise=c}static before(a,b){return new bO(a.parentNode,bz(a),b)}static after(a,b){return new bO(a.parentNode,bz(a)+1,b)}}let bP=[];class bQ{constructor(){this.parent=null,this.dom=null,this.flags=2}get overrideDOMText(){return null}get posAtStart(){return this.parent?this.parent.posBefore(this):0}get posAtEnd(){return this.posAtStart+this.length}posBefore(a){let b=this.posAtStart;for(let c of this.children){if(c==a)return b;b+=c.length+c.breakAfter}throw RangeError("Invalid child in posBefore")}posAfter(a){return this.posBefore(a)+a.length}sync(a,b){if(2&this.flags){let c=this.dom,d=null,e;for(let f of this.children){if(7&f.flags){if(!f.dom&&(e=d?d.nextSibling:c.firstChild)){let a=bQ.get(e);(!a||!a.parent&&a.canReuseDOM(f))&&f.reuseDOM(e)}f.sync(a,b),f.flags&=-8}if(e=d?d.nextSibling:c.firstChild,b&&!b.written&&b.node==c&&e!=f.dom&&(b.written=!0),f.dom.parentNode==c)for(;e&&e!=f.dom;)e=bR(e);else c.insertBefore(f.dom,e);d=f.dom}for((e=d?d.nextSibling:c.firstChild)&&b&&b.node==c&&(b.written=!0);e;)e=bR(e)}else if(1&this.flags)for(let c of this.children)7&c.flags&&(c.sync(a,b),c.flags&=-8)}reuseDOM(a){}localPosFromDOM(a,b){let c;if(a==this.dom)c=this.dom.childNodes[b];else{let d=0==bC(a)?0:0==b?-1:1;for(;;){let b=a.parentNode;if(b==this.dom)break;0==d&&b.firstChild!=b.lastChild&&(d=a==b.firstChild?-1:1),a=b}c=d<0?a:a.nextSibling}if(c==this.dom.firstChild)return 0;for(;c&&!bQ.get(c);)c=c.nextSibling;if(!c)return this.length;for(let a=0,b=0;;a++){let d=this.children[a];if(d.dom==c)return b;b+=d.length+d.breakAfter}}domBoundsAround(a,b,c=0){let d=-1,e=-1,f=-1,g=-1;for(let h=0,i=c,j=c;h<this.children.length;h++){let c=this.children[h],k=i+c.length;if(i<a&&k>b)return c.domBoundsAround(a,b,i);if(k>=a&&-1==d&&(d=h,e=i),i>b&&c.dom.parentNode==this.dom){f=h,g=j;break}j=k,i=k+c.breakAfter}return{from:e,to:g<0?c+this.length:g,startDOM:(d?this.children[d-1].dom.nextSibling:null)||this.dom.firstChild,endDOM:f<this.children.length&&f>=0?this.children[f].dom:null}}markDirty(a=!1){this.flags|=2,this.markParentsDirty(a)}markParentsDirty(a){for(let b=this.parent;b;b=b.parent){if(a&&(b.flags|=2),1&b.flags)return;b.flags|=1,a=!1}}setParent(a){this.parent!=a&&(this.parent=a,7&this.flags&&this.markParentsDirty(!0))}setDOM(a){this.dom!=a&&(this.dom&&(this.dom.cmView=null),this.dom=a,a.cmView=this)}get rootView(){for(let a=this;;){let b=a.parent;if(!b)return a;a=b}}replaceChildren(a,b,c=bP){this.markDirty();for(let d=a;d<b;d++){let a=this.children[d];a.parent==this&&0>c.indexOf(a)&&a.destroy()}c.length<250?this.children.splice(a,b-a,...c):this.children=[].concat(this.children.slice(0,a),c,this.children.slice(b));for(let a=0;a<c.length;a++)c[a].setParent(this)}ignoreMutation(a){return!1}ignoreEvent(a){return!1}childCursor(a=this.length){return new bS(this.children,a,this.children.length)}childPos(a,b=1){return this.childCursor().findPos(a,b)}toString(){let a=this.constructor.name.replace("View","");return a+(this.children.length?"("+this.children.join()+")":this.length?"["+("Text"==a?this.text:this.length)+"]":"")+(this.breakAfter?"#":"")}static get(a){return a.cmView}get isEditable(){return!0}get isWidget(){return!1}get isHidden(){return!1}merge(a,b,c,d,e,f){return!1}become(a){return!1}canReuseDOM(a){return a.constructor==this.constructor&&!((this.flags|a.flags)&8)}getSide(){return 0}destroy(){for(let a of this.children)a.parent==this&&a.destroy();this.parent=null}}function bR(a){let b=a.nextSibling;return a.parentNode.removeChild(a),b}bQ.prototype.breakAfter=0;class bS{constructor(a,b,c){this.children=a,this.pos=b,this.i=c,this.off=0}findPos(a,b=1){for(;;){if(a>this.pos||a==this.pos&&(b>0||0==this.i||this.children[this.i-1].breakAfter))return this.off=a-this.pos,this;let c=this.children[--this.i];this.pos-=c.length+c.breakAfter}}}function bT(a,b,c,d,e,f,g,h,i){let{children:j}=a,k=j.length?j[b]:null,l=f.length?f[f.length-1]:null,m=l?l.breakAfter:g;if(!(b==d&&k&&!g&&!m&&f.length<2&&k.merge(c,e,f.length?l:null,0==c,h,i))){if(d<j.length){let a=j[d];a&&(e<a.length||a.breakAfter&&(null==l?void 0:l.breakAfter))?(b==d&&(a=a.split(e),e=0),!m&&l&&a.merge(0,e,l,!0,0,i)?f[f.length-1]=a:((e||a.children.length&&!a.children[0].length)&&a.merge(0,e,null,!1,0,i),f.push(a))):(null==a?void 0:a.breakAfter)&&(l?l.breakAfter=1:g=1),d++}for(k&&(k.breakAfter=g,c>0&&(!g&&f.length&&k.merge(c,k.length,f[0],!1,h,0)?k.breakAfter=f.shift().breakAfter:(c<k.length||k.children.length&&0==k.children[k.children.length-1].length)&&k.merge(c,k.length,null,!1,h,0),b++));b<d&&f.length;)if(j[d-1].become(f[f.length-1]))d--,f.pop(),i=f.length?0:h;else if(j[b].become(f[0]))b++,f.shift(),h=f.length?0:i;else break;!f.length&&b&&d<j.length&&!j[b-1].breakAfter&&j[d].merge(0,0,j[b-1],!1,h,i)&&b--,(b<d||f.length)&&a.replaceChildren(b,d,f)}}function bU(a,b,c,d,e,f){let g=a.childCursor(),{i:h,off:i}=g.findPos(c,1),{i:j,off:k}=g.findPos(b,-1),l=b-c;for(let a of d)l+=a.length;a.length+=l,bT(a,j,k,h,i,d,0,e,f)}class bV extends bQ{constructor(a){super(),this.text=a}get length(){return this.text.length}createDOM(a){this.setDOM(a||document.createTextNode(this.text))}sync(a,b){this.dom||this.createDOM(),this.dom.nodeValue!=this.text&&(b&&b.node==this.dom&&(b.written=!0),this.dom.nodeValue=this.text)}reuseDOM(a){3==a.nodeType&&this.createDOM(a)}merge(a,b,c){return!(8&this.flags)&&(!c||c instanceof bV&&!(this.length-(b-a)+c.length>256)&&!(8&c.flags))&&(this.text=this.text.slice(0,a)+(c?c.text:"")+this.text.slice(b),this.markDirty(),!0)}split(a){let b=new bV(this.text.slice(a));return this.text=this.text.slice(0,a),this.markDirty(),b.flags|=8&this.flags,b}localPosFromDOM(a,b){return a==this.dom?b:b?this.text.length:0}domAtPos(a){return new bO(this.dom,a)}domBoundsAround(a,b,c){return{from:c,to:c+this.length,startDOM:this.dom,endDOM:this.dom.nextSibling}}coordsAt(a,b){return function(a,b,c){let d=a.nodeValue.length;b>d&&(b=d);let e=b,f=b,g=0;0==b&&c<0||b==d&&c>=0?!(bt.chrome||bt.gecko)&&(b?(e--,g=1):f<d&&(f++,g=-1)):c<0?e--:f<d&&f++;let h=bI(a,e,f).getClientRects();if(!h.length)return null;let i=h[(g?g<0:c>=0)?0:h.length-1];return bt.safari&&!g&&0==i.width&&(i=Array.prototype.find.call(h,a=>a.width)||i),g?bD(i,g<0):i||null}(this.dom,a,b)}}class bW extends bQ{constructor(a,b=[],c=0){for(let d of(super(),this.mark=a,this.children=b,this.length=c,b))d.setParent(this)}setAttrs(a){if(bK(a),this.mark.class&&(a.className=this.mark.class),this.mark.attrs)for(let b in this.mark.attrs)a.setAttribute(b,this.mark.attrs[b]);return a}canReuseDOM(a){return super.canReuseDOM(a)&&!((this.flags|a.flags)&8)}reuseDOM(a){a.nodeName==this.mark.tagName.toUpperCase()&&(this.setDOM(a),this.flags|=6)}sync(a,b){this.dom?4&this.flags&&this.setAttrs(this.dom):this.setDOM(this.setAttrs(document.createElement(this.mark.tagName))),super.sync(a,b)}merge(a,b,c,d,e,f){return(!c||!!(c instanceof bW&&c.mark.eq(this.mark))&&(!a||!(e<=0))&&(!(b<this.length)||!(f<=0)))&&(bU(this,a,b,c?c.children.slice():[],e-1,f-1),this.markDirty(),!0)}split(a){let b=[],c=0,d=-1,e=0;for(let f of this.children){let g=c+f.length;g>a&&b.push(c<a?f.split(a-c):f),d<0&&c>=a&&(d=e),c=g,e++}let f=this.length-a;return this.length=a,d>-1&&(this.children.length=d,this.markDirty()),new bW(this.mark,b,f)}domAtPos(a){return bZ(this,a)}coordsAt(a,b){return b$(this,a,b)}}class bX extends bQ{static create(a,b,c){return new bX(a,b,c)}constructor(a,b,c){super(),this.widget=a,this.length=b,this.side=c,this.prevWidget=null}split(a){let b=bX.create(this.widget,this.length-a,this.side);return this.length-=a,b}sync(a){this.dom&&this.widget.updateDOM(this.dom,a)||(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(a)),this.widget.editable||(this.dom.contentEditable="false"))}getSide(){return this.side}merge(a,b,c,d,e,f){return(!c||c instanceof bX&&!!this.widget.compare(c.widget)&&(!(a>0)||!(e<=0))&&(!(b<this.length)||!(f<=0)))&&(this.length=a+(c?c.length:0)+(this.length-b),!0)}become(a){return a instanceof bX&&a.side==this.side&&this.widget.constructor==a.widget.constructor&&(this.widget.compare(a.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=a.widget,this.length=a.length,!0)}ignoreMutation(){return!0}ignoreEvent(a){return this.widget.ignoreEvent(a)}get overrideDOMText(){if(0==this.length)return J.empty;let a=this;for(;a.parent;)a=a.parent;let{view:b}=a,c=b&&b.state.doc,d=this.posAtStart;return c?c.slice(d,d+this.length):J.empty}domAtPos(a){return(this.length?0==a:this.side>0)?bO.before(this.dom):bO.after(this.dom,a==this.length)}domBoundsAround(){return null}coordsAt(a,b){let c=this.widget.coordsAt(this.dom,a,b);if(c)return c;let d=this.dom.getClientRects(),e=null;if(!d.length)return null;let f=this.side?this.side<0:a>0;for(let b=f?d.length-1:0;e=d[b],a>0?0!=b:b!=d.length-1&&!(e.top<e.bottom);b+=f?-1:1);return bD(e,!f)}get isEditable(){return!1}get isWidget(){return!0}get isHidden(){return this.widget.isHidden}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}}class bY extends bQ{constructor(a){super(),this.side=a}get length(){return 0}merge(){return!1}become(a){return a instanceof bY&&a.side==this.side}split(){return new bY(this.side)}sync(){if(!this.dom){let a=document.createElement("img");a.className="cm-widgetBuffer",a.setAttribute("aria-hidden","true"),this.setDOM(a)}}getSide(){return this.side}domAtPos(a){return this.side>0?bO.before(this.dom):bO.after(this.dom)}localPosFromDOM(){return 0}domBoundsAround(){return null}coordsAt(a){return this.dom.getBoundingClientRect()}get overrideDOMText(){return J.empty}get isHidden(){return!0}}function bZ(a,b){let c=a.dom,{children:d}=a,e=0;for(let a=0;e<d.length;e++){let f=d[e],g=a+f.length;if(!(g==a&&0>=f.getSide())){if(b>a&&b<g&&f.dom.parentNode==c)return f.domAtPos(b-a);if(b<=a)break;a=g}}for(let a=e;a>0;a--){let b=d[a-1];if(b.dom.parentNode==c)return b.domAtPos(b.length)}for(let a=e;a<d.length;a++){let b=d[a];if(b.dom.parentNode==c)return b.domAtPos(0)}return new bO(c,0)}function b$(a,b,c){let d=null,e=-1,f=null,g=-1;!function a(b,h){for(let i=0,j=0;i<b.children.length&&j<=h;i++){let k=b.children[i],l=j+k.length;l>=h&&(k.children.length?a(k,h-j):(!f||f.isHidden&&(c>0||function(a,b){let c=a.coordsAt(0,1),d=b.coordsAt(0,1);return c&&d&&d.top<c.bottom}(f,k)))&&(l>h||j==l&&k.getSide()>0)?(f=k,g=h-j):(j<h||j==l&&0>k.getSide()&&!k.isHidden)&&(d=k,e=h-j)),j=l}}(a,b);let h=(c<0?d:f)||d||f;return h?h.coordsAt(Math.max(0,h==d?e:g),c):function(a){let b=a.dom.lastChild;if(!b)return a.dom.getBoundingClientRect();let c=bx(b);return c[c.length-1]||null}(a)}function b_(a,b){for(let c in a)"class"==c&&b.class?b.class+=" "+a.class:"style"==c&&b.style?b.style+=";"+a.style:b[c]=a[c];return b}bV.prototype.children=bX.prototype.children=bY.prototype.children=bP;let b0=Object.create(null);function b1(a,b,c){if(a==b)return!0;a||(a=b0),b||(b=b0);let d=Object.keys(a),e=Object.keys(b);if(d.length-(c&&d.indexOf(c)>-1?1:0)!=e.length-(c&&e.indexOf(c)>-1?1:0))return!1;for(let f of d)if(f!=c&&(-1==e.indexOf(f)||a[f]!==b[f]))return!1;return!0}function b2(a,b,c){let d=!1;if(b)for(let e in b)c&&e in c||(d=!0,"style"==e?a.style.cssText="":a.removeAttribute(e));if(c)for(let e in c)b&&b[e]==c[e]||(d=!0,"style"==e?a.style.cssText=c[e]:a.setAttribute(e,c[e]));return d}class b3{eq(a){return!1}updateDOM(a,b){return!1}compare(a){return this==a||this.constructor==a.constructor&&this.eq(a)}get estimatedHeight(){return -1}get lineBreaks(){return 0}ignoreEvent(a){return!0}coordsAt(a,b,c){return null}get isHidden(){return!1}get editable(){return!1}destroy(a){}}var b4=((j=b4||(b4={}))[j.Text=0]="Text",j[j.WidgetBefore=1]="WidgetBefore",j[j.WidgetAfter=2]="WidgetAfter",j[j.WidgetRange=3]="WidgetRange",j);class b5 extends aR{constructor(a,b,c,d){super(),this.startSide=a,this.endSide=b,this.widget=c,this.spec=d}get heightRelevant(){return!1}static mark(a){return new b6(a)}static widget(a){let b=Math.max(-1e4,Math.min(1e4,a.side||0)),c=!!a.block;return b+=c&&!a.inlineOrder?b>0?3e8:-4e8:b>0?1e8:-1e8,new b8(a,b,b,c,a.widget||null,!1)}static replace(a){let b=!!a.block,c,d;if(a.isBlockGap)c=-5e8,d=4e8;else{let{start:e,end:f}=b9(a,b);c=(e?b?-3e8:-1:5e8)-1,d=(f?b?2e8:1:-6e8)+1}return new b8(a,c,d,b,a.widget||null,!0)}static line(a){return new b7(a)}static set(a,b=!1){return aV.of(a,b)}hasHeight(){return!!this.widget&&this.widget.estimatedHeight>-1}}b5.none=aV.empty;class b6 extends b5{constructor(a){let{start:b,end:c}=b9(a);super(b?-1:5e8,c?1:-6e8,null,a),this.tagName=a.tagName||"span",this.class=a.class||"",this.attrs=a.attributes||null}eq(a){var b,c;return this==a||a instanceof b6&&this.tagName==a.tagName&&(this.class||(null==(b=this.attrs)?void 0:b.class))==(a.class||(null==(c=a.attrs)?void 0:c.class))&&b1(this.attrs,a.attrs,"class")}range(a,b=a){if(a>=b)throw RangeError("Mark decorations may not be empty");return super.range(a,b)}}b6.prototype.point=!1;class b7 extends b5{constructor(a){super(-2e8,-2e8,null,a)}eq(a){return a instanceof b7&&this.spec.class==a.spec.class&&b1(this.spec.attributes,a.spec.attributes)}range(a,b=a){if(b!=a)throw RangeError("Line decoration ranges must be zero-length");return super.range(a,b)}}b7.prototype.mapMode=X.TrackBefore,b7.prototype.point=!0;class b8 extends b5{constructor(a,b,c,d,e,f){super(b,c,e,a),this.block=d,this.isReplace=f,this.mapMode=d?b<=0?X.TrackBefore:X.TrackAfter:X.TrackDel}get type(){return this.startSide!=this.endSide?b4.WidgetRange:this.startSide<=0?b4.WidgetBefore:b4.WidgetAfter}get heightRelevant(){return this.block||!!this.widget&&(this.widget.estimatedHeight>=5||this.widget.lineBreaks>0)}eq(a){var b,c;return a instanceof b8&&(b=this.widget,b==(c=a.widget)||!!(b&&c&&b.compare(c)))&&this.block==a.block&&this.startSide==a.startSide&&this.endSide==a.endSide}range(a,b=a){if(this.isReplace&&(a>b||a==b&&this.startSide>0&&this.endSide<=0))throw RangeError("Invalid range for replacement decoration");if(!this.isReplace&&b!=a)throw RangeError("Widget decorations can only have zero-length ranges");return super.range(a,b)}}function b9(a,b=!1){let{inclusiveStart:c,inclusiveEnd:d}=a;return null==c&&(c=a.inclusive),null==d&&(d=a.inclusive),{start:null!=c?c:b,end:null!=d?d:b}}function ca(a,b,c,d=0){let e=c.length-1;e>=0&&c[e]+d>=a?c[e]=Math.max(c[e],b):c.push(a,b)}b8.prototype.point=!0;class cb extends bQ{constructor(){super(...arguments),this.children=[],this.length=0,this.prevAttrs=void 0,this.attrs=null,this.breakAfter=0}merge(a,b,c,d,e,f){if(c){if(!(c instanceof cb))return!1;this.dom||c.transferDOM(this)}return d&&this.setDeco(c?c.attrs:null),bU(this,a,b,c?c.children.slice():[],e,f),!0}split(a){let b=new cb;if(b.breakAfter=this.breakAfter,0==this.length)return b;let{i:c,off:d}=this.childPos(a);d&&(b.append(this.children[c].split(d),0),this.children[c].merge(d,this.children[c].length,null,!1,0,0),c++);for(let a=c;a<this.children.length;a++)b.append(this.children[a],0);for(;c>0&&0==this.children[c-1].length;)this.children[--c].destroy();return this.children.length=c,this.markDirty(),this.length=a,b}transferDOM(a){this.dom&&(this.markDirty(),a.setDOM(this.dom),a.prevAttrs=void 0===this.prevAttrs?this.attrs:this.prevAttrs,this.prevAttrs=void 0,this.dom=null)}setDeco(a){b1(this.attrs,a)||(this.dom&&(this.prevAttrs=this.attrs,this.markDirty()),this.attrs=a)}append(a,b){!function a(b,c,d){let e,{children:f}=b;d>0&&c instanceof bW&&f.length&&(e=f[f.length-1])instanceof bW&&e.mark.eq(c.mark)?a(e,c.children[0],d-1):(f.push(c),c.setParent(b)),b.length+=c.length}(this,a,b)}addLineDeco(a){let b=a.spec.attributes,c=a.spec.class;b&&(this.attrs=b_(b,this.attrs||{})),c&&(this.attrs=b_({class:c},this.attrs||{}))}domAtPos(a){return bZ(this,a)}reuseDOM(a){"DIV"==a.nodeName&&(this.setDOM(a),this.flags|=6)}sync(a,b){var c;this.dom?4&this.flags&&(bK(this.dom),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0):(this.setDOM(document.createElement("div")),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0),void 0!==this.prevAttrs&&(b2(this.dom,this.prevAttrs,this.attrs),this.dom.classList.add("cm-line"),this.prevAttrs=void 0),super.sync(a,b);let d=this.dom.lastChild;for(;d&&bQ.get(d)instanceof bW;)d=d.lastChild;if(!d||!this.length||"BR"!=d.nodeName&&(null==(c=bQ.get(d))?void 0:c.isEditable)==!1&&(!bt.ios||!this.children.some(a=>a instanceof bV))){let a=document.createElement("BR");a.cmIgnore=!0,this.dom.appendChild(a)}}measureTextSize(){if(0==this.children.length||this.length>20)return null;let a=0,b;for(let c of this.children){if(!(c instanceof bV)||/[^ -~]/.test(c.text))return null;let d=bx(c.dom);if(1!=d.length)return null;a+=d[0].width,b=d[0].height}return a?{lineHeight:this.dom.getBoundingClientRect().height,charWidth:a/this.length,textHeight:b}:null}coordsAt(a,b){let c=b$(this,a,b);if(!this.children.length&&c&&this.parent){let{heightOracle:a}=this.parent.view.viewState,b=c.bottom-c.top;if(2>Math.abs(b-a.lineHeight)&&a.textHeight<b){let d=(b-a.textHeight)/2;return{top:c.top+d,bottom:c.bottom-d,left:c.left,right:c.left}}}return c}become(a){return a instanceof cb&&0==this.children.length&&0==a.children.length&&b1(this.attrs,a.attrs)&&this.breakAfter==a.breakAfter}covers(){return!0}static find(a,b){for(let c=0,d=0;c<a.children.length;c++){let e=a.children[c],f=d+e.length;if(f>=b){if(e instanceof cb)return e;if(f>b)break}d=f+e.breakAfter}return null}}class cc extends bQ{constructor(a,b,c){super(),this.widget=a,this.length=b,this.deco=c,this.breakAfter=0,this.prevWidget=null}merge(a,b,c,d,e,f){return(!c||c instanceof cc&&!!this.widget.compare(c.widget)&&(!(a>0)||!(e<=0))&&(!(b<this.length)||!(f<=0)))&&(this.length=a+(c?c.length:0)+(this.length-b),!0)}domAtPos(a){return 0==a?bO.before(this.dom):bO.after(this.dom,a==this.length)}split(a){let b=this.length-a;this.length=a;let c=new cc(this.widget,b,this.deco);return c.breakAfter=this.breakAfter,c}get children(){return bP}sync(a){this.dom&&this.widget.updateDOM(this.dom,a)||(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(a)),this.widget.editable||(this.dom.contentEditable="false"))}get overrideDOMText(){return this.parent?this.parent.view.state.doc.slice(this.posAtStart,this.posAtEnd):J.empty}domBoundsAround(){return null}become(a){return a instanceof cc&&a.widget.constructor==this.widget.constructor&&(a.widget.compare(this.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=a.widget,this.length=a.length,this.deco=a.deco,this.breakAfter=a.breakAfter,!0)}ignoreMutation(){return!0}ignoreEvent(a){return this.widget.ignoreEvent(a)}get isEditable(){return!1}get isWidget(){return!0}coordsAt(a,b){let c=this.widget.coordsAt(this.dom,a,b);return c||(this.widget instanceof cd?null:bD(this.dom.getBoundingClientRect(),this.length?0==a:b<=0))}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}covers(a){let{startSide:b,endSide:c}=this.deco;return b!=c&&(a<0?b<0:c>0)}}class cd extends b3{constructor(a){super(),this.height=a}toDOM(){let a=document.createElement("div");return a.className="cm-gap",this.updateDOM(a),a}eq(a){return a.height==this.height}updateDOM(a){return a.style.height=this.height+"px",!0}get editable(){return!0}get estimatedHeight(){return this.height}ignoreEvent(){return!1}}class ce{constructor(a,b,c,d){this.doc=a,this.pos=b,this.end=c,this.disallowBlockEffectsFor=d,this.content=[],this.curLine=null,this.breakAtStart=0,this.pendingBuffer=0,this.bufferMarks=[],this.atCursorPos=!0,this.openStart=-1,this.openEnd=-1,this.text="",this.textOff=0,this.cursor=a.iter(),this.skip=b}posCovered(){if(0==this.content.length)return!this.breakAtStart&&this.doc.lineAt(this.pos).from!=this.pos;let a=this.content[this.content.length-1];return!(a.breakAfter||a instanceof cc&&a.deco.endSide<0)}getLine(){return this.curLine||(this.content.push(this.curLine=new cb),this.atCursorPos=!0),this.curLine}flushBuffer(a=this.bufferMarks){this.pendingBuffer&&(this.curLine.append(cf(new bY(-1),a),a.length),this.pendingBuffer=0)}addBlockWidget(a){this.flushBuffer(),this.curLine=null,this.content.push(a)}finish(a){this.pendingBuffer&&a<=this.bufferMarks.length?this.flushBuffer():this.pendingBuffer=0,this.posCovered()||a&&this.content.length&&this.content[this.content.length-1]instanceof cc||this.getLine()}buildText(a,b,c){for(;a>0;){if(this.textOff==this.text.length){let{value:b,lineBreak:c,done:d}=this.cursor.next(this.skip);if(this.skip=0,d)throw Error("Ran out of text content when drawing inline views");if(c){this.posCovered()||this.getLine(),this.content.length?this.content[this.content.length-1].breakAfter=1:this.breakAtStart=1,this.flushBuffer(),this.curLine=null,this.atCursorPos=!0,a--;continue}this.text=b,this.textOff=0}let d=Math.min(this.text.length-this.textOff,a),e=Math.min(d,512);this.flushBuffer(b.slice(b.length-c)),this.getLine().append(cf(new bV(this.text.slice(this.textOff,this.textOff+e)),b),c),this.atCursorPos=!0,this.textOff+=e,a-=e,c=d<=e?0:b.length}}span(a,b,c,d){this.buildText(b-a,c,d),this.pos=b,this.openStart<0&&(this.openStart=d)}point(a,b,c,d,e,f){if(this.disallowBlockEffectsFor[f]&&c instanceof b8){if(c.block)throw RangeError("Block decorations may not be specified via plugins");if(b>this.doc.lineAt(this.pos).to)throw RangeError("Decorations that replace line breaks may not be specified via plugins")}let g=b-a;if(c instanceof b8)if(c.block)c.startSide>0&&!this.posCovered()&&this.getLine(),this.addBlockWidget(new cc(c.widget||cg.block,g,c));else{let f=bX.create(c.widget||cg.inline,g,g?0:c.startSide),h=this.atCursorPos&&!f.isEditable&&e<=d.length&&(a<b||c.startSide>0),i=!f.isEditable&&(a<b||e>d.length||c.startSide<=0),j=this.getLine();2!=this.pendingBuffer||h||f.isEditable||(this.pendingBuffer=0),this.flushBuffer(d),h&&(j.append(cf(new bY(1),d),e),e=d.length+Math.max(0,e-d.length)),j.append(cf(f,d),e),this.atCursorPos=i,this.pendingBuffer=i?a<b||e>d.length?1:2:0,this.pendingBuffer&&(this.bufferMarks=d.slice())}else this.doc.lineAt(this.pos).from==this.pos&&this.getLine().addLineDeco(c);g&&(this.textOff+g<=this.text.length?this.textOff+=g:(this.skip+=g-(this.text.length-this.textOff),this.text="",this.textOff=0),this.pos=b),this.openStart<0&&(this.openStart=e)}static build(a,b,c,d,e){let f=new ce(a,b,c,e);return f.openEnd=aV.spans(d,b,c,f),f.openStart<0&&(f.openStart=f.openEnd),f.finish(f.openEnd),f}}function cf(a,b){for(let c of b)a=new bW(c,[a],a.length);return a}class cg extends b3{constructor(a){super(),this.tag=a}eq(a){return a.tag==this.tag}toDOM(){return document.createElement(this.tag)}updateDOM(a){return a.nodeName.toLowerCase()==this.tag}get isHidden(){return!0}}cg.inline=new cg("span"),cg.block=new cg("div");var ch=((k=ch||(ch={}))[k.LTR=0]="LTR",k[k.RTL=1]="RTL",k);let ci=ch.LTR,cj=ch.RTL;function ck(a){let b=[];for(let c=0;c<a.length;c++)b.push(1<<a[c]);return b}let cl=ck("88888888888888888888888888888888888666888888787833333333337888888000000000000000000000000008888880000000000000000000000000088888888888888888888888888888888888887866668888088888663380888308888800000000000000000000000800000000000000000000000000000008"),cm=ck("4444448826627288999999999992222222222222222222222222222222222222222222222229999999999999999999994444444444644222822222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222999999949999999229989999223333333333"),cn=Object.create(null),co=[];for(let a of["()","[]","{}"]){let b=a.charCodeAt(0),c=a.charCodeAt(1);cn[b]=c,cn[c]=-b}function cp(a){return a<=247?cl[a]:1424<=a&&a<=1524?2:1536<=a&&a<=1785?cm[a-1536]:1774<=a&&a<=2220?4:8192<=a&&a<=8204?256:64336<=a&&a<=65023?4:1}let cq=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\ufb50-\ufdff]/;class cr{get dir(){return this.level%2?cj:ci}constructor(a,b,c){this.from=a,this.to=b,this.level=c}side(a,b){return this.dir==b==a?this.to:this.from}forward(a,b){return a==(this.dir==b)}static find(a,b,c,d){let e=-1;for(let f=0;f<a.length;f++){let g=a[f];if(g.from<=b&&g.to>=b){if(g.level==c)return f;(e<0||(0!=d?d<0?g.from<b:g.to>b:a[e].level>g.level))&&(e=f)}}if(e<0)throw RangeError("Index out of range");return e}}let cs=[];function ct(a){return[new cr(0,a,0)]}let cu="",cv=ai.define(),cw=ai.define(),cx=ai.define(),cy=ai.define(),cz=ai.define(),cA=ai.define(),cB=ai.define(),cC=ai.define(),cD=ai.define(),cE=ai.define({combine:a=>a.some(a=>a)}),cF=ai.define({combine:a=>a.some(a=>a)}),cG=ai.define();class cH{constructor(a,b="nearest",c="nearest",d=5,e=5,f=!1){this.range=a,this.y=b,this.x=c,this.yMargin=d,this.xMargin=e,this.isSnapshot=f}map(a){return a.empty?this:new cH(this.range.map(a),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}clip(a){return this.range.to<=a.doc.length?this:new cH(af.cursor(a.doc.length),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}}let cI=aH.define({map:(a,b)=>a.map(b)}),cJ=aH.define();function cK(a,b,c){let d=a.facet(cy);d.length?d[0](b):window.onerror&&window.onerror(String(b),c,void 0,void 0,b)||(c?console.error(c+":",b):console.error(b))}let cL=ai.define({combine:a=>!a.length||a[0]}),cM=0,cN=ai.define({combine:a=>a.filter((b,c)=>{for(let d=0;d<c;d++)if(a[d].plugin==b.plugin)return!1;return!0})});class cO{constructor(a,b,c,d,e){this.id=a,this.create=b,this.domEventHandlers=c,this.domEventObservers=d,this.baseExtensions=e(this),this.extension=this.baseExtensions.concat(cN.of({plugin:this,arg:void 0}))}of(a){return this.baseExtensions.concat(cN.of({plugin:this,arg:a}))}static define(a,b){let{eventHandlers:c,eventObservers:d,provide:e,decorations:f}=b||{};return new cO(cM++,a,c,d,a=>{let b=[];return f&&b.push(cS.of(b=>{let c=b.plugin(a);return c?f(c):b5.none})),e&&b.push(e(a)),b})}static fromClass(a,b){return cO.define((b,c)=>new a(b,c),b)}}class cP{constructor(a){this.spec=a,this.mustUpdate=null,this.value=null}get plugin(){return this.spec&&this.spec.plugin}update(a){if(this.value){if(this.mustUpdate){let a=this.mustUpdate;if(this.mustUpdate=null,this.value.update)try{this.value.update(a)}catch(b){if(cK(a.state,b,"CodeMirror plugin crashed"),this.value.destroy)try{this.value.destroy()}catch(a){}this.deactivate()}}}else if(this.spec)try{this.value=this.spec.plugin.create(a,this.spec.arg)}catch(b){cK(a.state,b,"CodeMirror plugin crashed"),this.deactivate()}return this}destroy(a){var b;if(null==(b=this.value)?void 0:b.destroy)try{this.value.destroy()}catch(b){cK(a.state,b,"CodeMirror plugin crashed")}}deactivate(){this.spec=this.value=null}}let cQ=ai.define(),cR=ai.define(),cS=ai.define(),cT=ai.define(),cU=ai.define(),cV=ai.define();function cW(a,b){let c=a.state.facet(cV);if(!c.length)return c;let d=c.map(b=>b instanceof Function?b(a):b),e=[];return aV.spans(d,b.from,b.to,{point(){},span(a,c,d,f){let g=a-b.from,h=c-b.from,i=e;for(let a=d.length-1;a>=0;a--,f--){let c=d[a].spec.bidiIsolate,e;if(null==c&&(c=function(a,b,c){for(let d=b;d<c;d++){let b=cp(a.charCodeAt(d));if(1==b)break;if(2==b||4==b)return cj}return ci}(b.text,g,h)),f>0&&i.length&&(e=i[i.length-1]).to==g&&e.direction==c)e.to=h,i=e.inner;else{let a={from:g,to:h,direction:c,inner:[]};i.push(a),i=a.inner}}}}),e}let cX=ai.define();function cY(a){let b=0,c=0,d=0,e=0;for(let f of a.state.facet(cX)){let g=f(a);g&&(null!=g.left&&(b=Math.max(b,g.left)),null!=g.right&&(c=Math.max(c,g.right)),null!=g.top&&(d=Math.max(d,g.top)),null!=g.bottom&&(e=Math.max(e,g.bottom)))}return{left:b,right:c,top:d,bottom:e}}let cZ=ai.define();class c${constructor(a,b,c,d){this.fromA=a,this.toA=b,this.fromB=c,this.toB=d}join(a){return new c$(Math.min(this.fromA,a.fromA),Math.max(this.toA,a.toA),Math.min(this.fromB,a.fromB),Math.max(this.toB,a.toB))}addToSet(a){let b=a.length,c=this;for(;b>0;b--){let d=a[b-1];if(!(d.fromA>c.toA)){if(d.toA<c.fromA)break;c=c.join(d),a.splice(b-1,1)}}return a.splice(b,0,c),a}static extendWithRanges(a,b){if(0==b.length)return a;let c=[];for(let d=0,e=0,f=0,g=0;;d++){let h=d==a.length?null:a[d],i=f-g,j=h?h.fromB:1e9;for(;e<b.length&&b[e]<j;){let a=b[e],d=b[e+1],f=Math.max(g,a),h=Math.min(j,d);if(f<=h&&new c$(f+i,h+i,f,h).addToSet(c),d>j)break;e+=2}if(!h)return c;new c$(h.fromA,h.toA,h.fromB,h.toB).addToSet(c),f=h.toA,g=h.toB}}}class c_{constructor(a,b,c){for(let d of(this.view=a,this.state=b,this.transactions=c,this.flags=0,this.startState=a.state,this.changes=Z.empty(this.startState.doc.length),c))this.changes=this.changes.compose(d.changes);let d=[];this.changes.iterChangedRanges((a,b,c,e)=>d.push(new c$(a,b,c,e))),this.changedRanges=d}static create(a,b,c){return new c_(a,b,c)}get viewportChanged(){return(4&this.flags)>0}get viewportMoved(){return(8&this.flags)>0}get heightChanged(){return(2&this.flags)>0}get geometryChanged(){return this.docChanged||(18&this.flags)>0}get focusChanged(){return(1&this.flags)>0}get docChanged(){return!this.changes.empty}get selectionSet(){return this.transactions.some(a=>a.selection)}get empty(){return 0==this.flags&&0==this.transactions.length}}class c0 extends bQ{get length(){return this.view.state.doc.length}constructor(a){super(),this.view=a,this.decorations=[],this.dynamicDecorationMap=[!1],this.domChanged=null,this.hasComposition=null,this.markedForComposition=new Set,this.editContextFormatting=b5.none,this.lastCompositionAfterCursor=!1,this.minWidth=0,this.minWidthFrom=0,this.minWidthTo=0,this.impreciseAnchor=null,this.impreciseHead=null,this.forceSelection=!1,this.lastUpdate=Date.now(),this.setDOM(a.contentDOM),this.children=[new cb],this.children[0].setParent(this),this.updateDeco(),this.updateInner([new c$(0,0,0,a.state.doc.length)],0,null)}update(a){var b,c,d,e,f,g;let h,i,j=a.changedRanges;this.minWidth>0&&j.length&&(j.every(({fromA:a,toA:b})=>b<this.minWidthFrom||a>this.minWidthTo)?(this.minWidthFrom=a.changes.mapPos(this.minWidthFrom,1),this.minWidthTo=a.changes.mapPos(this.minWidthTo,1)):this.minWidth=this.minWidthFrom=this.minWidthTo=0),this.updateEditContextFormatting(a);let k=-1;this.view.inputState.composing>=0&&!this.view.observer.editContext&&((null==(b=this.domChanged)?void 0:b.newSel)?k=this.domChanged.newSel.head:(c=a.changes,d=this.hasComposition,h=!1,d&&c.iterChangedRanges((a,b)=>{a<d.to&&b>d.from&&(h=!0)}),h||a.selectionSet||(k=a.state.selection.main.head)));let l=k>-1?function(a,b,c){let d=c1(a,c);if(!d)return null;let{node:e,from:f,to:g}=d,h=e.nodeValue;if(/[\n\r]/.test(h)||a.state.doc.sliceString(d.from,d.to)!=h)return null;let i=b.invertedDesc,j=new c$(i.mapPos(f),i.mapPos(g),f,g),k=[];for(let b=e.parentNode;;b=b.parentNode){let c=bQ.get(b);if(c instanceof bW)k.push({node:b,deco:c.mark});else{if(c instanceof cb||"DIV"==b.nodeName&&b.parentNode==a.contentDOM)return{range:j,text:e,marks:k,line:b};if(b==a.contentDOM)return null;k.push({node:b,deco:new b6({inclusive:!0,attributes:function(a){let b=Object.create(null);for(let c=0;c<a.attributes.length;c++){let d=a.attributes[c];b[d.name]=d.value}return b}(b),tagName:b.tagName.toLowerCase()})})}}}(this.view,a.changes,k):null;if(this.domChanged=null,this.hasComposition){this.markedForComposition.clear();let{from:b,to:c}=this.hasComposition;j=new c$(b,c,a.changes.mapPos(b,-1),a.changes.mapPos(c,1)).addToSet(j.slice())}this.hasComposition=l?{from:l.range.fromB,to:l.range.toB}:null,(bt.ie||bt.chrome)&&!l&&a&&a.state.doc.lines!=a.startState.doc.lines&&(this.forceSelection=!0);let m=(e=this.decorations,f=this.updateDeco(),g=a.changes,i=new c2,aV.compare(e,f,g,i),i.changes);return j=c$.extendWithRanges(j,m),(!!(7&this.flags)||0!=j.length)&&(this.updateInner(j,a.startState.doc.length,l),a.transactions.length&&(this.lastUpdate=Date.now()),!0)}updateInner(a,b,c){this.view.viewState.mustMeasureContent=!0,this.updateChildren(a,b,c);let{observer:d}=this.view;d.ignore(()=>{this.dom.style.height=this.view.viewState.contentHeight/this.view.scaleY+"px",this.dom.style.flexBasis=this.minWidth?this.minWidth+"px":"";let a=bt.chrome||bt.ios?{node:d.selectionRange.focusNode,written:!1}:void 0;this.sync(this.view,a),this.flags&=-8,a&&(a.written||d.selectionRange.focusNode!=a.node)&&(this.forceSelection=!0),this.dom.style.height=""}),this.markedForComposition.forEach(a=>a.flags&=-9);let e=[];if(this.view.viewport.from||this.view.viewport.to<this.view.state.doc.length)for(let a of this.children)a instanceof cc&&a.widget instanceof cd&&e.push(a.dom);d.updateGaps(e)}updateChildren(a,b,c){let d=c?c.range.addToSet(a.slice()):a,e=this.childCursor(b);for(let a=d.length-1;;a--){let b=a>=0?d[a]:null;if(!b)break;let{fromA:f,toA:g,fromB:h,toB:i}=b,j,k,l,m;if(c&&c.range.fromB<i&&c.range.toB>h){let a=ce.build(this.view.state.doc,h,c.range.fromB,this.decorations,this.dynamicDecorationMap),b=ce.build(this.view.state.doc,c.range.toB,i,this.decorations,this.dynamicDecorationMap);k=a.breakAtStart,l=a.openStart,m=b.openEnd;let d=this.compositionView(c);b.breakAtStart?d.breakAfter=1:b.content.length&&d.merge(d.length,d.length,b.content[0],!1,b.openStart,0)&&(d.breakAfter=b.content[0].breakAfter,b.content.shift()),a.content.length&&d.merge(0,0,a.content[a.content.length-1],!0,0,a.openEnd)&&a.content.pop(),j=a.content.concat(d).concat(b.content)}else({content:j,breakAtStart:k,openStart:l,openEnd:m}=ce.build(this.view.state.doc,h,i,this.decorations,this.dynamicDecorationMap));let{i:n,off:o}=e.findPos(g,1),{i:p,off:q}=e.findPos(f,-1);bT(this,p,q,n,o,j,k,l,m)}c&&this.fixCompositionDOM(c)}updateEditContextFormatting(a){for(let b of(this.editContextFormatting=this.editContextFormatting.map(a.changes),a.transactions))for(let a of b.effects)a.is(cJ)&&(this.editContextFormatting=a.value)}compositionView(a){let b=new bV(a.text.nodeValue);for(let{deco:c}of(b.flags|=8,a.marks))b=new bW(c,[b],b.length);let c=new cb;return c.append(b,0),c}fixCompositionDOM(a){let b=(a,b)=>{b.flags|=8|!!b.children.some(a=>7&a.flags),this.markedForComposition.add(b);let c=bQ.get(a);c&&c!=b&&(c.dom=null),b.setDOM(a)},c=this.childPos(a.range.fromB,1),d=this.children[c.i];b(a.line,d);for(let e=a.marks.length-1;e>=-1;e--)c=d.childPos(c.off,1),d=d.children[c.i],b(e>=0?a.marks[e].node:a.text,d)}updateSelection(a=!1,b=!1){var c;(a||!this.view.observer.selectionRange.focusNode)&&this.view.observer.readSelectionRange();let d=this.view.root.activeElement,e=d==this.dom,f=!e&&!(this.view.state.facet(cL)||this.dom.tabIndex>-1)&&bw(this.dom,this.view.observer.selectionRange)&&!(d&&this.dom.contains(d));if(!(e||b||f))return;let g=this.forceSelection;this.forceSelection=!1;let h=this.view.state.selection.main,i=this.moveToLine(this.domAtPos(h.anchor)),j=h.empty?i:this.moveToLine(this.domAtPos(h.head));if(bt.gecko&&h.empty&&!this.hasComposition&&1==(c=i).node.nodeType&&c.node.firstChild&&(0==c.offset||"false"==c.node.childNodes[c.offset-1].contentEditable)&&(c.offset==c.node.childNodes.length||"false"==c.node.childNodes[c.offset].contentEditable)){let a=document.createTextNode("");this.view.observer.ignore(()=>i.node.insertBefore(a,i.node.childNodes[i.offset]||null)),i=j=new bO(a,0),g=!0}let k=this.view.observer.selectionRange;!g&&k.focusNode&&(by(i.node,i.offset,k.anchorNode,k.anchorOffset)&&by(j.node,j.offset,k.focusNode,k.focusOffset)||this.suppressWidgetCursorChange(k,h))||(this.view.observer.ignore(()=>{bt.android&&bt.chrome&&this.dom.contains(k.focusNode)&&function(a,b){for(let c=a;c&&c!=b;c=c.assignedSlot||c.parentNode)if(1==c.nodeType&&"false"==c.contentEditable)return!0;return!1}(k.focusNode,this.dom)&&(this.dom.blur(),this.dom.focus({preventScroll:!0}));let a=bu(this.view.root);if(a)if(h.empty){if(bt.gecko){var b,c;let a=(b=i.node,c=i.offset,1!=b.nodeType?0:(c&&"false"==b.childNodes[c-1].contentEditable?1:0)|2*(c<b.childNodes.length&&"false"==b.childNodes[c].contentEditable));if(a&&3!=a){let b=(1==a?bM:bN)(i.node,i.offset);b&&(i=new bO(b.node,b.offset))}}a.collapse(i.node,i.offset),null!=h.bidiLevel&&void 0!==a.caretBidiLevel&&(a.caretBidiLevel=h.bidiLevel)}else if(a.extend){a.collapse(i.node,i.offset);try{a.extend(j.node,j.offset)}catch(a){}}else{let b=document.createRange();h.anchor>h.head&&([i,j]=[j,i]),b.setEnd(j.node,j.offset),b.setStart(i.node,i.offset),a.removeAllRanges(),a.addRange(b)}f&&this.view.root.activeElement==this.dom&&(this.dom.blur(),d&&d.focus())}),this.view.observer.setSelectionRange(i,j)),this.impreciseAnchor=i.precise?null:new bO(k.anchorNode,k.anchorOffset),this.impreciseHead=j.precise?null:new bO(k.focusNode,k.focusOffset)}suppressWidgetCursorChange(a,b){return this.hasComposition&&b.empty&&by(a.focusNode,a.focusOffset,a.anchorNode,a.anchorOffset)&&this.posFromDOM(a.focusNode,a.focusOffset)==b.head}enforceCursorAssoc(){if(this.hasComposition)return;let{view:a}=this,b=a.state.selection.main,c=bu(a.root),{anchorNode:d,anchorOffset:e}=a.observer.selectionRange;if(!c||!b.empty||!b.assoc||!c.modify)return;let f=cb.find(this,b.head);if(!f)return;let g=f.posAtStart;if(b.head==g||b.head==g+f.length)return;let h=this.coordsAt(b.head,-1),i=this.coordsAt(b.head,1);if(!h||!i||h.bottom>i.top)return;let j=this.domAtPos(b.head+b.assoc);c.collapse(j.node,j.offset),c.modify("move",b.assoc<0?"forward":"backward","lineboundary"),a.observer.readSelectionRange();let k=a.observer.selectionRange;a.docView.posFromDOM(k.anchorNode,k.anchorOffset)!=b.from&&c.collapse(d,e)}moveToLine(a){let b=this.dom,c;if(a.node!=b)return a;for(let d=a.offset;!c&&d<b.childNodes.length;d++){let a=bQ.get(b.childNodes[d]);a instanceof cb&&(c=a.domAtPos(0))}for(let d=a.offset-1;!c&&d>=0;d--){let a=bQ.get(b.childNodes[d]);a instanceof cb&&(c=a.domAtPos(a.length))}return c?new bO(c.node,c.offset,!0):a}nearest(a){for(let b=a;b;){let a=bQ.get(b);if(a&&a.rootView==this)return a;b=b.parentNode}return null}posFromDOM(a,b){let c=this.nearest(a);if(!c)throw RangeError("Trying to find position for a DOM position outside of the document");return c.localPosFromDOM(a,b)+c.posAtStart}domAtPos(a){let{i:b,off:c}=this.childCursor().findPos(a,-1);for(;b<this.children.length-1;){let a=this.children[b];if(c<a.length||a instanceof cb)break;b++,c=0}return this.children[b].domAtPos(c)}coordsAt(a,b){let c=null,d=0;for(let e=this.length,f=this.children.length-1;f>=0;f--){let g=this.children[f],h=e-g.breakAfter,i=h-g.length;if(h<a)break;if(i<=a&&(i<a||g.covers(-1))&&(h>a||g.covers(1))&&(!c||g instanceof cb&&!(c instanceof cb&&b>=0)))c=g,d=i;else if(c&&i==a&&h==a&&g instanceof cc&&2>Math.abs(b))if(g.deco.startSide<0)break;else f&&(c=null);e=i}return c?c.coordsAt(a-d,b):null}coordsForChar(a){let{i:b,off:c}=this.childPos(a,1),d=this.children[b];if(!(d instanceof cb))return null;for(;d.children.length;){let{i:a,off:b}=d.childPos(c,1);for(;;a++){if(a==d.children.length)return null;if((d=d.children[a]).length)break}c=b}if(!(d instanceof bV))return null;let e=S(d.text,c);if(e==c)return null;let f=bI(d.dom,c,e).getClientRects();for(let a=0;a<f.length;a++){let b=f[a];if(a==f.length-1||b.top<b.bottom&&b.left<b.right)return b}return null}measureVisibleLineHeights(a){let b=[],{from:c,to:d}=a,e=this.view.contentDOM.clientWidth,f=e>Math.max(this.view.scrollDOM.clientWidth,this.minWidth)+1,g=-1,h=this.view.textDirection==ch.LTR;for(let a=0,i=0;i<this.children.length;i++){let j=this.children[i],k=a+j.length;if(k>d)break;if(a>=c){let c=j.dom.getBoundingClientRect();if(b.push(c.height),f){let b=j.dom.lastChild,d=b?bx(b):[];if(d.length){let b=d[d.length-1],f=h?b.right-c.left:c.right-b.left;f>g&&(g=f,this.minWidth=e,this.minWidthFrom=a,this.minWidthTo=k)}}}a=k+j.breakAfter}return b}textDirectionAt(a){let{i:b}=this.childPos(a,1);return"rtl"==getComputedStyle(this.children[b].dom).direction?ch.RTL:ch.LTR}measureTextSize(){for(let a of this.children)if(a instanceof cb){let b=a.measureTextSize();if(b)return b}let a=document.createElement("div"),b,c,d;return a.className="cm-line",a.style.width="99999px",a.style.position="absolute",a.textContent="abc def ghi jkl mno pqr stu",this.view.observer.ignore(()=>{this.dom.appendChild(a);let e=bx(a.firstChild)[0];b=a.getBoundingClientRect().height,c=e?e.width/27:7,d=e?e.height:b,a.remove()}),{lineHeight:b,charWidth:c,textHeight:d}}childCursor(a=this.length){let b=this.children.length;return b&&(a-=this.children[--b].length),new bS(this.children,a,b)}computeBlockGapDeco(){let a=[],b=this.view.viewState;for(let c=0,d=0;;d++){let e=d==b.viewports.length?null:b.viewports[d],f=e?e.from-1:this.length;if(f>c){let d=(b.lineBlockAt(f).bottom-b.lineBlockAt(c).top)/this.view.scaleY;a.push(b5.replace({widget:new cd(d),block:!0,inclusive:!0,isBlockGap:!0}).range(c,f))}if(!e)break;c=e.to+1}return b5.set(a)}updateDeco(){let a=1,b=this.view.state.facet(cS).map(b=>(this.dynamicDecorationMap[a++]="function"==typeof b)?b(this.view):b),c=!1,d=this.view.state.facet(cT).map((a,b)=>{let d="function"==typeof a;return d&&(c=!0),d?a(this.view):a});for(d.length&&(this.dynamicDecorationMap[a++]=c,b.push(aV.join(d))),this.decorations=[this.editContextFormatting,...b,this.computeBlockGapDeco(),this.view.viewState.lineGapDeco];a<this.decorations.length;)this.dynamicDecorationMap[a++]=!1;return this.decorations}scrollIntoView(a){if(a.isSnapshot){let b=this.view.viewState.lineBlockAt(a.range.head);this.view.scrollDOM.scrollTop=b.top-a.yMargin,this.view.scrollDOM.scrollLeft=a.xMargin;return}for(let b of this.view.state.facet(cG))try{if(b(this.view,a.range,a))return!0}catch(a){cK(this.view.state,a,"scroll handler")}let{range:b}=a,c=this.coordsAt(b.head,b.empty?b.assoc:b.head>b.anchor?-1:1),d;if(!c)return;!b.empty&&(d=this.coordsAt(b.anchor,b.anchor>b.head?-1:1))&&(c={left:Math.min(c.left,d.left),top:Math.min(c.top,d.top),right:Math.max(c.right,d.right),bottom:Math.max(c.bottom,d.bottom)});let e=cY(this.view),f={left:c.left-e.left,top:c.top-e.top,right:c.right+e.right,bottom:c.bottom+e.bottom},{offsetWidth:g,offsetHeight:h}=this.view.scrollDOM;!function(a,b,c,d,e,f,g,h){let i=a.ownerDocument,j=i.defaultView||window;for(let k=a,l=!1;k&&!l;)if(1==k.nodeType){let a,m=k==i.body,n=1,o=1;if(m)a=function(a){let b=a.visualViewport;return b?{left:0,right:b.width,top:0,bottom:b.height}:{left:0,right:a.innerWidth,top:0,bottom:a.innerHeight}}(j);else{if(/^(fixed|sticky)$/.test(getComputedStyle(k).position)&&(l=!0),k.scrollHeight<=k.clientHeight&&k.scrollWidth<=k.clientWidth){k=k.assignedSlot||k.parentNode;continue}let b=k.getBoundingClientRect();({scaleX:n,scaleY:o}=bE(k,b)),a={left:b.left,right:b.left+k.clientWidth*n,top:b.top,bottom:b.top+k.clientHeight*o}}let p=0,q=0;if("nearest"==e)b.top<a.top?(q=b.top-(a.top+g),c>0&&b.bottom>a.bottom+q&&(q=b.bottom-a.bottom+g)):b.bottom>a.bottom&&(q=b.bottom-a.bottom+g,c<0&&b.top-q<a.top&&(q=b.top-(a.top+g)));else{let d=b.bottom-b.top,f=a.bottom-a.top;q=("center"==e&&d<=f?b.top+d/2-f/2:"start"==e||"center"==e&&c<0?b.top-g:b.bottom-f+g)-a.top}if("nearest"==d?b.left<a.left?(p=b.left-(a.left+f),c>0&&b.right>a.right+p&&(p=b.right-a.right+f)):b.right>a.right&&(p=b.right-a.right+f,c<0&&b.left<a.left+p&&(p=b.left-(a.left+f))):p=("center"==d?b.left+(b.right-b.left)/2-(a.right-a.left)/2:"start"==d==h?b.left-f:b.right-(a.right-a.left)+f)-a.left,p||q)if(m)j.scrollBy(p,q);else{let a=0,c=0;if(q){let a=k.scrollTop;k.scrollTop+=q/o,c=(k.scrollTop-a)*o}if(p){let b=k.scrollLeft;k.scrollLeft+=p/n,a=(k.scrollLeft-b)*n}b={left:b.left-a,top:b.top-c,right:b.right-a,bottom:b.bottom-c},a&&1>Math.abs(a-p)&&(d="nearest"),c&&1>Math.abs(c-q)&&(e="nearest")}if(m)break;(b.top<a.top||b.bottom>a.bottom||b.left<a.left||b.right>a.right)&&(b={left:Math.max(b.left,a.left),right:Math.min(b.right,a.right),top:Math.max(b.top,a.top),bottom:Math.min(b.bottom,a.bottom)}),k=k.assignedSlot||k.parentNode}else if(11==k.nodeType)k=k.host;else break}(this.view.scrollDOM,f,b.head<b.anchor?-1:1,a.x,a.y,Math.max(Math.min(a.xMargin,g),-g),Math.max(Math.min(a.yMargin,h),-h),this.view.textDirection==ch.LTR)}}function c1(a,b){let c=a.observer.selectionRange;if(!c.focusNode)return null;let d=bM(c.focusNode,c.focusOffset),e=bN(c.focusNode,c.focusOffset),f=d||e;if(e&&d&&e.node!=d.node){let b=bQ.get(e.node);if(!b||b instanceof bV&&b.text!=e.node.nodeValue)f=e;else if(a.docView.lastCompositionAfterCursor){let a=bQ.get(d.node);!a||a instanceof bV&&a.text!=d.node.nodeValue||(f=e)}}if(a.docView.lastCompositionAfterCursor=f!=d,!f)return null;let g=b-f.offset;return{from:g,to:g+f.node.nodeValue.length,node:f.node}}let c2=class{constructor(){this.changes=[]}compareRange(a,b){ca(a,b,this.changes)}comparePoint(a,b){ca(a,b,this.changes)}boundChange(a){ca(a,a,this.changes)}};function c3(a,b){return a.top<b.bottom-1&&a.bottom>b.top+1}function c4(a,b){return b<a.top?{top:b,left:a.left,right:a.right,bottom:a.bottom}:a}function c5(a,b){return b>a.bottom?{top:a.top,left:a.left,right:a.right,bottom:b}:a}function c6(a,b,c){let d=a.nodeValue.length,e=-1,f=1e9,g=0;for(let h=0;h<d;h++){let d=bI(a,h,h+1).getClientRects();for(let i=0;i<d.length;i++){let j=d[i];if(j.top==j.bottom)continue;g||(g=b-j.left);let k=(j.top>c?j.top-c:c-j.bottom)-1;if(j.left-1<=b&&j.right+1>=b&&k<f){let c=b>=(j.left+j.right)/2,d=c;if((bt.chrome||bt.gecko)&&bI(a,h).getBoundingClientRect().left==j.right&&(d=!c),k<=0)return{node:a,offset:h+ +!!d};e=h+ +!!d,f=k}}}return{node:a,offset:e>-1?e:g>0?a.nodeValue.length:0}}function c7(a,b,c,d=-1){var e,f;let g=a.contentDOM.getBoundingClientRect(),h=g.top+a.viewState.paddingTop,i,{docHeight:j}=a.viewState,{x:k,y:l}=b,m=l-h;if(m<0)return 0;if(m>j)return a.state.doc.length;for(let b=a.viewState.heightOracle.textHeight/2,e=!1;(i=a.elementAtHeight(m)).type!=b4.Text;)for(;!((m=d>0?i.bottom+b:i.top-b)>=0)||!(m<=j);){if(e)return c?null:0;e=!0,d=-d}l=h+m;let n=i.from;if(n<a.viewport.from)return 0==a.viewport.from?0:c?null:c8(a,g,i,k,l);if(n>a.viewport.to)return a.viewport.to==a.state.doc.length?a.state.doc.length:c?null:c8(a,g,i,k,l);let o=a.dom.ownerDocument,p=a.root.elementFromPoint?a.root:o,q=p.elementFromPoint(k,l);q&&!a.contentDOM.contains(q)&&(q=null),!q&&(k=Math.max(g.left+1,Math.min(g.right-1,k)),(q=p.elementFromPoint(k,l))&&!a.contentDOM.contains(q)&&(q=null));let r,s=-1;if(q&&(null==(e=a.docView.nearest(q))?void 0:e.isEditable)!=!1){if(o.caretPositionFromPoint){let a=o.caretPositionFromPoint(k,l);a&&({offsetNode:r,offset:s}=a)}else if(o.caretRangeFromPoint){let a=o.caretRangeFromPoint(k,l);a&&({startContainer:r,startOffset:s}=a)}r&&(!a.contentDOM.contains(r)||bt.safari&&c9(r,s,k)||bt.chrome&&function(a,b,c){if(0!=b)return c9(a,b,c);for(let b=a;;){let a=b.parentNode;if(!a||1!=a.nodeType||a.firstChild!=b)return!1;if(a.classList.contains("cm-line"))break;b=a}return c-(1==a.nodeType?a.getBoundingClientRect():bI(a,0,Math.max(a.nodeValue.length,1)).getBoundingClientRect()).left>5}(r,s,k))&&(r=void 0),r&&(s=Math.min(bC(r),s))}if(!r||!a.docView.dom.contains(r)){let b=cb.find(a.docView,n);if(!b)return m>i.top+i.height/2?i.to:i.from;({node:r,offset:s}=function a(b,c,d){let e,f,g,h,i,j,k,l,m=!1;for(let p=b.firstChild;p;p=p.nextSibling){let b=bx(p);for(let q=0;q<b.length;q++){var n,o;let r=b[q];j&&c3(j,r)&&(r=c4(c5(r,j.bottom),j.top));let s=(n=r).left>c?n.left-c:Math.max(0,c-n.right),t=(o=r).top>d?o.top-d:Math.max(0,d-o.bottom);if(0==s&&0==t)return 3==p.nodeType?c6(p,c,d):a(p,c,d);(!i||l>t||l==t&&k>s)&&(i=p,j=r,k=s,l=t,m=!s||(c<r.left?q>0:q<b.length-1)),0==s?d>r.bottom&&(!g||g.bottom<r.bottom)?(e=p,g=r):d<r.top&&(!h||h.top>r.top)&&(f=p,h=r):g&&c3(g,r)?g=c5(g,r.bottom):h&&c3(h,r)&&(h=c4(h,r.top))}}if(g&&g.bottom>=d?(i=e,j=g):h&&h.top<=d&&(i=f,j=h),!i)return{node:b,offset:0};let p=Math.max(j.left,Math.min(j.right,c));if(3==i.nodeType)return c6(i,p,d);if(m&&"false"!=i.contentEditable)return a(i,p,d);let q=Array.prototype.indexOf.call(b.childNodes,i)+ +(c>=(j.left+j.right)/2);return{node:b,offset:q}}(b.dom,k,l))}let t=a.docView.nearest(r);if(!t)return null;if(!t.isWidget||(null==(f=t.dom)?void 0:f.nodeType)!=1)return t.localPosFromDOM(r,s)+t.posAtStart;{let a=t.dom.getBoundingClientRect();return b.y<a.top||b.y<=a.bottom&&b.x<=(a.left+a.right)/2?t.posAtStart:t.posAtEnd}}function c8(a,b,c,d,e){let f=Math.round((d-b.left)*a.defaultCharacterWidth);if(a.lineWrapping&&c.height>1.5*a.defaultLineHeight){let b=a.viewState.heightOracle.textHeight;f+=Math.floor((e-c.top-(a.defaultLineHeight-b)*.5)/b)*a.viewState.heightOracle.lineLength}let g=a.state.sliceDoc(c.from,c.to);return c.from+function(a,b,c,d){for(let d=0,e=0;;){if(e>=b)return d;if(d==a.length)break;e+=9==a.charCodeAt(d)?c-e%c:1,d=S(a,d)}return a.length}(g,f,a.state.tabSize)}function c9(a,b,c){let d,e=a;if(3!=a.nodeType||b!=(d=a.nodeValue.length))return!1;for(;;){let a=e.nextSibling;if(a){if("BR"==a.nodeName)break;return!1}{let a=e.parentNode;if(!a||"DIV"==a.nodeName)break;e=a}}return bI(a,d-1,d).getBoundingClientRect().right>c}function da(a,b,c){let d=a.lineBlockAt(b);if(Array.isArray(d.type)){let a;for(let e of d.type){if(e.from>b)break;if(!(e.to<b)){if(e.from<b&&e.to>b)return e;(!a||e.type==b4.Text&&(a.type!=e.type||(c<0?e.from<b:e.to>b)))&&(a=e)}}return a||d}return d}function db(a,b,c,d){let e=a.state.doc.lineAt(b.head),f=a.bidiSpans(e),g=a.textDirectionAt(e.from);for(let h=b,i=null;;){let b=function(a,b,c,d,e){var f;let g=d.head-a.from,h=cr.find(b,g,null!=(f=d.bidiLevel)?f:-1,d.assoc),i=b[h],j=i.side(e,c);if(g==j){let a=h+=e?1:-1;if(a<0||a>=b.length)return null;g=(i=b[h=a]).side(!e,c),j=i.side(e,c)}let k=S(a.text,g,i.forward(e,c));(k<i.from||k>i.to)&&(k=j),cu=a.text.slice(Math.min(g,k),Math.max(g,k));let l=h==(e?b.length-1:0)?null:b[h+(e?1:-1)];return l&&k==j&&l.level+ +!e<i.level?af.cursor(l.side(!e,c)+a.from,l.forward(e,c)?1:-1,l.level):af.cursor(k+a.from,i.forward(e,c)?-1:1,i.level)}(e,f,g,h,c),j=cu;if(!b){if(e.number==(c?a.state.doc.lines:1))return h;j="\n",e=a.state.doc.line(e.number+(c?1:-1)),f=a.bidiSpans(e),b=a.visualLineSide(e,!c)}if(i){if(!i(j))return h}else{if(!d)return b;i=d(j)}h=b}}function dc(a,b,c){for(;;){let d=0;for(let e of a)e.between(b-1,b+1,(a,e,f)=>{if(b>a&&b<e){let f=d||c||(b-a<e-b?-1:1);b=f<0?a:e,d=f}});if(!d)return b}}function dd(a,b){let c=null;for(let d=0;d<b.ranges.length;d++){let e=b.ranges[d],f=null;if(e.empty){let b=dc(a,e.from,0);b!=e.from&&(f=af.cursor(b,-1))}else{let b=dc(a,e.from,-1),c=dc(a,e.to,1);(b!=e.from||c!=e.to)&&(f=af.range(e.from==e.anchor?b:c,e.from==e.head?b:c))}f&&(c||(c=b.ranges.slice()),c[d]=f)}return c?af.create(c,b.mainIndex):b}function de(a,b,c){let d=dc(a.state.facet(cU).map(b=>b(a)),c.from,b.head>c.from?-1:1);return d==c.from?c:af.cursor(d,d<c.from?1:-1)}class df{constructor(a,b){this.points=a,this.text="",this.lineSeparator=b.facet(aP.lineSeparator)}append(a){this.text+=a}lineBreak(){this.text+="￿"}readRange(a,b){if(!a)return this;let c=a.parentNode;for(let d=a;;){this.findPointBefore(c,d);let a=this.text.length;this.readNode(d);let e=d.nextSibling;if(e==b)break;let f=bQ.get(d),g=bQ.get(e);(f&&g?f.breakAfter:(f?f.breakAfter:bA(d))||bA(e)&&("BR"!=d.nodeName||d.cmIgnore)&&this.text.length>a)&&!function(a,b){let c;for(;a!=b&&a;a=a.nextSibling){let b=bQ.get(a);if(!((null==b?void 0:b.isWidget)||a.cmIgnore))return!1;b&&(c||(c=[])).push(b)}if(c)for(let a of c){let b=a.overrideDOMText;if(null==b?void 0:b.length)return!1}return!0}(e,b)&&this.lineBreak(),d=e}return this.findPointBefore(c,b),this}readTextNode(a){let b=a.nodeValue;for(let c of this.points)c.node==a&&(c.pos=this.text.length+Math.min(c.offset,b.length));for(let c=0,d=this.lineSeparator?null:/\r\n?|\n/g;;){let e=-1,f=1,g;if(this.lineSeparator?(e=b.indexOf(this.lineSeparator,c),f=this.lineSeparator.length):(g=d.exec(b))&&(e=g.index,f=g[0].length),this.append(b.slice(c,e<0?b.length:e)),e<0)break;if(this.lineBreak(),f>1)for(let b of this.points)b.node==a&&b.pos>this.text.length&&(b.pos-=f-1);c=e+f}}readNode(a){if(a.cmIgnore)return;let b=bQ.get(a),c=b&&b.overrideDOMText;if(null!=c){this.findPointInside(a,c.length);for(let a=c.iter();!a.next().done;)a.lineBreak?this.lineBreak():this.append(a.value)}else 3==a.nodeType?this.readTextNode(a):"BR"==a.nodeName?a.nextSibling&&this.lineBreak():1==a.nodeType&&this.readRange(a.firstChild,null)}findPointBefore(a,b){for(let c of this.points)c.node==a&&a.childNodes[c.offset]==b&&(c.pos=this.text.length)}findPointInside(a,b){for(let c of this.points)(3==a.nodeType?c.node==a:a.contains(c.node))&&(c.pos=this.text.length+(!function(a,b,c){for(;;){if(!b||c<bC(b))return!1;if(b==a)return!0;c=bz(b)+1,b=b.parentNode}}(a,c.node,c.offset)?0:b))}}class dg{constructor(a,b){this.node=a,this.offset=b,this.pos=-1}}class dh{constructor(a,b,c,d){this.typeOver=d,this.bounds=null,this.text="",this.domChanged=b>-1;let{impreciseHead:e,impreciseAnchor:f}=a.docView;if(a.state.readOnly&&b>-1)this.newSel=null;else if(b>-1&&(this.bounds=a.docView.domBoundsAround(b,c,0))){let b=e||f?[]:function(a){let b=[];if(a.root.activeElement!=a.contentDOM)return b;let{anchorNode:c,anchorOffset:d,focusNode:e,focusOffset:f}=a.observer.selectionRange;return c&&(b.push(new dg(c,d)),(e!=c||f!=d)&&b.push(new dg(e,f))),b}(a),c=new df(b,a.state);c.readRange(this.bounds.startDOM,this.bounds.endDOM),this.text=c.text,this.newSel=function(a,b){if(0==a.length)return null;let c=a[0].pos,d=2==a.length?a[1].pos:c;return c>-1&&d>-1?af.single(c+b,d+b):null}(b,this.bounds.from)}else{let b=a.observer.selectionRange,c=e&&e.node==b.focusNode&&e.offset==b.focusOffset||!bv(a.contentDOM,b.focusNode)?a.state.selection.main.head:a.docView.posFromDOM(b.focusNode,b.focusOffset),d=f&&f.node==b.anchorNode&&f.offset==b.anchorOffset||!bv(a.contentDOM,b.anchorNode)?a.state.selection.main.anchor:a.docView.posFromDOM(b.anchorNode,b.anchorOffset),g=a.viewport;if((bt.ios||bt.chrome)&&a.state.selection.main.empty&&c!=d&&(g.from>0||g.to<a.state.doc.length)){let b=Math.min(c,d),e=Math.max(c,d),f=g.from-b,h=g.to-e;(0==f||1==f||0==b)&&(0==h||-1==h||e==a.state.doc.length)&&(c=0,d=a.state.doc.length)}this.newSel=af.single(d,c)}}}function di(a,b){let c,{newSel:d}=b,e=a.state.selection.main,f=a.inputState.lastKeyTime>Date.now()-100?a.inputState.lastKeyCode:-1;if(b.bounds){let{from:d,to:g}=b.bounds,h=e.from,i=null;(8===f||bt.android&&b.text.length<g-d)&&(h=e.to,i="end");let j=dk(a.state.doc.sliceString(d,g,"￿"),b.text,h-d,i);j&&(bt.chrome&&13==f&&j.toB==j.from+2&&"￿￿"==b.text.slice(j.from,j.toB)&&j.toB--,c={from:d+j.from,to:d+j.toA,insert:J.of(b.text.slice(j.from,j.toB).split("￿"))})}else d&&(!a.hasFocus&&a.state.facet(cL)||d.main.eq(e))&&(d=null);if(!c&&!d)return!1;if(!c&&b.typeOver&&!e.empty&&d&&d.main.empty?c={from:e.from,to:e.to,insert:a.state.doc.slice(e.from,e.to)}:(bt.mac||bt.android)&&c&&c.from==c.to&&c.from==e.head-1&&/^\. ?$/.test(c.insert.toString())&&"off"==a.contentDOM.getAttribute("autocorrect")?(d&&2==c.insert.length&&(d=af.single(d.main.anchor-1,d.main.head-1)),c={from:c.from,to:c.to,insert:J.of([c.insert.toString().replace("."," ")])}):c&&c.from>=e.from&&c.to<=e.to&&(c.from!=e.from||c.to!=e.to)&&e.to-e.from-(c.to-c.from)<=4?c={from:e.from,to:e.to,insert:a.state.doc.slice(e.from,c.from).append(c.insert).append(a.state.doc.slice(c.to,e.to))}:bt.chrome&&c&&c.from==c.to&&c.from==e.head&&"\n "==c.insert.toString()&&a.lineWrapping&&(d&&(d=af.single(d.main.anchor-1,d.main.head-1)),c={from:e.from,to:e.to,insert:J.of([" "])}),c)return dj(a,c,d,f);if(!d||d.main.eq(e))return!1;{let b=!1,c="select";return a.inputState.lastSelectionTime>Date.now()-50&&("select"==a.inputState.lastSelectionOrigin&&(b=!0),"select.pointer"==(c=a.inputState.lastSelectionOrigin)&&(d=dd(a.state.facet(cU).map(b=>b(a)),d))),a.dispatch({selection:d,scrollIntoView:b,userEvent:c}),!0}}function dj(a,b,c,d=-1){let e;if(bt.ios&&a.inputState.flushIOSKey(b))return!0;let f=a.state.selection.main;if(bt.android&&(b.to==f.to&&(b.from==f.from||b.from==f.from-1&&" "==a.state.sliceDoc(b.from,f.from))&&1==b.insert.length&&2==b.insert.lines&&bJ(a.contentDOM,"Enter",13)||(b.from==f.from-1&&b.to==f.to&&0==b.insert.length||8==d&&b.insert.length<b.to-b.from&&b.to>f.head)&&bJ(a.contentDOM,"Backspace",8)||b.from==f.from&&b.to==f.to+1&&0==b.insert.length&&bJ(a.contentDOM,"Delete",46)))return!0;let g=b.insert.toString();a.inputState.composing>=0&&a.inputState.composing++;let h=()=>e||(e=function(a,b,c){let d,e=a.state,f=e.selection.main,g=-1;if(b.from==b.to&&b.from<f.from||b.from>f.to){let c=b.from<f.from?-1:1,d=c<0?f.from:f.to,h=dc(e.facet(cU).map(b=>b(a)),d,c);b.from==h&&(g=h)}if(g>-1)d={changes:b,selection:af.cursor(b.from+b.insert.length,-1)};else if(b.from>=f.from&&b.to<=f.to&&b.to-b.from>=(f.to-f.from)/3&&(!c||c.main.empty&&c.main.from==b.from+b.insert.length)&&a.inputState.composing<0){let c=f.from<b.from?e.sliceDoc(f.from,b.from):"",g=f.to>b.to?e.sliceDoc(b.to,f.to):"";d=e.replaceSelection(a.state.toText(c+b.insert.sliceString(0,void 0,a.state.lineBreak)+g))}else{let g=e.changes(b),h=c&&c.main.to<=g.newLength?c.main:void 0;if(e.selection.ranges.length>1&&a.inputState.composing>=0&&b.to<=f.to&&b.to>=f.to-10){let i=a.state.sliceDoc(b.from,b.to),j,k=c&&c1(a,c.main.head);if(k){let a=b.insert.length-(b.to-b.from);j={from:k.from,to:k.to-a}}else j=a.state.doc.lineAt(f.head);let l=f.to-b.to,m=f.to-f.from;d=e.changeByRange(c=>{if(c.from==f.from&&c.to==f.to)return{changes:g,range:h||c.map(g)};let d=c.to-l,k=d-i.length;if(c.to-c.from!=m||a.state.sliceDoc(k,d)!=i||c.to>=j.from&&c.from<=j.to)return{range:c};let n=e.changes({from:k,to:d,insert:b.insert}),o=c.to-f.to;return{changes:n,range:h?af.range(Math.max(0,h.anchor+o),Math.max(0,h.head+o)):c.map(n)}})}else d={changes:g,selection:h&&e.selection.replaceRange(h)}}let h="input.type";return(a.composing||a.inputState.compositionPendingChange&&a.inputState.compositionEndedAt>Date.now()-50)&&(a.inputState.compositionPendingChange=!1,h+=".compose",a.inputState.compositionFirstChange&&(h+=".start",a.inputState.compositionFirstChange=!1)),e.update(d,{userEvent:h,scrollIntoView:!0})}(a,b,c));return a.state.facet(cA).some(c=>c(a,b.from,b.to,g,h))||a.dispatch(h()),!0}function dk(a,b,c,d){let e=Math.min(a.length,b.length),f=0;for(;f<e&&a.charCodeAt(f)==b.charCodeAt(f);)f++;if(f==e&&a.length==b.length)return null;let g=a.length,h=b.length;for(;g>0&&h>0&&a.charCodeAt(g-1)==b.charCodeAt(h-1);)g--,h--;if("end"==d){let a=Math.max(0,f-Math.min(g,h));c-=g+a-f}if(g<f&&a.length<b.length){let a=c<=f&&c>=g?f-c:0;f-=a,h=f+(h-g),g=f}else if(h<f){let a=c<=f&&c>=h?f-c:0;f-=a,g=f+(g-h),h=f}return{from:f,toA:g,toB:h}}class dl{setSelectionOrigin(a){this.lastSelectionOrigin=a,this.lastSelectionTime=Date.now()}constructor(a){this.view=a,this.lastKeyCode=0,this.lastKeyTime=0,this.lastTouchTime=0,this.lastFocusTime=0,this.lastScrollTop=0,this.lastScrollLeft=0,this.pendingIOSKey=void 0,this.tabFocusMode=-1,this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastContextMenu=0,this.scrollHandlers=[],this.handlers=Object.create(null),this.composing=-1,this.compositionFirstChange=null,this.compositionEndedAt=0,this.compositionPendingKey=!1,this.compositionPendingChange=!1,this.mouseSelection=null,this.draggedContent=null,this.handleEvent=this.handleEvent.bind(this),this.notifiedFocused=a.hasFocus,bt.safari&&a.contentDOM.addEventListener("input",()=>null),bt.gecko&&function(a){dL.has(a)||(dL.add(a),a.addEventListener("copy",()=>{}),a.addEventListener("cut",()=>{}))}(a.contentDOM.ownerDocument)}handleEvent(a){!function(a,b){if(!b.bubbles)return!0;if(b.defaultPrevented)return!1;for(let c=b.target,d;c!=a.contentDOM;c=c.parentNode)if(!c||11==c.nodeType||(d=bQ.get(c))&&d.ignoreEvent(b))return!1;return!0}(this.view,a)||this.ignoreDuringComposition(a)||"keydown"==a.type&&this.keydown(a)||(0!=this.view.updateState?Promise.resolve().then(()=>this.runHandlers(a.type,a)):this.runHandlers(a.type,a))}runHandlers(a,b){let c=this.handlers[a];if(c){for(let a of c.observers)a(this.view,b);for(let a of c.handlers){if(b.defaultPrevented)break;if(a(this.view,b)){b.preventDefault();break}}}}ensureHandlers(a){let b=function(a){let b=Object.create(null);function c(a){return b[a]||(b[a]={observers:[],handlers:[]})}for(let b of a){let a=b.spec,d=a&&a.plugin.domEventHandlers,e=a&&a.plugin.domEventObservers;if(d)for(let a in d){let e=d[a];e&&c(a).handlers.push(dm(b.value,e))}if(e)for(let a in e){let d=e[a];d&&c(a).observers.push(dm(b.value,d))}}for(let a in dt)c(a).handlers.push(dt[a]);for(let a in du)c(a).observers.push(du[a]);return b}(a),c=this.handlers,d=this.view.contentDOM;for(let a in b)if("scroll"!=a){let e=!b[a].handlers.length,f=c[a];f&&!f.handlers.length!=e&&(d.removeEventListener(a,this.handleEvent),f=null),f||d.addEventListener(a,this.handleEvent,{passive:e})}for(let a in c)"scroll"==a||b[a]||d.removeEventListener(a,this.handleEvent);this.handlers=b}keydown(a){let b;return this.lastKeyCode=a.keyCode,this.lastKeyTime=Date.now(),!!(9==a.keyCode&&this.tabFocusMode>-1&&(!this.tabFocusMode||Date.now()<=this.tabFocusMode))||((this.tabFocusMode>0&&27!=a.keyCode&&0>dq.indexOf(a.keyCode)&&(this.tabFocusMode=-1),bt.android&&bt.chrome&&!a.synthetic&&(13==a.keyCode||8==a.keyCode))?(this.view.observer.delayAndroidKey(a.key,a.keyCode),!0):bt.ios&&!a.synthetic&&!a.altKey&&!a.metaKey&&((b=dn.find(b=>b.keyCode==a.keyCode))&&!a.ctrlKey||dp.indexOf(a.key)>-1&&a.ctrlKey&&!a.shiftKey)?(this.pendingIOSKey=b||a,setTimeout(()=>this.flushIOSKey(),250),!0):(229!=a.keyCode&&this.view.observer.forceFlush(),!1))}flushIOSKey(a){let b=this.pendingIOSKey;return!(!b||"Enter"==b.key&&a&&a.from<a.to&&/^\S+$/.test(a.insert.toString()))&&(this.pendingIOSKey=void 0,bJ(this.view.contentDOM,b.key,b.keyCode,b instanceof KeyboardEvent?b:void 0))}ignoreDuringComposition(a){return!!/^key/.test(a.type)&&!a.synthetic&&(this.composing>0||!!(bt.safari&&!bt.ios&&this.compositionPendingKey&&Date.now()-this.compositionEndedAt<100)&&(this.compositionPendingKey=!1,!0))}startMouseSelection(a){this.mouseSelection&&this.mouseSelection.destroy(),this.mouseSelection=a}update(a){this.view.observer.update(a),this.mouseSelection&&this.mouseSelection.update(a),this.draggedContent&&a.docChanged&&(this.draggedContent=this.draggedContent.map(a.changes)),a.transactions.length&&(this.lastKeyCode=this.lastSelectionTime=0)}destroy(){this.mouseSelection&&this.mouseSelection.destroy()}}function dm(a,b){return(c,d)=>{try{return b.call(a,d,c)}catch(a){cK(c.state,a)}}}let dn=[{key:"Backspace",keyCode:8,inputType:"deleteContentBackward"},{key:"Enter",keyCode:13,inputType:"insertParagraph"},{key:"Enter",keyCode:13,inputType:"insertLineBreak"},{key:"Delete",keyCode:46,inputType:"deleteContentForward"}],dp="dthko",dq=[16,17,18,20,91,92,224,225];function dr(a){return .7*Math.max(0,a)+8}class ds{constructor(a,b,c,d){this.view=a,this.startEvent=b,this.style=c,this.mustSelect=d,this.scrollSpeed={x:0,y:0},this.scrolling=-1,this.lastEvent=b,this.scrollParents=function(a){let b=a.ownerDocument,c,d;for(let e=a.parentNode;e;)if(e==b.body||c&&d)break;else if(1==e.nodeType)!d&&e.scrollHeight>e.clientHeight&&(d=e),!c&&e.scrollWidth>e.clientWidth&&(c=e),e=e.assignedSlot||e.parentNode;else if(11==e.nodeType)e=e.host;else break;return{x:c,y:d}}(a.contentDOM),this.atoms=a.state.facet(cU).map(b=>b(a));let e=a.contentDOM.ownerDocument;e.addEventListener("mousemove",this.move=this.move.bind(this)),e.addEventListener("mouseup",this.up=this.up.bind(this)),this.extend=b.shiftKey,this.multiple=a.state.facet(aP.allowMultipleSelections)&&function(a,b){let c=a.state.facet(cv);return c.length?c[0](b):bt.mac?b.metaKey:b.ctrlKey}(a,b),this.dragging=!!function(a,b){let{main:c}=a.state.selection;if(c.empty)return!1;let d=bu(a.root);if(!d||0==d.rangeCount)return!0;let e=d.getRangeAt(0).getClientRects();for(let a=0;a<e.length;a++){let c=e[a];if(c.left<=b.clientX&&c.right>=b.clientX&&c.top<=b.clientY&&c.bottom>=b.clientY)return!0}return!1}(a,b)&&1==dF(b)&&null}start(a){!1===this.dragging&&this.select(a)}move(a){var b;if(0==a.buttons)return this.destroy();if(this.dragging||null==this.dragging&&10>(b=this.startEvent,Math.max(Math.abs(b.clientX-a.clientX),Math.abs(b.clientY-a.clientY))))return;this.select(this.lastEvent=a);let c=0,d=0,e=0,f=0,g=this.view.win.innerWidth,h=this.view.win.innerHeight;this.scrollParents.x&&({left:e,right:g}=this.scrollParents.x.getBoundingClientRect()),this.scrollParents.y&&({top:f,bottom:h}=this.scrollParents.y.getBoundingClientRect());let i=cY(this.view);a.clientX-i.left<=e+6?c=-dr(e-a.clientX):a.clientX+i.right>=g-6&&(c=dr(a.clientX-g)),a.clientY-i.top<=f+6?d=-dr(f-a.clientY):a.clientY+i.bottom>=h-6&&(d=dr(a.clientY-h)),this.setScrollSpeed(c,d)}up(a){null==this.dragging&&this.select(this.lastEvent),this.dragging||a.preventDefault(),this.destroy()}destroy(){this.setScrollSpeed(0,0);let a=this.view.contentDOM.ownerDocument;a.removeEventListener("mousemove",this.move),a.removeEventListener("mouseup",this.up),this.view.inputState.mouseSelection=this.view.inputState.draggedContent=null}setScrollSpeed(a,b){this.scrollSpeed={x:a,y:b},a||b?this.scrolling<0&&(this.scrolling=setInterval(()=>this.scroll(),50)):this.scrolling>-1&&(clearInterval(this.scrolling),this.scrolling=-1)}scroll(){let{x:a,y:b}=this.scrollSpeed;a&&this.scrollParents.x&&(this.scrollParents.x.scrollLeft+=a,a=0),b&&this.scrollParents.y&&(this.scrollParents.y.scrollTop+=b,b=0),(a||b)&&this.view.win.scrollBy(a,b),!1===this.dragging&&this.select(this.lastEvent)}select(a){let{view:b}=this,c=dd(this.atoms,this.style.get(a,this.extend,this.multiple));(this.mustSelect||!c.eq(b.state.selection,!1===this.dragging))&&this.view.dispatch({selection:c,userEvent:"select.pointer"}),this.mustSelect=!1}update(a){a.transactions.some(a=>a.isUserEvent("input.type"))?this.destroy():this.style.update(a)&&setTimeout(()=>this.select(this.lastEvent),20)}}let dt=Object.create(null),du=Object.create(null),dv=bt.ie&&bt.ie_version<15||bt.ios&&bt.webkit_version<604;function dw(a,b,c){for(let d of a.facet(b))c=d(c,a);return c}function dx(a,b){b=dw(a.state,cC,b);let{state:c}=a,d,e=1,f=c.toText(b),g=f.lines==c.selection.ranges.length;if(null!=dH&&c.selection.ranges.every(a=>a.empty)&&dH==f.toString()){let a=-1;d=c.changeByRange(d=>{let h=c.doc.lineAt(d.from);if(h.from==a)return{range:d};a=h.from;let i=c.toText((g?f.line(e++).text:b)+c.lineBreak);return{changes:{from:h.from,insert:i},range:af.cursor(d.from+i.length)}})}else d=g?c.changeByRange(a=>{let b=f.line(e++);return{changes:{from:a.from,to:a.to,insert:b.text},range:af.cursor(a.from+b.length)}}):c.replaceSelection(f);a.dispatch(d,{userEvent:"input.paste",scrollIntoView:!0})}function dy(a,b,c,d){if(1==d)return af.cursor(b,c);{if(2==d)return function(a,b,c=1){let d=a.charCategorizer(b),e=a.doc.lineAt(b),f=b-e.from;if(0==e.length)return af.cursor(b);0==f?c=1:f==e.length&&(c=-1);let g=f,h=f;c<0?g=S(e.text,f,!1):h=S(e.text,f);let i=d(e.text.slice(g,h));for(;g>0;){let a=S(e.text,g,!1);if(d(e.text.slice(a,g))!=i)break;g=a}for(;h<e.length;){let a=S(e.text,h);if(d(e.text.slice(h,a))!=i)break;h=a}return af.range(g+e.from,h+e.from)}(a.state,b,c);let e=cb.find(a.docView,b),f=a.state.doc.lineAt(e?e.posAtEnd:b),g=e?e.posAtStart:f.from,h=e?e.posAtEnd:f.to;return h<a.state.doc.length&&h==f.to&&h++,af.range(g,h)}}du.scroll=a=>{a.inputState.lastScrollTop=a.scrollDOM.scrollTop,a.inputState.lastScrollLeft=a.scrollDOM.scrollLeft},dt.keydown=(a,b)=>(a.inputState.setSelectionOrigin("select"),27==b.keyCode&&0!=a.inputState.tabFocusMode&&(a.inputState.tabFocusMode=Date.now()+2e3),!1),du.touchstart=(a,b)=>{a.inputState.lastTouchTime=Date.now(),a.inputState.setSelectionOrigin("select.pointer")},du.touchmove=a=>{a.inputState.setSelectionOrigin("select.pointer")},dt.mousedown=(a,b)=>{var c,d;let e,f,g;if(a.observer.flush(),a.inputState.lastTouchTime>Date.now()-2e3)return!1;let h=null;for(let c of a.state.facet(cx))if(h=c(a,b))break;if(h||0!=b.button||(e=dA(c=a,d=b),f=dF(d),g=c.state.selection,h={update(a){a.docChanged&&(e.pos=a.changes.mapPos(e.pos),g=g.map(a.changes))},get(a,b,d){let h=dA(c,a),i,j=dy(c,h.pos,h.bias,f);if(e.pos!=h.pos&&!b){let a=dy(c,e.pos,e.bias,f),b=Math.min(a.from,j.from),d=Math.max(a.to,j.to);j=b<j.from?af.range(b,d):af.range(d,b)}return b?g.replaceRange(g.main.extend(j.from,j.to)):d&&1==f&&g.ranges.length>1&&(i=function(a,b){for(let c=0;c<a.ranges.length;c++){let{from:d,to:e}=a.ranges[c];if(d<=b&&e>=b)return af.create(a.ranges.slice(0,c).concat(a.ranges.slice(c+1)),a.mainIndex==c?0:a.mainIndex-(a.mainIndex>c))}return null}(g,h.pos))?i:d?g.addRange(j):af.create([j])}}),h){let c=!a.hasFocus;a.inputState.startMouseSelection(new ds(a,b,h,c)),c&&a.observer.ignore(()=>{bH(a.contentDOM);let b=a.root.activeElement;b&&!b.contains(a.contentDOM)&&b.blur()});let d=a.inputState.mouseSelection;if(d)return d.start(b),!1===d.dragging}else a.inputState.setSelectionOrigin("select.pointer");return!1};let dz=(a,b,c)=>b>=c.top&&b<=c.bottom&&a>=c.left&&a<=c.right;function dA(a,b){let c=a.posAtCoords({x:b.clientX,y:b.clientY},!1);return{pos:c,bias:function(a,b,c,d){let e=cb.find(a.docView,b);if(!e)return 1;let f=b-e.posAtStart;if(0==f)return 1;if(f==e.length)return -1;let g=e.coordsAt(f,-1);if(g&&dz(c,d,g))return -1;let h=e.coordsAt(f,1);return h&&dz(c,d,h)?1:g&&g.bottom>=d?-1:1}(a,c,b.clientX,b.clientY)}}let dB=bt.ie&&bt.ie_version<=11,dC=null,dD=0,dE=0;function dF(a){if(!dB)return a.detail;let b=dC,c=dE;return dC=a,dE=Date.now(),dD=!b||c>Date.now()-400&&2>Math.abs(b.clientX-a.clientX)&&2>Math.abs(b.clientY-a.clientY)?(dD+1)%3:1}function dG(a,b,c,d){let e;if(!(c=dw(a.state,cC,c)))return;let f=a.posAtCoords({x:b.clientX,y:b.clientY},!1),{draggedContent:g}=a.inputState,h=d&&g&&((e=a.state.facet(cw)).length?e[0](b):bt.mac?!b.altKey:!b.ctrlKey)?{from:g.from,to:g.to}:null,i={from:f,insert:c},j=a.state.changes(h?[h,i]:i);a.focus(),a.dispatch({changes:j,selection:{anchor:j.mapPos(f,-1),head:j.mapPos(f,1)},userEvent:h?"move.drop":"input.drop"}),a.inputState.draggedContent=null}dt.dragstart=(a,b)=>{let{selection:{main:c}}=a.state;if(b.target.draggable){let d=a.docView.nearest(b.target);if(d&&d.isWidget){let a=d.posAtStart,b=a+d.length;(a>=c.to||b<=c.from)&&(c=af.range(a,b))}}let{inputState:d}=a;return d.mouseSelection&&(d.mouseSelection.dragging=!0),d.draggedContent=c,b.dataTransfer&&(b.dataTransfer.setData("Text",dw(a.state,cD,a.state.sliceDoc(c.from,c.to))),b.dataTransfer.effectAllowed="copyMove"),!1},dt.dragend=a=>(a.inputState.draggedContent=null,!1),dt.drop=(a,b)=>{if(!b.dataTransfer)return!1;if(a.state.readOnly)return!0;let c=b.dataTransfer.files;if(c&&c.length){let d=Array(c.length),e=0,f=()=>{++e==c.length&&dG(a,b,d.filter(a=>null!=a).join(a.state.lineBreak),!1)};for(let a=0;a<c.length;a++){let b=new FileReader;b.onerror=f,b.onload=()=>{/[\x00-\x08\x0e-\x1f]{2}/.test(b.result)||(d[a]=b.result),f()},b.readAsText(c[a])}return!0}{let c=b.dataTransfer.getData("Text");if(c)return dG(a,b,c,!0),!0}return!1},dt.paste=(a,b)=>{if(a.state.readOnly)return!0;a.observer.flush();let c=dv?null:b.clipboardData;return c?(dx(a,c.getData("text/plain")||c.getData("text/uri-list")),!0):(!function(a){let b=a.dom.parentNode;if(!b)return;let c=b.appendChild(document.createElement("textarea"));c.style.cssText="position: fixed; left: -10000px; top: 10px",c.focus(),setTimeout(()=>{a.focus(),c.remove(),dx(a,c.value)},50)}(a),!1)};let dH=null;dt.copy=dt.cut=(a,b)=>{let{text:c,ranges:d,linewise:e}=function(a){let b=[],c=[],d=!1;for(let d of a.selection.ranges)d.empty||(b.push(a.sliceDoc(d.from,d.to)),c.push(d));if(!b.length){let e=-1;for(let{from:d}of a.selection.ranges){let f=a.doc.lineAt(d);f.number>e&&(b.push(f.text),c.push({from:f.from,to:Math.min(a.doc.length,f.to+1)})),e=f.number}d=!0}return{text:dw(a,cD,b.join(a.lineBreak)),ranges:c,linewise:d}}(a.state);if(!c&&!e)return!1;dH=e?c:null,"cut"!=b.type||a.state.readOnly||a.dispatch({changes:d,scrollIntoView:!0,userEvent:"delete.cut"});let f=dv?null:b.clipboardData;return f?(f.clearData(),f.setData("text/plain",c),!0):(!function(a,b){let c=a.dom.parentNode;if(!c)return;let d=c.appendChild(document.createElement("textarea"));d.style.cssText="position: fixed; left: -10000px; top: 10px",d.value=b,d.focus(),d.selectionEnd=b.length,d.selectionStart=0,setTimeout(()=>{d.remove(),a.focus()},50)}(a,c),!1)};let dI=aE.define();function dJ(a,b){let c=[];for(let d of a.facet(cB)){let e=d(a,b);e&&c.push(e)}return c.length?a.update({effects:c,annotations:dI.of(!0)}):null}function dK(a){setTimeout(()=>{let b=a.hasFocus;if(b!=a.inputState.notifiedFocused){let c=dJ(a.state,b);c?a.dispatch(c):a.update([])}},10)}du.focus=a=>{a.inputState.lastFocusTime=Date.now(),!a.scrollDOM.scrollTop&&(a.inputState.lastScrollTop||a.inputState.lastScrollLeft)&&(a.scrollDOM.scrollTop=a.inputState.lastScrollTop,a.scrollDOM.scrollLeft=a.inputState.lastScrollLeft),dK(a)},du.blur=a=>{a.observer.clearSelectionRange(),dK(a)},du.compositionstart=du.compositionupdate=a=>{!a.observer.editContext&&(null==a.inputState.compositionFirstChange&&(a.inputState.compositionFirstChange=!0),a.inputState.composing<0&&(a.inputState.composing=0))},du.compositionend=a=>{a.observer.editContext||(a.inputState.composing=-1,a.inputState.compositionEndedAt=Date.now(),a.inputState.compositionPendingKey=!0,a.inputState.compositionPendingChange=a.observer.pendingRecords().length>0,a.inputState.compositionFirstChange=null,bt.chrome&&bt.android?a.observer.flushSoon():a.inputState.compositionPendingChange?Promise.resolve().then(()=>a.observer.flush()):setTimeout(()=>{a.inputState.composing<0&&a.docView.hasComposition&&a.update([])},50))},du.contextmenu=a=>{a.inputState.lastContextMenu=Date.now()},dt.beforeinput=(a,b)=>{var c,d;let e;if("insertReplacementText"==b.inputType&&a.observer.editContext){let d=null==(c=b.dataTransfer)?void 0:c.getData("text/plain"),e=b.getTargetRanges();if(d&&e.length){let b=e[0],c=a.posAtDOM(b.startContainer,b.startOffset),f=a.posAtDOM(b.endContainer,b.endOffset);return dj(a,{from:c,to:f,insert:a.state.toText(d)},null),!0}}if(bt.chrome&&bt.android&&(e=dn.find(a=>a.inputType==b.inputType))&&(a.observer.delayAndroidKey(e.key,e.keyCode),"Backspace"==e.key||"Delete"==e.key)){let b=(null==(d=window.visualViewport)?void 0:d.height)||0;setTimeout(()=>{var c;((null==(c=window.visualViewport)?void 0:c.height)||0)>b+10&&a.hasFocus&&(a.contentDOM.blur(),a.focus())},100)}return bt.ios&&"deleteContentForward"==b.inputType&&a.observer.flushSoon(),bt.safari&&"insertText"==b.inputType&&a.inputState.composing>=0&&setTimeout(()=>du.compositionend(a,b),20),!1};let dL=new Set,dM=["pre-wrap","normal","pre-line","break-spaces"],dN=!1;class dO{constructor(a){this.lineWrapping=a,this.doc=J.empty,this.heightSamples={},this.lineHeight=14,this.charWidth=7,this.textHeight=14,this.lineLength=30}heightForGap(a,b){let c=this.doc.lineAt(b).number-this.doc.lineAt(a).number+1;return this.lineWrapping&&(c+=Math.max(0,Math.ceil((b-a-c*this.lineLength*.5)/this.lineLength))),this.lineHeight*c}heightForLine(a){return this.lineWrapping?(1+Math.max(0,Math.ceil((a-this.lineLength)/Math.max(1,this.lineLength-5))))*this.lineHeight:this.lineHeight}setDoc(a){return this.doc=a,this}mustRefreshForWrapping(a){return dM.indexOf(a)>-1!=this.lineWrapping}mustRefreshForHeights(a){let b=!1;for(let c=0;c<a.length;c++){let d=a[c];d<0?c++:this.heightSamples[Math.floor(10*d)]||(b=!0,this.heightSamples[Math.floor(10*d)]=!0)}return b}refresh(a,b,c,d,e,f){let g=dM.indexOf(a)>-1,h=Math.round(b)!=Math.round(this.lineHeight)||this.lineWrapping!=g;if(this.lineWrapping=g,this.lineHeight=b,this.charWidth=c,this.textHeight=d,this.lineLength=e,h){this.heightSamples={};for(let a=0;a<f.length;a++){let b=f[a];b<0?a++:this.heightSamples[Math.floor(10*b)]=!0}}return h}}class dP{constructor(a,b){this.from=a,this.heights=b,this.index=0}get more(){return this.index<this.heights.length}}class dQ{constructor(a,b,c,d,e){this.from=a,this.length=b,this.top=c,this.height=d,this._content=e}get type(){return"number"==typeof this._content?b4.Text:Array.isArray(this._content)?this._content:this._content.type}get to(){return this.from+this.length}get bottom(){return this.top+this.height}get widget(){return this._content instanceof b8?this._content.widget:null}get widgetLineBreaks(){return"number"==typeof this._content?this._content:0}join(a){let b=(Array.isArray(this._content)?this._content:[this]).concat(Array.isArray(a._content)?a._content:[a]);return new dQ(this.from,this.length+a.length,this.top,this.height+a.height,b)}}var dR=((l=dR||(dR={}))[l.ByPos=0]="ByPos",l[l.ByHeight=1]="ByHeight",l[l.ByPosNoHeight=2]="ByPosNoHeight",l);class dS{constructor(a,b,c=2){this.length=a,this.height=b,this.flags=c}get outdated(){return(2&this.flags)>0}set outdated(a){this.flags=2*!!a|-3&this.flags}setHeight(a){this.height!=a&&(Math.abs(this.height-a)>.001&&(dN=!0),this.height=a)}replace(a,b,c){return dS.of(c)}decomposeLeft(a,b){b.push(this)}decomposeRight(a,b){b.push(this)}applyChanges(a,b,c,d){let e=this,f=c.doc;for(let g=d.length-1;g>=0;g--){let{fromA:h,toA:i,fromB:j,toB:k}=d[g],l=e.lineAt(h,dR.ByPosNoHeight,c.setDoc(b),0,0),m=l.to>=i?l:e.lineAt(i,dR.ByPosNoHeight,c,0,0);for(k+=m.to-i,i=m.to;g>0&&l.from<=d[g-1].toA;)h=d[g-1].fromA,j=d[g-1].fromB,g--,h<l.from&&(l=e.lineAt(h,dR.ByPosNoHeight,c,0,0));j+=l.from-h,h=l.from;let n=dZ.build(c.setDoc(f),a,j,k);e=dT(e,e.replace(h,i,n))}return e.updateHeight(c,0)}static empty(){return new dV(0,0)}static of(a){if(1==a.length)return a[0];let b=0,c=a.length,d=0,e=0;for(;;)if(b==c)if(d>2*e){let e=a[b-1];e.break?a.splice(--b,1,e.left,null,e.right):a.splice(--b,1,e.left,e.right),c+=1+e.break,d-=e.size}else if(e>2*d){let b=a[c];b.break?a.splice(c,1,b.left,null,b.right):a.splice(c,1,b.left,b.right),c+=2+b.break,e-=b.size}else break;else if(d<e){let c=a[b++];c&&(d+=c.size)}else{let b=a[--c];b&&(e+=b.size)}let f=0;return null==a[b-1]?(f=1,b--):null==a[b]&&(f=1,c++),new dX(dS.of(a.slice(0,b)),f,dS.of(a.slice(c)))}}function dT(a,b){return a==b?a:(a.constructor!=b.constructor&&(dN=!0),b)}dS.prototype.size=1;class dU extends dS{constructor(a,b,c){super(a,b),this.deco=c}blockAt(a,b,c,d){return new dQ(d,this.length,c,this.height,this.deco||0)}lineAt(a,b,c,d,e){return this.blockAt(0,c,d,e)}forEachLine(a,b,c,d,e,f){a<=e+this.length&&b>=e&&f(this.blockAt(0,c,d,e))}updateHeight(a,b=0,c=!1,d){return d&&d.from<=b&&d.more&&this.setHeight(d.heights[d.index++]),this.outdated=!1,this}toString(){return`block(${this.length})`}}class dV extends dU{constructor(a,b){super(a,b,null),this.collapsed=0,this.widgetHeight=0,this.breaks=0}blockAt(a,b,c,d){return new dQ(d,this.length,c,this.height,this.breaks)}replace(a,b,c){let d=c[0];return 1==c.length&&(d instanceof dV||d instanceof dW&&4&d.flags)&&10>Math.abs(this.length-d.length)?(d instanceof dW?d=new dV(d.length,this.height):d.height=this.height,this.outdated||(d.outdated=!1),d):dS.of(c)}updateHeight(a,b=0,c=!1,d){return d&&d.from<=b&&d.more?this.setHeight(d.heights[d.index++]):(c||this.outdated)&&this.setHeight(Math.max(this.widgetHeight,a.heightForLine(this.length-this.collapsed))+this.breaks*a.lineHeight),this.outdated=!1,this}toString(){return`line(${this.length}${this.collapsed?-this.collapsed:""}${this.widgetHeight?":"+this.widgetHeight:""})`}}class dW extends dS{constructor(a){super(a,0)}heightMetrics(a,b){let c=a.doc.lineAt(b).number,d=a.doc.lineAt(b+this.length).number,e=d-c+1,f,g=0;if(a.lineWrapping){let b=Math.min(this.height,a.lineHeight*e);f=b/e,this.length>e+1&&(g=(this.height-b)/(this.length-e-1))}else f=this.height/e;return{firstLine:c,lastLine:d,perLine:f,perChar:g}}blockAt(a,b,c,d){let{firstLine:e,lastLine:f,perLine:g,perChar:h}=this.heightMetrics(b,d);if(b.lineWrapping){let e=d+(a<b.lineHeight?0:Math.round(Math.max(0,Math.min(1,(a-c)/this.height))*this.length)),f=b.doc.lineAt(e),i=g+f.length*h,j=Math.max(c,a-i/2);return new dQ(f.from,f.length,j,i,0)}{let d=Math.max(0,Math.min(f-e,Math.floor((a-c)/g))),{from:h,length:i}=b.doc.line(e+d);return new dQ(h,i,c+g*d,g,0)}}lineAt(a,b,c,d,e){if(b==dR.ByHeight)return this.blockAt(a,c,d,e);if(b==dR.ByPosNoHeight){let{from:b,to:d}=c.doc.lineAt(a);return new dQ(b,d-b,0,0,0)}let{firstLine:f,perLine:g,perChar:h}=this.heightMetrics(c,e),i=c.doc.lineAt(a),j=g+i.length*h,k=i.number-f,l=d+g*k+h*(i.from-e-k);return new dQ(i.from,i.length,Math.max(d,Math.min(l,d+this.height-j)),j,0)}forEachLine(a,b,c,d,e,f){a=Math.max(a,e),b=Math.min(b,e+this.length);let{firstLine:g,perLine:h,perChar:i}=this.heightMetrics(c,e);for(let j=a,k=d;j<=b;){let b=c.doc.lineAt(j);if(j==a){let c=b.number-g;k+=h*c+i*(a-e-c)}let d=h+i*b.length;f(new dQ(b.from,b.length,k,d,0)),k+=d,j=b.to+1}}replace(a,b,c){let d=this.length-b;if(d>0){let a=c[c.length-1];a instanceof dW?c[c.length-1]=new dW(a.length+d):c.push(null,new dW(d-1))}if(a>0){let b=c[0];b instanceof dW?c[0]=new dW(a+b.length):c.unshift(new dW(a-1),null)}return dS.of(c)}decomposeLeft(a,b){b.push(new dW(a-1),null)}decomposeRight(a,b){b.push(null,new dW(this.length-a-1))}updateHeight(a,b=0,c=!1,d){let e=b+this.length;if(d&&d.from<=b+this.length&&d.more){let c=[],f=Math.max(b,d.from),g=-1;for(d.from>b&&c.push(new dW(d.from-b-1).updateHeight(a,b));f<=e&&d.more;){let b=a.doc.lineAt(f).length;c.length&&c.push(null);let e=d.heights[d.index++];-1==g?g=e:Math.abs(e-g)>=.001&&(g=-2);let h=new dV(b,e);h.outdated=!1,c.push(h),f+=b+1}f<=e&&c.push(null,new dW(e-f).updateHeight(a,f));let h=dS.of(c);return(g<0||Math.abs(h.height-this.height)>=.001||Math.abs(g-this.heightMetrics(a,b).perLine)>=.001)&&(dN=!0),dT(this,h)}return(c||this.outdated)&&(this.setHeight(a.heightForGap(b,b+this.length)),this.outdated=!1),this}toString(){return`gap(${this.length})`}}class dX extends dS{constructor(a,b,c){super(a.length+b+c.length,a.height+c.height,b|(a.outdated||c.outdated?2:0)),this.left=a,this.right=c,this.size=a.size+c.size}get break(){return 1&this.flags}blockAt(a,b,c,d){let e=c+this.left.height;return a<e?this.left.blockAt(a,b,c,d):this.right.blockAt(a,b,e,d+this.left.length+this.break)}lineAt(a,b,c,d,e){let f=d+this.left.height,g=e+this.left.length+this.break,h=b==dR.ByHeight?a<f:a<g,i=h?this.left.lineAt(a,b,c,d,e):this.right.lineAt(a,b,c,f,g);if(this.break||(h?i.to<g:i.from>g))return i;let j=b==dR.ByPosNoHeight?dR.ByPosNoHeight:dR.ByPos;return h?i.join(this.right.lineAt(g,j,c,f,g)):this.left.lineAt(g,j,c,d,e).join(i)}forEachLine(a,b,c,d,e,f){let g=d+this.left.height,h=e+this.left.length+this.break;if(this.break)a<h&&this.left.forEachLine(a,b,c,d,e,f),b>=h&&this.right.forEachLine(a,b,c,g,h,f);else{let i=this.lineAt(h,dR.ByPos,c,d,e);a<i.from&&this.left.forEachLine(a,i.from-1,c,d,e,f),i.to>=a&&i.from<=b&&f(i),b>i.to&&this.right.forEachLine(i.to+1,b,c,g,h,f)}}replace(a,b,c){let d=this.left.length+this.break;if(b<d)return this.balanced(this.left.replace(a,b,c),this.right);if(a>this.left.length)return this.balanced(this.left,this.right.replace(a-d,b-d,c));let e=[];a>0&&this.decomposeLeft(a,e);let f=e.length;for(let a of c)e.push(a);if(a>0&&dY(e,f-1),b<this.length){let a=e.length;this.decomposeRight(b,e),dY(e,a)}return dS.of(e)}decomposeLeft(a,b){let c=this.left.length;if(a<=c)return this.left.decomposeLeft(a,b);b.push(this.left),this.break&&a>=++c&&b.push(null),a>c&&this.right.decomposeLeft(a-c,b)}decomposeRight(a,b){let c=this.left.length,d=c+this.break;if(a>=d)return this.right.decomposeRight(a-d,b);a<c&&this.left.decomposeRight(a,b),this.break&&a<d&&b.push(null),b.push(this.right)}balanced(a,b){return a.size>2*b.size||b.size>2*a.size?dS.of(this.break?[a,null,b]:[a,b]):(this.left=dT(this.left,a),this.right=dT(this.right,b),this.setHeight(a.height+b.height),this.outdated=a.outdated||b.outdated,this.size=a.size+b.size,this.length=a.length+this.break+b.length,this)}updateHeight(a,b=0,c=!1,d){let{left:e,right:f}=this,g=b+e.length+this.break,h=null;return(d&&d.from<=b+e.length&&d.more?h=e=e.updateHeight(a,b,c,d):e.updateHeight(a,b,c),d&&d.from<=g+f.length&&d.more?h=f=f.updateHeight(a,g,c,d):f.updateHeight(a,g,c),h)?this.balanced(e,f):(this.height=this.left.height+this.right.height,this.outdated=!1,this)}toString(){return this.left+(this.break?" ":"-")+this.right}}function dY(a,b){let c,d;null==a[b]&&(c=a[b-1])instanceof dW&&(d=a[b+1])instanceof dW&&a.splice(b-1,3,new dW(c.length+1+d.length))}class dZ{constructor(a,b){this.pos=a,this.oracle=b,this.nodes=[],this.lineStart=-1,this.lineEnd=-1,this.covering=null,this.writtenTo=a}get isCovered(){return this.covering&&this.nodes[this.nodes.length-1]==this.covering}span(a,b){if(this.lineStart>-1){let a=Math.min(b,this.lineEnd),c=this.nodes[this.nodes.length-1];c instanceof dV?c.length+=a-this.pos:(a>this.pos||!this.isCovered)&&this.nodes.push(new dV(a-this.pos,-1)),this.writtenTo=a,b>a&&(this.nodes.push(null),this.writtenTo++,this.lineStart=-1)}this.pos=b}point(a,b,c){if(a<b||c.heightRelevant){let d=c.widget?c.widget.estimatedHeight:0,e=c.widget?c.widget.lineBreaks:0;d<0&&(d=this.oracle.lineHeight);let f=b-a;c.block?this.addBlock(new dU(f,d,c)):(f||e||d>=5)&&this.addLineDeco(d,e,f)}else b>a&&this.span(a,b);this.lineEnd>-1&&this.lineEnd<this.pos&&(this.lineEnd=this.oracle.doc.lineAt(this.pos).to)}enterLine(){if(this.lineStart>-1)return;let{from:a,to:b}=this.oracle.doc.lineAt(this.pos);this.lineStart=a,this.lineEnd=b,this.writtenTo<a&&((this.writtenTo<a-1||null==this.nodes[this.nodes.length-1])&&this.nodes.push(this.blankContent(this.writtenTo,a-1)),this.nodes.push(null)),this.pos>a&&this.nodes.push(new dV(this.pos-a,-1)),this.writtenTo=this.pos}blankContent(a,b){let c=new dW(b-a);return this.oracle.doc.lineAt(a).to==b&&(c.flags|=4),c}ensureLine(){this.enterLine();let a=this.nodes.length?this.nodes[this.nodes.length-1]:null;if(a instanceof dV)return a;let b=new dV(0,-1);return this.nodes.push(b),b}addBlock(a){this.enterLine();let b=a.deco;b&&b.startSide>0&&!this.isCovered&&this.ensureLine(),this.nodes.push(a),this.writtenTo=this.pos=this.pos+a.length,b&&b.endSide>0&&(this.covering=a)}addLineDeco(a,b,c){let d=this.ensureLine();d.length+=c,d.collapsed+=c,d.widgetHeight=Math.max(d.widgetHeight,a),d.breaks+=b,this.writtenTo=this.pos=this.pos+c}finish(a){let b=0==this.nodes.length?null:this.nodes[this.nodes.length-1];!(this.lineStart>-1)||b instanceof dV||this.isCovered?(this.writtenTo<this.pos||null==b)&&this.nodes.push(this.blankContent(this.writtenTo,this.pos)):this.nodes.push(new dV(0,-1));let c=a;for(let a of this.nodes)a instanceof dV&&a.updateHeight(this.oracle,c),c+=a?a.length:1;return this.nodes}static build(a,b,c,d){let e=new dZ(c,a);return aV.spans(b,c,d,e,0),e.finish(c)}}class d${constructor(){this.changes=[]}compareRange(){}comparePoint(a,b,c,d){(a<b||c&&c.heightRelevant||d&&d.heightRelevant)&&ca(a,b,this.changes,5)}}class d_{constructor(a,b,c,d){this.from=a,this.to=b,this.size=c,this.displaySize=d}static same(a,b){if(a.length!=b.length)return!1;for(let c=0;c<a.length;c++){let d=a[c],e=b[c];if(d.from!=e.from||d.to!=e.to||d.size!=e.size)return!1}return!0}draw(a,b){return b5.replace({widget:new d0(this.displaySize*(b?a.scaleY:a.scaleX),b)}).range(this.from,this.to)}}class d0 extends b3{constructor(a,b){super(),this.size=a,this.vertical=b}eq(a){return a.size==this.size&&a.vertical==this.vertical}toDOM(){let a=document.createElement("div");return this.vertical?a.style.height=this.size+"px":(a.style.width=this.size+"px",a.style.height="2px",a.style.display="inline-block"),a}get estimatedHeight(){return this.vertical?this.size:-1}}class d1{constructor(a){this.state=a,this.pixelViewport={left:0,right:window.innerWidth,top:0,bottom:0},this.inView=!0,this.paddingTop=0,this.paddingBottom=0,this.contentDOMWidth=0,this.contentDOMHeight=0,this.editorHeight=0,this.editorWidth=0,this.scrollTop=0,this.scrolledToBottom=!1,this.scaleX=1,this.scaleY=1,this.scrollAnchorPos=0,this.scrollAnchorHeight=-1,this.scaler=d5,this.scrollTarget=null,this.printing=!1,this.mustMeasureContent=!0,this.defaultTextDirection=ch.LTR,this.visibleRanges=[],this.mustEnforceCursorAssoc=!1;let b=a.facet(cR).some(a=>"function"!=typeof a&&"cm-lineWrapping"==a.class);this.heightOracle=new dO(b),this.stateDeco=a.facet(cS).filter(a=>"function"!=typeof a),this.heightMap=dS.empty().applyChanges(this.stateDeco,J.empty,this.heightOracle.setDoc(a.doc),[new c$(0,0,0,a.doc.length)]);for(let a=0;a<2&&(this.viewport=this.getViewport(0,null),this.updateForViewport());a++);this.updateViewportLines(),this.lineGaps=this.ensureLineGaps([]),this.lineGapDeco=b5.set(this.lineGaps.map(a=>a.draw(this,!1))),this.computeVisibleRanges()}updateForViewport(){let a=[this.viewport],{main:b}=this.state.selection;for(let c=0;c<=1;c++){let d=c?b.head:b.anchor;if(!a.some(({from:a,to:b})=>d>=a&&d<=b)){let{from:b,to:c}=this.lineBlockAt(d);a.push(new d2(b,c))}}return this.viewports=a.sort((a,b)=>a.from-b.from),this.updateScaler()}updateScaler(){let a=this.scaler;return this.scaler=this.heightMap.height<=7e6?d5:new d6(this.heightOracle,this.heightMap,this.viewports),2*!a.eq(this.scaler)}updateViewportLines(){this.viewportLines=[],this.heightMap.forEachLine(this.viewport.from,this.viewport.to,this.heightOracle.setDoc(this.state.doc),0,0,a=>{this.viewportLines.push(d7(a,this.scaler))})}update(a,b=null){var c,d;let e;this.state=a.state;let f=this.stateDeco;this.stateDeco=this.state.facet(cS).filter(a=>"function"!=typeof a);let g=a.changedRanges,h=c$.extendWithRanges(g,(c=this.stateDeco,d=a?a.changes:Z.empty(this.state.doc.length),e=new d$,aV.compare(f,c,d,e,0),e.changes)),i=this.heightMap.height,j=this.scrolledToBottom?null:this.scrollAnchorAt(this.scrollTop);dN=!1,this.heightMap=this.heightMap.applyChanges(this.stateDeco,a.startState.doc,this.heightOracle.setDoc(this.state.doc),h),(this.heightMap.height!=i||dN)&&(a.flags|=2),j?(this.scrollAnchorPos=a.changes.mapPos(j.from,-1),this.scrollAnchorHeight=j.top):(this.scrollAnchorPos=-1,this.scrollAnchorHeight=i);let k=h.length?this.mapViewport(this.viewport,a.changes):this.viewport;(b&&(b.range.head<k.from||b.range.head>k.to)||!this.viewportIsAppropriate(k))&&(k=this.getViewport(0,b));let l=k.from!=this.viewport.from||k.to!=this.viewport.to;this.viewport=k,a.flags|=this.updateForViewport(),(l||!a.changes.empty||2&a.flags)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(this.mapLineGaps(this.lineGaps,a.changes))),a.flags|=this.computeVisibleRanges(a.changes),b&&(this.scrollTarget=b),!this.mustEnforceCursorAssoc&&a.selectionSet&&a.view.lineWrapping&&a.state.selection.main.empty&&a.state.selection.main.assoc&&!a.state.facet(cF)&&(this.mustEnforceCursorAssoc=!0)}measure(a){var b;let c,d,e=a.contentDOM,f=window.getComputedStyle(e),g=this.heightOracle,h=f.whiteSpace;this.defaultTextDirection="rtl"==f.direction?ch.RTL:ch.LTR;let i=this.heightOracle.mustRefreshForWrapping(h),j=e.getBoundingClientRect(),k=i||this.mustMeasureContent||this.contentDOMHeight!=j.height;this.contentDOMHeight=j.height,this.mustMeasureContent=!1;let l=0,m=0;if(j.width&&j.height){let{scaleX:a,scaleY:b}=bE(e,j);(a>.005&&Math.abs(this.scaleX-a)>.005||b>.005&&Math.abs(this.scaleY-b)>.005)&&(this.scaleX=a,this.scaleY=b,l|=16,i=k=!0)}let n=(parseInt(f.paddingTop)||0)*this.scaleY,o=(parseInt(f.paddingBottom)||0)*this.scaleY;(this.paddingTop!=n||this.paddingBottom!=o)&&(this.paddingTop=n,this.paddingBottom=o,l|=18),this.editorWidth!=a.scrollDOM.clientWidth&&(g.lineWrapping&&(k=!0),this.editorWidth=a.scrollDOM.clientWidth,l|=16);let p=a.scrollDOM.scrollTop*this.scaleY;this.scrollTop!=p&&(this.scrollAnchorHeight=-1,this.scrollTop=p),this.scrolledToBottom=bL(a.scrollDOM);let q=(this.printing?function(a,b){let c=a.getBoundingClientRect();return{left:0,right:c.right-c.left,top:b,bottom:c.bottom-(c.top+b)}}:function(a,b){let c=a.getBoundingClientRect(),d=a.ownerDocument,e=d.defaultView||window,f=Math.max(0,c.left),g=Math.min(e.innerWidth,c.right),h=Math.max(0,c.top),i=Math.min(e.innerHeight,c.bottom);for(let b=a.parentNode;b&&b!=d.body;)if(1==b.nodeType){let c=b,d=window.getComputedStyle(c);if((c.scrollHeight>c.clientHeight||c.scrollWidth>c.clientWidth)&&"visible"!=d.overflow){let d=c.getBoundingClientRect();f=Math.max(f,d.left),g=Math.min(g,d.right),h=Math.max(h,d.top),i=Math.min(b==a.parentNode?e.innerHeight:i,d.bottom)}b="absolute"==d.position||"fixed"==d.position?c.offsetParent:c.parentNode}else if(11==b.nodeType)b=b.host;else break;return{left:f-c.left,right:Math.max(f,g)-c.left,top:h-(c.top+b),bottom:Math.max(h,i)-(c.top+b)}})(e,this.paddingTop),r=q.top-this.pixelViewport.top,s=q.bottom-this.pixelViewport.bottom;this.pixelViewport=q;let t=this.pixelViewport.bottom>this.pixelViewport.top&&this.pixelViewport.right>this.pixelViewport.left;if(t!=this.inView&&(this.inView=t,t&&(k=!0)),!this.inView&&!this.scrollTarget&&(c=(b=a.dom).getBoundingClientRect(),d=b.ownerDocument.defaultView||window,!(c.left<d.innerWidth)||!(c.right>0)||!(c.top<d.innerHeight)||!(c.bottom>0)))return 0;let u=j.width;if((this.contentDOMWidth!=u||this.editorHeight!=a.scrollDOM.clientHeight)&&(this.contentDOMWidth=j.width,this.editorHeight=a.scrollDOM.clientHeight,l|=16),k){let b=a.docView.measureVisibleLineHeights(this.viewport);if(g.mustRefreshForHeights(b)&&(i=!0),i||g.lineWrapping&&Math.abs(u-this.contentDOMWidth)>g.charWidth){let{lineHeight:c,charWidth:d,textHeight:e}=a.docView.measureTextSize();(i=c>0&&g.refresh(h,c,d,e,Math.max(5,u/d),b))&&(a.docView.minWidth=0,l|=16)}for(let c of(r>0&&s>0?m=Math.max(r,s):r<0&&s<0&&(m=Math.min(r,s)),dN=!1,this.viewports)){let d=c.from==this.viewport.from?b:a.docView.measureVisibleLineHeights(c);this.heightMap=(i?dS.empty().applyChanges(this.stateDeco,J.empty,this.heightOracle,[new c$(0,0,0,a.state.doc.length)]):this.heightMap).updateHeight(g,0,i,new dP(c.from,d))}dN&&(l|=2)}let v=!this.viewportIsAppropriate(this.viewport,m)||this.scrollTarget&&(this.scrollTarget.range.head<this.viewport.from||this.scrollTarget.range.head>this.viewport.to);return v&&(2&l&&(l|=this.updateScaler()),this.viewport=this.getViewport(m,this.scrollTarget),l|=this.updateForViewport()),(2&l||v)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(i?[]:this.lineGaps,a)),l|=this.computeVisibleRanges(),this.mustEnforceCursorAssoc&&(this.mustEnforceCursorAssoc=!1,a.docView.enforceCursorAssoc()),l}get visibleTop(){return this.scaler.fromDOM(this.pixelViewport.top)}get visibleBottom(){return this.scaler.fromDOM(this.pixelViewport.bottom)}getViewport(a,b){let c=.5-Math.max(-.5,Math.min(.5,a/1e3/2)),d=this.heightMap,e=this.heightOracle,{visibleTop:f,visibleBottom:g}=this,h=new d2(d.lineAt(f-1e3*c,dR.ByHeight,e,0,0).from,d.lineAt(g+(1-c)*1e3,dR.ByHeight,e,0,0).to);if(b){let{head:a}=b.range;if(a<h.from||a>h.to){let c=Math.min(this.editorHeight,this.pixelViewport.bottom-this.pixelViewport.top),f=d.lineAt(a,dR.ByPos,e,0,0),g;g="center"==b.y?(f.top+f.bottom)/2-c/2:"start"==b.y||"nearest"==b.y&&a<h.from?f.top:f.bottom-c,h=new d2(d.lineAt(g-500,dR.ByHeight,e,0,0).from,d.lineAt(g+c+500,dR.ByHeight,e,0,0).to)}}return h}mapViewport(a,b){let c=b.mapPos(a.from,-1),d=b.mapPos(a.to,1);return new d2(this.heightMap.lineAt(c,dR.ByPos,this.heightOracle,0,0).from,this.heightMap.lineAt(d,dR.ByPos,this.heightOracle,0,0).to)}viewportIsAppropriate({from:a,to:b},c=0){if(!this.inView)return!0;let{top:d}=this.heightMap.lineAt(a,dR.ByPos,this.heightOracle,0,0),{bottom:e}=this.heightMap.lineAt(b,dR.ByPos,this.heightOracle,0,0),{visibleTop:f,visibleBottom:g}=this;return(0==a||d<=f-Math.max(10,Math.min(-c,250)))&&(b==this.state.doc.length||e>=g+Math.max(10,Math.min(c,250)))&&d>f-2e3&&e<g+2e3}mapLineGaps(a,b){if(!a.length||b.empty)return a;let c=[];for(let d of a)b.touchesRange(d.from,d.to)||c.push(new d_(b.mapPos(d.from),b.mapPos(d.to),d.size,d.displaySize));return c}ensureLineGaps(a,b){let c=this.heightOracle.lineWrapping,d=c?1e4:2e3,e=d>>1,f=d<<1;if(this.defaultTextDirection!=ch.LTR&&!c)return[];let g=[],h=(d,f,i,j)=>{if(f-d<e)return;let k=this.state.selection.main,l=[k.from];for(let a of(k.empty||l.push(k.to),l))if(a>d&&a<f){h(d,a-10,i,j),h(a+10,f,i,j);return}let m=function(a,b){for(let c of a)if(b(c))return c}(a,a=>a.from>=i.from&&a.to<=i.to&&Math.abs(a.from-d)<e&&Math.abs(a.to-f)<e&&!l.some(b=>a.from<b&&a.to>b));if(!m){if(f<i.to&&b&&c&&b.visibleRanges.some(a=>a.from<=f&&a.to>=f)){let a=b.moveToLineBoundary(af.cursor(f),!1,!0).head;a>d&&(f=a)}let a=this.gapSize(i,d,f,j),e=c||a<2e6?a:2e6;m=new d_(d,f,a,e)}g.push(m)},i=b=>{var e,g,i;let j,k,l,m,n;if(b.length<f||b.type!=b4.Text)return;let o=(e=b.from,g=b.to,i=this.stateDeco,l=[],m=e,n=0,aV.spans(i,e,g,{span(){},point(a,b){a>m&&(l.push({from:m,to:a}),n+=a-m),m=b}},20),m<g&&(l.push({from:m,to:g}),n+=g-m),{total:n,ranges:l});if(o.total<f)return;let p=this.scrollTarget?this.scrollTarget.range.head:null;if(c){let a,c,e=d/this.heightOracle.lineLength*this.heightOracle.lineHeight;if(null!=p){let d=d4(o,p),f=((this.visibleBottom-this.visibleTop)/2+e)/b.height;a=d-f,c=d+f}else a=(this.visibleTop-b.top-e)/b.height,c=(this.visibleBottom-b.top+e)/b.height;j=d3(o,a),k=d3(o,c)}else{let c,e,f=o.total*this.heightOracle.charWidth,g=d*this.heightOracle.charWidth,h=0;if(f>2e6)for(let c of a)c.from>=b.from&&c.from<b.to&&c.size!=c.displaySize&&c.from*this.heightOracle.charWidth+h<this.pixelViewport.left&&(h=c.size-c.displaySize);let i=this.pixelViewport.left+h,l=this.pixelViewport.right+h;if(null!=p){let a=d4(o,p),b=((l-i)/2+g)/f;c=a-b,e=a+b}else c=(i-g)/f,e=(l+g)/f;j=d3(o,c),k=d3(o,e)}j>b.from&&h(b.from,j,b,o),k<b.to&&h(k,b.to,b,o)};for(let a of this.viewportLines)Array.isArray(a.type)?a.type.forEach(i):i(a);return g}gapSize(a,b,c,d){let e=d4(d,c)-d4(d,b);return this.heightOracle.lineWrapping?a.height*e:d.total*this.heightOracle.charWidth*e}updateLineGaps(a){d_.same(a,this.lineGaps)||(this.lineGaps=a,this.lineGapDeco=b5.set(a.map(a=>a.draw(this,this.heightOracle.lineWrapping))))}computeVisibleRanges(a){let b=this.stateDeco;this.lineGaps.length&&(b=b.concat(this.lineGapDeco));let c=[];aV.spans(b,this.viewport.from,this.viewport.to,{span(a,b){c.push({from:a,to:b})},point(){}},20);let d=0;if(c.length!=this.visibleRanges.length)d=12;else for(let b=0;b<c.length&&!(8&d);b++){let e=this.visibleRanges[b],f=c[b];(e.from!=f.from||e.to!=f.to)&&(d|=4,a&&a.mapPos(e.from,-1)==f.from&&a.mapPos(e.to,1)==f.to||(d|=8))}return this.visibleRanges=c,d}lineBlockAt(a){return a>=this.viewport.from&&a<=this.viewport.to&&this.viewportLines.find(b=>b.from<=a&&b.to>=a)||d7(this.heightMap.lineAt(a,dR.ByPos,this.heightOracle,0,0),this.scaler)}lineBlockAtHeight(a){return a>=this.viewportLines[0].top&&a<=this.viewportLines[this.viewportLines.length-1].bottom&&this.viewportLines.find(b=>b.top<=a&&b.bottom>=a)||d7(this.heightMap.lineAt(this.scaler.fromDOM(a),dR.ByHeight,this.heightOracle,0,0),this.scaler)}scrollAnchorAt(a){let b=this.lineBlockAtHeight(a+8);return b.from>=this.viewport.from||this.viewportLines[0].top-a>200?b:this.viewportLines[0]}elementAtHeight(a){return d7(this.heightMap.blockAt(this.scaler.fromDOM(a),this.heightOracle,0,0),this.scaler)}get docHeight(){return this.scaler.toDOM(this.heightMap.height)}get contentHeight(){return this.docHeight+this.paddingTop+this.paddingBottom}}class d2{constructor(a,b){this.from=a,this.to=b}}function d3({total:a,ranges:b},c){if(c<=0)return b[0].from;if(c>=1)return b[b.length-1].to;let d=Math.floor(a*c);for(let a=0;;a++){let{from:c,to:e}=b[a],f=e-c;if(d<=f)return c+d;d-=f}}function d4(a,b){let c=0;for(let{from:d,to:e}of a.ranges){if(b<=e){c+=b-d;break}c+=e-d}return c/a.total}let d5={toDOM:a=>a,fromDOM:a=>a,scale:1,eq(a){return a==this}};class d6{constructor(a,b,c){let d=0,e=0,f=0;for(let g of(this.viewports=c.map(({from:c,to:e})=>{let f=b.lineAt(c,dR.ByPos,a,0,0).top,g=b.lineAt(e,dR.ByPos,a,0,0).bottom;return d+=g-f,{from:c,to:e,top:f,bottom:g,domTop:0,domBottom:0}}),this.scale=(7e6-d)/(b.height-d),this.viewports))g.domTop=f+(g.top-e)*this.scale,f=g.domBottom=g.domTop+(g.bottom-g.top),e=g.bottom}toDOM(a){for(let b=0,c=0,d=0;;b++){let e=b<this.viewports.length?this.viewports[b]:null;if(!e||a<e.top)return d+(a-c)*this.scale;if(a<=e.bottom)return e.domTop+(a-e.top);c=e.bottom,d=e.domBottom}}fromDOM(a){for(let b=0,c=0,d=0;;b++){let e=b<this.viewports.length?this.viewports[b]:null;if(!e||a<e.domTop)return c+(a-d)/this.scale;if(a<=e.domBottom)return e.top+(a-e.domTop);c=e.bottom,d=e.domBottom}}eq(a){return a instanceof d6&&this.scale==a.scale&&this.viewports.length==a.viewports.length&&this.viewports.every((b,c)=>b.from==a.viewports[c].from&&b.to==a.viewports[c].to)}}function d7(a,b){if(1==b.scale)return a;let c=b.toDOM(a.top),d=b.toDOM(a.bottom);return new dQ(a.from,a.length,c,d-c,Array.isArray(a._content)?a._content.map(a=>d7(a,b)):a._content)}let d8=ai.define({combine:a=>a.join(" ")}),d9=ai.define({combine:a=>a.indexOf(!0)>-1}),ea=a9.newName(),eb=a9.newName(),ec=a9.newName(),ed={"&light":"."+eb,"&dark":"."+ec};function ee(a,b,c){return new a9(b,{finish:b=>/&/.test(b)?b.replace(/&\w*/,b=>{if("&"==b)return a;if(!c||!c[b])throw RangeError(`Unsupported selector: ${b}`);return c[b]}):a+" "+b})}let ef=ee("."+ea,{"&":{position:"relative !important",boxSizing:"border-box","&.cm-focused":{outline:"1px dotted #212121"},display:"flex !important",flexDirection:"column"},".cm-scroller":{display:"flex !important",alignItems:"flex-start !important",fontFamily:"monospace",lineHeight:1.4,height:"100%",overflowX:"auto",position:"relative",zIndex:0,overflowAnchor:"none"},".cm-content":{margin:0,flexGrow:2,flexShrink:0,display:"block",whiteSpace:"pre",wordWrap:"normal",boxSizing:"border-box",minHeight:"100%",padding:"4px 0",outline:"none","&[contenteditable=true]":{WebkitUserModify:"read-write-plaintext-only"}},".cm-lineWrapping":{whiteSpace_fallback:"pre-wrap",whiteSpace:"break-spaces",wordBreak:"break-word",overflowWrap:"anywhere",flexShrink:1},"&light .cm-content":{caretColor:"black"},"&dark .cm-content":{caretColor:"white"},".cm-line":{display:"block",padding:"0 2px 0 6px"},".cm-layer":{position:"absolute",left:0,top:0,contain:"size style","& > *":{position:"absolute"}},"&light .cm-selectionBackground":{background:"#d9d9d9"},"&dark .cm-selectionBackground":{background:"#222"},"&light.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#d7d4f0"},"&dark.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#233"},".cm-cursorLayer":{pointerEvents:"none"},"&.cm-focused > .cm-scroller > .cm-cursorLayer":{animation:"steps(1) cm-blink 1.2s infinite"},"@keyframes cm-blink":{"0%":{},"50%":{opacity:0},"100%":{}},"@keyframes cm-blink2":{"0%":{},"50%":{opacity:0},"100%":{}},".cm-cursor, .cm-dropCursor":{borderLeft:"1.2px solid black",marginLeft:"-0.6px",pointerEvents:"none"},".cm-cursor":{display:"none"},"&dark .cm-cursor":{borderLeftColor:"#ddd"},".cm-dropCursor":{position:"absolute"},"&.cm-focused > .cm-scroller > .cm-cursorLayer .cm-cursor":{display:"block"},".cm-iso":{unicodeBidi:"isolate"},".cm-announced":{position:"fixed",top:"-10000px"},"@media print":{".cm-announced":{display:"none"}},"&light .cm-activeLine":{backgroundColor:"#cceeff44"},"&dark .cm-activeLine":{backgroundColor:"#99eeff33"},"&light .cm-specialChar":{color:"red"},"&dark .cm-specialChar":{color:"#f78"},".cm-gutters":{flexShrink:0,display:"flex",height:"100%",boxSizing:"border-box",zIndex:200},".cm-gutters-before":{insetInlineStart:0},".cm-gutters-after":{insetInlineEnd:0},"&light .cm-gutters":{backgroundColor:"#f5f5f5",color:"#6c6c6c",border:"0px solid #ddd","&.cm-gutters-before":{borderRightWidth:"1px"},"&.cm-gutters-after":{borderLeftWidth:"1px"}},"&dark .cm-gutters":{backgroundColor:"#333338",color:"#ccc"},".cm-gutter":{display:"flex !important",flexDirection:"column",flexShrink:0,boxSizing:"border-box",minHeight:"100%",overflow:"hidden"},".cm-gutterElement":{boxSizing:"border-box"},".cm-lineNumbers .cm-gutterElement":{padding:"0 3px 0 5px",minWidth:"20px",textAlign:"right",whiteSpace:"nowrap"},"&light .cm-activeLineGutter":{backgroundColor:"#e2f2ff"},"&dark .cm-activeLineGutter":{backgroundColor:"#222227"},".cm-panels":{boxSizing:"border-box",position:"sticky",left:0,right:0,zIndex:300},"&light .cm-panels":{backgroundColor:"#f5f5f5",color:"black"},"&light .cm-panels-top":{borderBottom:"1px solid #ddd"},"&light .cm-panels-bottom":{borderTop:"1px solid #ddd"},"&dark .cm-panels":{backgroundColor:"#333338",color:"white"},".cm-dialog":{padding:"2px 19px 4px 6px",position:"relative","& label":{fontSize:"80%"}},".cm-dialog-close":{position:"absolute",top:"3px",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",fontSize:"14px",padding:"0"},".cm-tab":{display:"inline-block",overflow:"hidden",verticalAlign:"bottom"},".cm-widgetBuffer":{verticalAlign:"text-top",height:"1em",width:0,display:"inline"},".cm-placeholder":{color:"#888",display:"inline-block",verticalAlign:"top",userSelect:"none"},".cm-highlightSpace":{backgroundImage:"radial-gradient(circle at 50% 55%, #aaa 20%, transparent 5%)",backgroundPosition:"center"},".cm-highlightTab":{backgroundImage:'url(\'data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="200" height="20"><path stroke="%23888" stroke-width="1" fill="none" d="M1 10H196L190 5M190 15L196 10M197 4L197 16"/></svg>\')',backgroundSize:"auto 100%",backgroundPosition:"right 90%",backgroundRepeat:"no-repeat"},".cm-trailingSpace":{backgroundColor:"#ff332255"},".cm-button":{verticalAlign:"middle",color:"inherit",fontSize:"70%",padding:".2em 1em",borderRadius:"1px"},"&light .cm-button":{backgroundImage:"linear-gradient(#eff1f5, #d9d9df)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#b4b4b4, #d0d3d6)"}},"&dark .cm-button":{backgroundImage:"linear-gradient(#393939, #111)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#111, #333)"}},".cm-textfield":{verticalAlign:"middle",color:"inherit",fontSize:"70%",border:"1px solid silver",padding:".2em .5em"},"&light .cm-textfield":{backgroundColor:"white"},"&dark .cm-textfield":{border:"1px solid #555",backgroundColor:"inherit"}},ed),eg={childList:!0,characterData:!0,subtree:!0,attributes:!0,characterDataOldValue:!0},eh=bt.ie&&bt.ie_version<=11;class ei{constructor(a){this.view=a,this.active=!1,this.editContext=null,this.selectionRange=new bF,this.selectionChanged=!1,this.delayedFlush=-1,this.resizeTimeout=-1,this.queue=[],this.delayedAndroidKey=null,this.flushingAndroidKey=-1,this.lastChange=0,this.scrollTargets=[],this.intersection=null,this.resizeScroll=null,this.intersecting=!1,this.gapIntersection=null,this.gaps=[],this.printQuery=null,this.parentCheck=-1,this.dom=a.contentDOM,this.observer=new MutationObserver(b=>{for(let a of b)this.queue.push(a);(bt.ie&&bt.ie_version<=11||bt.ios&&a.composing)&&b.some(a=>"childList"==a.type&&a.removedNodes.length||"characterData"==a.type&&a.oldValue.length>a.target.nodeValue.length)?this.flushSoon():this.flush()}),window.EditContext&&bt.android&&!1!==a.constructor.EDIT_CONTEXT&&!(bt.chrome&&bt.chrome_version<126)&&(this.editContext=new el(a),a.state.facet(cL)&&(a.contentDOM.editContext=this.editContext.editContext)),eh&&(this.onCharData=a=>{this.queue.push({target:a.target,type:"characterData",oldValue:a.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this),this.onResize=this.onResize.bind(this),this.onPrint=this.onPrint.bind(this),this.onScroll=this.onScroll.bind(this),window.matchMedia&&(this.printQuery=window.matchMedia("print")),"function"==typeof ResizeObserver&&(this.resizeScroll=new ResizeObserver(()=>{var a;(null==(a=this.view.docView)?void 0:a.lastUpdate)<Date.now()-75&&this.onResize()}),this.resizeScroll.observe(a.scrollDOM)),this.addWindowListeners(this.win=a.win),this.start(),"function"==typeof IntersectionObserver&&(this.intersection=new IntersectionObserver(a=>{this.parentCheck<0&&(this.parentCheck=setTimeout(this.listenForScroll.bind(this),1e3)),a.length>0&&a[a.length-1].intersectionRatio>0!=this.intersecting&&(this.intersecting=!this.intersecting,this.intersecting!=this.view.inView&&this.onScrollChanged(document.createEvent("Event")))},{threshold:[0,.001]}),this.intersection.observe(this.dom),this.gapIntersection=new IntersectionObserver(a=>{a.length>0&&a[a.length-1].intersectionRatio>0&&this.onScrollChanged(document.createEvent("Event"))},{})),this.listenForScroll(),this.readSelectionRange()}onScrollChanged(a){this.view.inputState.runHandlers("scroll",a),this.intersecting&&this.view.measure()}onScroll(a){this.intersecting&&this.flush(!1),this.editContext&&this.view.requestMeasure(this.editContext.measureReq),this.onScrollChanged(a)}onResize(){this.resizeTimeout<0&&(this.resizeTimeout=setTimeout(()=>{this.resizeTimeout=-1,this.view.requestMeasure()},50))}onPrint(a){("change"!=a.type&&a.type||a.matches)&&(this.view.viewState.printing=!0,this.view.measure(),setTimeout(()=>{this.view.viewState.printing=!1,this.view.requestMeasure()},500))}updateGaps(a){if(this.gapIntersection&&(a.length!=this.gaps.length||this.gaps.some((b,c)=>b!=a[c]))){for(let b of(this.gapIntersection.disconnect(),a))this.gapIntersection.observe(b);this.gaps=a}}onSelectionChange(a){let b=this.selectionChanged;if(!this.readSelectionRange()||this.delayedAndroidKey)return;let{view:c}=this,d=this.selectionRange;if(c.state.facet(cL)?c.root.activeElement!=this.dom:!bw(this.dom,d))return;let e=d.anchorNode&&c.docView.nearest(d.anchorNode);if(e&&e.ignoreEvent(a)){b||(this.selectionChanged=!1);return}(bt.ie&&bt.ie_version<=11||bt.android&&bt.chrome)&&!c.state.selection.main.empty&&d.focusNode&&by(d.focusNode,d.focusOffset,d.anchorNode,d.anchorOffset)?this.flushSoon():this.flush(!1)}readSelectionRange(){let{view:a}=this,b=bu(a.root);if(!b)return!1;let c=bt.safari&&11==a.root.nodeType&&a.root.activeElement==this.dom&&function(a,b){if(b.getComposedRanges){let c=b.getComposedRanges(a.root)[0];if(c)return ek(a,c)}let c=null;function d(a){a.preventDefault(),a.stopImmediatePropagation(),c=a.getTargetRanges()[0]}return a.contentDOM.addEventListener("beforeinput",d,!0),a.dom.ownerDocument.execCommand("indent"),a.contentDOM.removeEventListener("beforeinput",d,!0),c?ek(a,c):null}(this.view,b)||b;if(!c||this.selectionRange.eq(c))return!1;let d=bw(this.dom,c);return d&&!this.selectionChanged&&a.inputState.lastFocusTime>Date.now()-200&&a.inputState.lastTouchTime<Date.now()-300&&function(a,b){let c=b.focusNode,d=b.focusOffset;if(!c||b.anchorNode!=c||b.anchorOffset!=d)return!1;for(d=Math.min(d,bC(c));;)if(d){if(1!=c.nodeType)return!1;let a=c.childNodes[d-1];"false"==a.contentEditable?d--:d=bC(c=a)}else{if(c==a)return!0;d=bz(c),c=c.parentNode}}(this.dom,c)?(this.view.inputState.lastFocusTime=0,a.docView.updateSelection(),!1):(this.selectionRange.setRange(c),d&&(this.selectionChanged=!0),!0)}setSelectionRange(a,b){this.selectionRange.set(a.node,a.offset,b.node,b.offset),this.selectionChanged=!1}clearSelectionRange(){this.selectionRange.set(null,0,null,0)}listenForScroll(){this.parentCheck=-1;let a=0,b=null;for(let c=this.dom;c;)if(1==c.nodeType)!b&&a<this.scrollTargets.length&&this.scrollTargets[a]==c?a++:b||(b=this.scrollTargets.slice(0,a)),b&&b.push(c),c=c.assignedSlot||c.parentNode;else if(11==c.nodeType)c=c.host;else break;if(a<this.scrollTargets.length&&!b&&(b=this.scrollTargets.slice(0,a)),b){for(let a of this.scrollTargets)a.removeEventListener("scroll",this.onScroll);for(let a of this.scrollTargets=b)a.addEventListener("scroll",this.onScroll)}}ignore(a){if(!this.active)return a();try{return this.stop(),a()}finally{this.start(),this.clear()}}start(){this.active||(this.observer.observe(this.dom,eg),eh&&this.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.active=!0)}stop(){this.active&&(this.active=!1,this.observer.disconnect(),eh&&this.dom.removeEventListener("DOMCharacterDataModified",this.onCharData))}clear(){this.processRecords(),this.queue.length=0,this.selectionChanged=!1}delayAndroidKey(a,b){var c;if(!this.delayedAndroidKey){let a=()=>{let a=this.delayedAndroidKey;a&&(this.clearDelayedAndroidKey(),this.view.inputState.lastKeyCode=a.keyCode,this.view.inputState.lastKeyTime=Date.now(),!this.flush()&&a.force&&bJ(this.dom,a.key,a.keyCode))};this.flushingAndroidKey=this.view.win.requestAnimationFrame(a)}this.delayedAndroidKey&&"Enter"!=a||(this.delayedAndroidKey={key:a,keyCode:b,force:this.lastChange<Date.now()-50||!!(null==(c=this.delayedAndroidKey)?void 0:c.force)})}clearDelayedAndroidKey(){this.win.cancelAnimationFrame(this.flushingAndroidKey),this.delayedAndroidKey=null,this.flushingAndroidKey=-1}flushSoon(){this.delayedFlush<0&&(this.delayedFlush=this.view.win.requestAnimationFrame(()=>{this.delayedFlush=-1,this.flush()}))}forceFlush(){this.delayedFlush>=0&&(this.view.win.cancelAnimationFrame(this.delayedFlush),this.delayedFlush=-1),this.flush()}pendingRecords(){for(let a of this.observer.takeRecords())this.queue.push(a);return this.queue}processRecords(){let a=this.pendingRecords();a.length&&(this.queue=[]);let b=-1,c=-1,d=!1;for(let e of a){let a=this.readMutation(e);a&&(a.typeOver&&(d=!0),-1==b?{from:b,to:c}=a:(b=Math.min(a.from,b),c=Math.max(a.to,c)))}return{from:b,to:c,typeOver:d}}readChange(){let{from:a,to:b,typeOver:c}=this.processRecords(),d=this.selectionChanged&&bw(this.dom,this.selectionRange);if(a<0&&!d)return null;a>-1&&(this.lastChange=Date.now()),this.view.inputState.lastFocusTime=0,this.selectionChanged=!1;let e=new dh(this.view,a,b,c);return this.view.docView.domChanged={newSel:e.newSel?e.newSel.main:null},e}flush(a=!0){if(this.delayedFlush>=0||this.delayedAndroidKey)return!1;a&&this.readSelectionRange();let b=this.readChange();if(!b)return this.view.requestMeasure(),!1;let c=this.view.state,d=di(this.view,b);return this.view.state==c&&(b.domChanged||b.newSel&&!b.newSel.main.eq(this.view.state.selection.main))&&this.view.update([]),d}readMutation(a){let b=this.view.docView.nearest(a.target);if(!b||b.ignoreMutation(a))return null;if(b.markDirty("attributes"==a.type),"attributes"==a.type&&(b.flags|=4),"childList"==a.type){let c=ej(b,a.previousSibling||a.target.previousSibling,-1),d=ej(b,a.nextSibling||a.target.nextSibling,1);return{from:c?b.posAfter(c):b.posAtStart,to:d?b.posBefore(d):b.posAtEnd,typeOver:!1}}return"characterData"==a.type?{from:b.posAtStart,to:b.posAtEnd,typeOver:a.target.nodeValue==a.oldValue}:null}setWindow(a){a!=this.win&&(this.removeWindowListeners(this.win),this.win=a,this.addWindowListeners(this.win))}addWindowListeners(a){a.addEventListener("resize",this.onResize),this.printQuery?this.printQuery.addEventListener?this.printQuery.addEventListener("change",this.onPrint):this.printQuery.addListener(this.onPrint):a.addEventListener("beforeprint",this.onPrint),a.addEventListener("scroll",this.onScroll),a.document.addEventListener("selectionchange",this.onSelectionChange)}removeWindowListeners(a){a.removeEventListener("scroll",this.onScroll),a.removeEventListener("resize",this.onResize),this.printQuery?this.printQuery.removeEventListener?this.printQuery.removeEventListener("change",this.onPrint):this.printQuery.removeListener(this.onPrint):a.removeEventListener("beforeprint",this.onPrint),a.document.removeEventListener("selectionchange",this.onSelectionChange)}update(a){this.editContext&&(this.editContext.update(a),a.startState.facet(cL)!=a.state.facet(cL)&&(a.view.contentDOM.editContext=a.state.facet(cL)?this.editContext.editContext:null))}destroy(){var a,b,c;for(let d of(this.stop(),null==(a=this.intersection)||a.disconnect(),null==(b=this.gapIntersection)||b.disconnect(),null==(c=this.resizeScroll)||c.disconnect(),this.scrollTargets))d.removeEventListener("scroll",this.onScroll);this.removeWindowListeners(this.win),clearTimeout(this.parentCheck),clearTimeout(this.resizeTimeout),this.win.cancelAnimationFrame(this.delayedFlush),this.win.cancelAnimationFrame(this.flushingAndroidKey),this.editContext&&(this.view.contentDOM.editContext=null,this.editContext.destroy())}}function ej(a,b,c){for(;b;){let d=bQ.get(b);if(d&&d.parent==a)return d;let e=b.parentNode;b=e!=a.dom?e:c>0?b.nextSibling:b.previousSibling}return null}function ek(a,b){let c=b.startContainer,d=b.startOffset,e=b.endContainer,f=b.endOffset,g=a.docView.domAtPos(a.state.selection.main.anchor);return by(g.node,g.offset,e,f)&&([c,d,e,f]=[e,f,c,d]),{anchorNode:c,anchorOffset:d,focusNode:e,focusOffset:f}}class el{constructor(a){this.from=0,this.to=0,this.pendingContextChange=null,this.handlers=Object.create(null),this.composing=null,this.resetRange(a.state);let b=this.editContext=new window.EditContext({text:a.state.doc.sliceString(this.from,this.to),selectionStart:this.toContextPos(Math.max(this.from,Math.min(this.to,a.state.selection.main.anchor))),selectionEnd:this.toContextPos(a.state.selection.main.head)});for(let c in this.handlers.textupdate=c=>{let d=a.state.selection.main,{anchor:e,head:f}=d,g=this.toEditorPos(c.updateRangeStart),h=this.toEditorPos(c.updateRangeEnd);a.inputState.composing>=0&&!this.composing&&(this.composing={contextBase:c.updateRangeStart,editorBase:g,drifted:!1});let i=h-g>c.text.length;g==this.from&&e<this.from?g=e:h==this.to&&e>this.to&&(h=e);let j=dk(a.state.sliceDoc(g,h),c.text,(i?d.from:d.to)-g,i?"end":null);if(!j){let b=af.single(this.toEditorPos(c.selectionStart),this.toEditorPos(c.selectionEnd));b.main.eq(d)||a.dispatch({selection:b,userEvent:"select"});return}let k={from:j.from+g,to:j.toA+g,insert:J.of(c.text.slice(j.from,j.toB).split("\n"))};if((bt.mac||bt.android)&&k.from==f-1&&/^\. ?$/.test(c.text)&&"off"==a.contentDOM.getAttribute("autocorrect")&&(k={from:g,to:h,insert:J.of([c.text.replace("."," ")])}),this.pendingContextChange=k,!a.state.readOnly){let b=this.to-this.from+(k.to-k.from+k.insert.length);dj(a,k,af.single(this.toEditorPos(c.selectionStart,b),this.toEditorPos(c.selectionEnd,b)))}this.pendingContextChange&&(this.revertPending(a.state),this.setSelection(a.state)),k.from<k.to&&!k.insert.length&&a.inputState.composing>=0&&!/[\\p{Alphabetic}\\p{Number}_]/.test(b.text.slice(Math.max(0,c.updateRangeStart-1),Math.min(b.text.length,c.updateRangeStart+1)))&&this.handlers.compositionend(c)},this.handlers.characterboundsupdate=c=>{let d=[],e=null;for(let b=this.toEditorPos(c.rangeStart),f=this.toEditorPos(c.rangeEnd);b<f;b++){let c=a.coordsForChar(b);e=c&&new DOMRect(c.left,c.top,c.right-c.left,c.bottom-c.top)||e||new DOMRect,d.push(e)}b.updateCharacterBounds(c.rangeStart,d)},this.handlers.textformatupdate=b=>{let c=[];for(let a of b.getTextFormats()){let b=a.underlineStyle,d=a.underlineThickness;if(!/none/i.test(b)&&!/none/i.test(d)){let e=this.toEditorPos(a.rangeStart),f=this.toEditorPos(a.rangeEnd);if(e<f){let a=`text-decoration: underline ${/^[a-z]/.test(b)?b+" ":"Dashed"==b?"dashed ":"Squiggle"==b?"wavy ":""}${/thin/i.test(d)?1:2}px`;c.push(b5.mark({attributes:{style:a}}).range(e,f))}}}a.dispatch({effects:cJ.of(b5.set(c))})},this.handlers.compositionstart=()=>{a.inputState.composing<0&&(a.inputState.composing=0,a.inputState.compositionFirstChange=!0)},this.handlers.compositionend=()=>{if(a.inputState.composing=-1,a.inputState.compositionFirstChange=null,this.composing){let{drifted:b}=this.composing;this.composing=null,b&&this.reset(a.state)}},this.handlers)b.addEventListener(c,this.handlers[c]);this.measureReq={read:a=>{this.editContext.updateControlBounds(a.contentDOM.getBoundingClientRect());let b=bu(a.root);b&&b.rangeCount&&this.editContext.updateSelectionBounds(b.getRangeAt(0).getBoundingClientRect())}}}applyEdits(a){let b=0,c=!1,d=this.pendingContextChange;return a.changes.iterChanges((e,f,g,h,i)=>{if(c)return;let j=i.length-(f-e);if(d&&f>=d.to)if(d.from==e&&d.to==f&&d.insert.eq(i)){d=this.pendingContextChange=null,b+=j,this.to+=j;return}else d=null,this.revertPending(a.state);if(e+=b,(f+=b)<=this.from)this.from+=j,this.to+=j;else if(e<this.to){if(e<this.from||f>this.to||this.to-this.from+i.length>3e4){c=!0;return}this.editContext.updateText(this.toContextPos(e),this.toContextPos(f),i.toString()),this.to+=j}b+=j}),d&&!c&&this.revertPending(a.state),!c}update(a){let b=this.pendingContextChange,c=a.startState.selection.main;this.composing&&(this.composing.drifted||!a.changes.touchesRange(c.from,c.to)&&a.transactions.some(a=>!a.isUserEvent("input.type")&&a.changes.touchesRange(this.from,this.to)))?(this.composing.drifted=!0,this.composing.editorBase=a.changes.mapPos(this.composing.editorBase)):this.applyEdits(a)&&this.rangeIsValid(a.state)?(a.docChanged||a.selectionSet||b)&&this.setSelection(a.state):(this.pendingContextChange=null,this.reset(a.state)),(a.geometryChanged||a.docChanged||a.selectionSet)&&a.view.requestMeasure(this.measureReq)}resetRange(a){let{head:b}=a.selection.main;this.from=Math.max(0,b-1e4),this.to=Math.min(a.doc.length,b+1e4)}reset(a){this.resetRange(a),this.editContext.updateText(0,this.editContext.text.length,a.doc.sliceString(this.from,this.to)),this.setSelection(a)}revertPending(a){let b=this.pendingContextChange;this.pendingContextChange=null,this.editContext.updateText(this.toContextPos(b.from),this.toContextPos(b.from+b.insert.length),a.doc.sliceString(b.from,b.to))}setSelection(a){let{main:b}=a.selection,c=this.toContextPos(Math.max(this.from,Math.min(this.to,b.anchor))),d=this.toContextPos(b.head);(this.editContext.selectionStart!=c||this.editContext.selectionEnd!=d)&&this.editContext.updateSelection(c,d)}rangeIsValid(a){let{head:b}=a.selection.main;return!(this.from>0&&b-this.from<500||this.to<a.doc.length&&this.to-b<500||this.to-this.from>3e4)}toEditorPos(a,b=this.to-this.from){a=Math.min(a,b);let c=this.composing;return c&&c.drifted?c.editorBase+(a-c.contextBase):a+this.from}toContextPos(a){let b=this.composing;return b&&b.drifted?b.contextBase+(a-b.editorBase):a-this.from}destroy(){for(let a in this.handlers)this.editContext.removeEventListener(a,this.handlers[a])}}class em{get state(){return this.viewState.state}get viewport(){return this.viewState.viewport}get visibleRanges(){return this.viewState.visibleRanges}get inView(){return this.viewState.inView}get composing(){return!!this.inputState&&this.inputState.composing>0}get compositionStarted(){return!!this.inputState&&this.inputState.composing>=0}get root(){return this._root}get win(){return this.dom.ownerDocument.defaultView||window}constructor(a={}){var b;this.plugins=[],this.pluginMap=new Map,this.editorAttrs={},this.contentAttrs={},this.bidiCache=[],this.destroyed=!1,this.updateState=2,this.measureScheduled=-1,this.measureRequests=[],this.contentDOM=document.createElement("div"),this.scrollDOM=document.createElement("div"),this.scrollDOM.tabIndex=-1,this.scrollDOM.className="cm-scroller",this.scrollDOM.appendChild(this.contentDOM),this.announceDOM=document.createElement("div"),this.announceDOM.className="cm-announced",this.announceDOM.setAttribute("aria-live","polite"),this.dom=document.createElement("div"),this.dom.appendChild(this.announceDOM),this.dom.appendChild(this.scrollDOM),a.parent&&a.parent.appendChild(this.dom);let{dispatch:c}=a;for(let b of(this.dispatchTransactions=a.dispatchTransactions||c&&(a=>a.forEach(a=>c(a,this)))||(a=>this.update(a)),this.dispatch=this.dispatch.bind(this),this._root=a.root||function(a){for(;a;){if(a&&(9==a.nodeType||11==a.nodeType&&a.host))return a;a=a.assignedSlot||a.parentNode}return null}(a.parent)||document,this.viewState=new d1(a.state||aP.create(a)),a.scrollTo&&a.scrollTo.is(cI)&&(this.viewState.scrollTarget=a.scrollTo.value.clip(this.viewState.state)),this.plugins=this.state.facet(cN).map(a=>new cP(a)),this.plugins))b.update(this);this.observer=new ei(this),this.inputState=new dl(this),this.inputState.ensureHandlers(this.plugins),this.docView=new c0(this),this.mountStyles(),this.updateAttrs(),this.updateState=0,this.requestMeasure(),(null==(b=document.fonts)?void 0:b.ready)&&document.fonts.ready.then(()=>this.requestMeasure())}dispatch(...a){let b=1==a.length&&a[0]instanceof aI?a:1==a.length&&Array.isArray(a[0])?a[0]:[this.state.update(...a)];this.dispatchTransactions(b,this)}update(a){if(0!=this.updateState)throw Error("Calls to EditorView.update are not allowed while an update is in progress");let b=!1,c=!1,d,e=this.state;for(let b of a){if(b.startState!=e)throw RangeError("Trying to update state with a transaction that doesn't start from the previous state.");e=b.state}if(this.destroyed){this.viewState.state=e;return}let f=this.hasFocus,g=0,h=null;a.some(a=>a.annotation(dI))?(this.inputState.notifiedFocused=f,g=1):f!=this.inputState.notifiedFocused&&(this.inputState.notifiedFocused=f,(h=dJ(e,f))||(g=1));let i=this.observer.delayedAndroidKey,j=null;if(i?(this.observer.clearDelayedAndroidKey(),((j=this.observer.readChange())&&!this.state.doc.eq(e.doc)||!this.state.selection.eq(e.selection))&&(j=null)):this.observer.clear(),e.facet(aP.phrases)!=this.state.facet(aP.phrases))return this.setState(e);d=c_.create(this,e,a),d.flags|=g;let k=this.viewState.scrollTarget;try{for(let b of(this.updateState=2,a)){if(k&&(k=k.map(b.changes)),b.scrollIntoView){let{main:a}=b.state.selection;k=new cH(a.empty?a:af.cursor(a.head,a.head>a.anchor?-1:1))}for(let a of b.effects)a.is(cI)&&(k=a.value.clip(this.state))}this.viewState.update(d,k),this.bidiCache=ep.update(this.bidiCache,d.changes),d.empty||(this.updatePlugins(d),this.inputState.update(d)),b=this.docView.update(d),this.state.facet(cZ)!=this.styleModules&&this.mountStyles(),c=this.updateAttrs(),this.showAnnouncements(a),this.docView.updateSelection(b,a.some(a=>a.isUserEvent("select.pointer")))}finally{this.updateState=0}if(d.startState.facet(d8)!=d.state.facet(d8)&&(this.viewState.mustMeasureContent=!0),(b||c||k||this.viewState.mustEnforceCursorAssoc||this.viewState.mustMeasureContent)&&this.requestMeasure(),b&&this.docViewUpdate(),!d.empty)for(let a of this.state.facet(cz))try{a(d)}catch(a){cK(this.state,a,"update listener")}(h||j)&&Promise.resolve().then(()=>{h&&this.state==h.startState&&this.dispatch(h),j&&!di(this,j)&&i.force&&bJ(this.contentDOM,i.key,i.keyCode)})}setState(a){if(0!=this.updateState)throw Error("Calls to EditorView.setState are not allowed while an update is in progress");if(this.destroyed){this.viewState.state=a;return}this.updateState=2;let b=this.hasFocus;try{for(let a of this.plugins)a.destroy(this);for(let b of(this.viewState=new d1(a),this.plugins=a.facet(cN).map(a=>new cP(a)),this.pluginMap.clear(),this.plugins))b.update(this);this.docView.destroy(),this.docView=new c0(this),this.inputState.ensureHandlers(this.plugins),this.mountStyles(),this.updateAttrs(),this.bidiCache=[]}finally{this.updateState=0}b&&this.focus(),this.requestMeasure()}updatePlugins(a){let b=a.startState.facet(cN),c=a.state.facet(cN);if(b!=c){let d=[];for(let e of c){let c=b.indexOf(e);if(c<0)d.push(new cP(e));else{let b=this.plugins[c];b.mustUpdate=a,d.push(b)}}for(let b of this.plugins)b.mustUpdate!=a&&b.destroy(this);this.plugins=d,this.pluginMap.clear()}else for(let b of this.plugins)b.mustUpdate=a;for(let a=0;a<this.plugins.length;a++)this.plugins[a].update(this);b!=c&&this.inputState.ensureHandlers(this.plugins)}docViewUpdate(){for(let a of this.plugins){let b=a.value;if(b&&b.docViewUpdate)try{b.docViewUpdate(this)}catch(a){cK(this.state,a,"doc view update listener")}}}measure(a=!0){if(this.destroyed)return;if(this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.observer.delayedAndroidKey){this.measureScheduled=-1,this.requestMeasure();return}this.measureScheduled=0,a&&this.observer.forceFlush();let b=null,c=this.scrollDOM,d=c.scrollTop*this.scaleY,{scrollAnchorPos:e,scrollAnchorHeight:f}=this.viewState;Math.abs(d-this.viewState.scrollTop)>1&&(f=-1),this.viewState.scrollAnchorHeight=-1;try{for(let a=0;;a++){if(f<0)if(bL(c))e=-1,f=this.viewState.heightMap.height;else{let a=this.viewState.scrollAnchorAt(d);e=a.from,f=a.top}this.updateState=1;let g=this.viewState.measure(this);if(!g&&!this.measureRequests.length&&null==this.viewState.scrollTarget)break;if(a>5){console.warn(this.measureRequests.length?"Measure loop restarted more than 5 times":"Viewport failed to stabilize");break}let h=[];4&g||([this.measureRequests,h]=[h,this.measureRequests]);let i=h.map(a=>{try{return a.read(this)}catch(a){return cK(this.state,a),eo}}),j=c_.create(this,this.state,[]),k=!1;j.flags|=g,b?b.flags|=g:b=j,this.updateState=2,!j.empty&&(this.updatePlugins(j),this.inputState.update(j),this.updateAttrs(),(k=this.docView.update(j))&&this.docViewUpdate());for(let a=0;a<h.length;a++)if(i[a]!=eo)try{let b=h[a];b.write&&b.write(i[a],this)}catch(a){cK(this.state,a)}if(k&&this.docView.updateSelection(!0),!j.viewportChanged&&0==this.measureRequests.length){if(this.viewState.editorHeight)if(this.viewState.scrollTarget){this.docView.scrollIntoView(this.viewState.scrollTarget),this.viewState.scrollTarget=null,f=-1;continue}else{let a=(e<0?this.viewState.heightMap.height:this.viewState.lineBlockAt(e).top)-f;if(a>1||a<-1){c.scrollTop=(d+=a)/this.scaleY,f=-1;continue}}break}}}finally{this.updateState=0,this.measureScheduled=-1}if(b&&!b.empty)for(let a of this.state.facet(cz))a(b)}get themeClasses(){return ea+" "+(this.state.facet(d9)?ec:eb)+" "+this.state.facet(d8)}updateAttrs(){let a=eq(this,cQ,{class:"cm-editor"+(this.hasFocus?" cm-focused ":" ")+this.themeClasses}),b={spellcheck:"false",autocorrect:"off",autocapitalize:"off",writingsuggestions:"false",translate:"no",contenteditable:this.state.facet(cL)?"true":"false",class:"cm-content",style:`${bt.tabSize}: ${this.state.tabSize}`,role:"textbox","aria-multiline":"true"};this.state.readOnly&&(b["aria-readonly"]="true"),eq(this,cR,b);let c=this.observer.ignore(()=>{let c=b2(this.contentDOM,this.contentAttrs,b),d=b2(this.dom,this.editorAttrs,a);return c||d});return this.editorAttrs=a,this.contentAttrs=b,c}showAnnouncements(a){let b=!0;for(let c of a)for(let a of c.effects)a.is(em.announce)&&(b&&(this.announceDOM.textContent=""),b=!1,this.announceDOM.appendChild(document.createElement("div")).textContent=a.value)}mountStyles(){this.styleModules=this.state.facet(cZ);let a=this.state.facet(em.cspNonce);a9.mount(this.root,this.styleModules.concat(ef).reverse(),a?{nonce:a}:void 0)}readMeasured(){if(2==this.updateState)throw Error("Reading the editor layout isn't allowed during an update");0==this.updateState&&this.measureScheduled>-1&&this.measure(!1)}requestMeasure(a){if((this.measureScheduled<0&&(this.measureScheduled=this.win.requestAnimationFrame(()=>this.measure())),a)&&!(this.measureRequests.indexOf(a)>-1)){if(null!=a.key){for(let b=0;b<this.measureRequests.length;b++)if(this.measureRequests[b].key===a.key){this.measureRequests[b]=a;return}}this.measureRequests.push(a)}}plugin(a){let b=this.pluginMap.get(a);return(void 0===b||b&&b.plugin!=a)&&this.pluginMap.set(a,b=this.plugins.find(b=>b.plugin==a)||null),b&&b.update(this).value}get documentTop(){return this.contentDOM.getBoundingClientRect().top+this.viewState.paddingTop}get documentPadding(){return{top:this.viewState.paddingTop,bottom:this.viewState.paddingBottom}}get scaleX(){return this.viewState.scaleX}get scaleY(){return this.viewState.scaleY}elementAtHeight(a){return this.readMeasured(),this.viewState.elementAtHeight(a)}lineBlockAtHeight(a){return this.readMeasured(),this.viewState.lineBlockAtHeight(a)}get viewportLineBlocks(){return this.viewState.viewportLines}lineBlockAt(a){return this.viewState.lineBlockAt(a)}get contentHeight(){return this.viewState.contentHeight}moveByChar(a,b,c){return de(this,a,db(this,a,b,c))}moveByGroup(a,b){return de(this,a,db(this,a,b,b=>{var c;let d,e;return c=a.head,e=(d=this.state.charCategorizer(c))(b),a=>{let b=d(a);return e==aN.Space&&(e=b),e==b}}))}visualLineSide(a,b){let c=this.bidiSpans(a),d=this.textDirectionAt(a.from),e=c[b?c.length-1:0];return af.cursor(e.side(b,d)+a.from,e.forward(!b,d)?1:-1)}moveToLineBoundary(a,b,c=!0){return function(a,b,c,d){let e=da(a,b.head,b.assoc||-1),f=d&&e.type==b4.Text&&(a.lineWrapping||e.widgetLineBreaks)?a.coordsAtPos(b.assoc<0&&b.head>e.from?b.head-1:b.head):null;if(f){let b=a.dom.getBoundingClientRect(),d=a.textDirectionAt(e.from),g=a.posAtCoords({x:c==(d==ch.LTR)?b.right-1:b.left+1,y:(f.top+f.bottom)/2});if(null!=g)return af.cursor(g,c?-1:1)}return af.cursor(c?e.to:e.from,c?-1:1)}(this,a,b,c)}moveVertically(a,b,c){return de(this,a,function(a,b,c,d){let e=b.head,f=c?1:-1;if(e==(c?a.state.doc.length:0))return af.cursor(e,b.assoc);let g=b.goalColumn,h,i=a.contentDOM.getBoundingClientRect(),j=a.coordsAtPos(e,b.assoc||-1),k=a.documentTop;if(j)null==g&&(g=j.left-i.left),h=f<0?j.top:j.bottom;else{let b=a.viewState.lineBlockAt(e);null==g&&(g=Math.min(i.right-i.left,a.defaultCharacterWidth*(e-b.from))),h=(f<0?b.top:b.bottom)+k}let l=i.left+g,m=null!=d?d:a.viewState.heightOracle.textHeight>>1;for(let b=0;;b+=10){let c=h+(m+b)*f,d=c7(a,{x:l,y:c},!1,f);if(c<i.top||c>i.bottom||(f<0?d<e:d>e)){let b=a.docView.coordsForChar(d),e=!b||c<b.top?-1:1;return af.cursor(d,e,void 0,g)}}}(this,a,b,c))}domAtPos(a){return this.docView.domAtPos(a)}posAtDOM(a,b=0){return this.docView.posFromDOM(a,b)}posAtCoords(a,b=!0){return this.readMeasured(),c7(this,a,b)}coordsAtPos(a,b=1){this.readMeasured();let c=this.docView.coordsAt(a,b);if(!c||c.left==c.right)return c;let d=this.state.doc.lineAt(a),e=this.bidiSpans(d);return bD(c,e[cr.find(e,a-d.from,-1,b)].dir==ch.LTR==b>0)}coordsForChar(a){return this.readMeasured(),this.docView.coordsForChar(a)}get defaultCharacterWidth(){return this.viewState.heightOracle.charWidth}get defaultLineHeight(){return this.viewState.heightOracle.lineHeight}get textDirection(){return this.viewState.defaultTextDirection}textDirectionAt(a){return!this.state.facet(cE)||a<this.viewport.from||a>this.viewport.to?this.textDirection:(this.readMeasured(),this.docView.textDirectionAt(a))}get lineWrapping(){return this.viewState.heightOracle.lineWrapping}bidiSpans(a){if(a.length>en)return ct(a.length);let b=this.textDirectionAt(a.from),c;for(let d of this.bidiCache)if(d.from==a.from&&d.dir==b&&(d.fresh||function a(b,c){if(b.length!=c.length)return!1;for(let d=0;d<b.length;d++){let e=b[d],f=c[d];if(e.from!=f.from||e.to!=f.to||e.direction!=f.direction||!a(e.inner,f.inner))return!1}return!0}(d.isolates,c=cW(this,a))))return d.order;c||(c=cW(this,a));let d=function(a,b,c){if(!a)return[new cr(0,0,+(b==cj))];if(b==ci&&!c.length&&!cq.test(a))return ct(a.length);if(c.length)for(;a.length>cs.length;)cs[cs.length]=256;let d=[],e=+(b!=ci);return function a(b,c,d,e,f,g,h){let i=c%2?2:1;!function(a,b,c,d,e){for(let f=0;f<=d.length;f++){let g=f?d[f-1].to:b,h=f<d.length?d[f].from:c,i=f?256:e;for(let b=g,c=i,d=i;b<h;b++){let e=cp(a.charCodeAt(b));512==e?e=c:8==e&&4==d&&(e=16),cs[b]=4==e?2:e,7&e&&(d=e),c=e}for(let a=g,b=i,d=i;a<h;a++){let e=cs[a];if(128==e)a<h-1&&b==cs[a+1]&&24&b?e=cs[a]=b:cs[a]=256;else if(64==e){let e=a+1;for(;e<h&&64==cs[e];)e++;let f=a&&8==b||e<c&&8==cs[e]?1==d?1:8:256;for(let b=a;b<e;b++)cs[b]=f;a=e-1}else 8==e&&1==d&&(cs[a]=1);b=e,7&e&&(d=e)}}}(b,f,g,e,i),function(a,b,c,d,e){let f=1==e?2:1;for(let g=0,h=0,i=0;g<=d.length;g++){let j=g?d[g-1].to:b,k=g<d.length?d[g].from:c;for(let b=j,c,d,g;b<k;b++)if(d=cn[c=a.charCodeAt(b)])if(d<0){for(let a=h-3;a>=0;a-=3)if(co[a+1]==-d){let c=co[a+2],d=2&c?e:4&c?1&c?f:e:0;d&&(cs[b]=cs[co[a]]=d),h=a;break}}else if(189==co.length)break;else co[h++]=b,co[h++]=c,co[h++]=i;else if(2==(g=cs[b])||1==g){let a=g==e;i=+!a;for(let b=h-3;b>=0;b-=3){let c=co[b+2];if(2&c)break;if(a)co[b+2]|=2;else{if(4&c)break;co[b+2]|=4}}}}}(b,f,g,e,i),function(a,b,c,d){for(let e=0,f=d;e<=c.length;e++){let g=e?c[e-1].to:a,h=e<c.length?c[e].from:b;for(let i=g;i<h;){let g=cs[i];if(256==g){let g=i+1;for(;;)if(g==h){if(e==c.length)break;g=c[e++].to,h=e<c.length?c[e].from:b}else if(256==cs[g])g++;else break;let j=1==f,k=j==((g<b?cs[g]:d)==1)?j?1:2:d;for(let b=g,d=e,f=d?c[d-1].to:a;b>i;)b==f&&(b=c[--d].from,f=d?c[d-1].to:a),cs[--b]=k;i=g}else f=g,i++}}}(f,g,e,i),function b(c,d,e,f,g,h,i){let j=f%2?2:1;if(f%2==g%2)for(let k=d,l=0;k<e;){let d=!0,m=!1;if(l==h.length||k<h[l].from){let a=cs[k];a!=j&&(d=!1,m=16==a)}let n=d||1!=j?null:[],o=d?f:f+1,p=k;b:for(;;)if(l<h.length&&p==h[l].from){if(m)break;let b=h[l];if(!d)for(let a=b.to,c=l+1;;){if(a==e)break b;if(c<h.length&&h[c].from==a)a=h[c++].to;else if(cs[a]==j)break b;else break}l++,n?n.push(b):(b.from>k&&i.push(new cr(k,b.from,o)),a(c,b.direction==ci!=!(o%2)?f+1:f,g,b.inner,b.from,b.to,i),k=b.to),p=b.to}else if(p==e||(d?cs[p]!=j:cs[p]==j))break;else p++;n?b(c,k,p,f+1,g,n,i):k<p&&i.push(new cr(k,p,o)),k=p}else for(let k=e,l=h.length;k>d;){let e=!0,m=!1;if(!l||k>h[l-1].to){let a=cs[k-1];a!=j&&(e=!1,m=16==a)}let n=e||1!=j?null:[],o=e?f:f+1,p=k;b:for(;;)if(l&&p==h[l-1].to){if(m)break;let b=h[--l];if(!e)for(let a=b.from,c=l;;){if(a==d)break b;if(c&&h[c-1].to==a)a=h[--c].from;else if(cs[a-1]==j)break b;else break}n?n.push(b):(b.to<k&&i.push(new cr(b.to,k,o)),a(c,b.direction==ci!=!(o%2)?f+1:f,g,b.inner,b.from,b.to,i),k=b.from),p=b.from}else if(p==d||(e?cs[p-1]!=j:cs[p-1]==j))break;else p--;n?b(c,p,k,f+1,g,n,i):p<k&&i.push(new cr(p,k,o)),k=p}}(b,f,g,c,d,e,h)}(a,e,e,c,0,a.length,d),d}(a.text,b,c);return this.bidiCache.push(new ep(a.from,a.to,b,c,!0,d)),d}get hasFocus(){var a;return(this.dom.ownerDocument.hasFocus()||bt.safari&&(null==(a=this.inputState)?void 0:a.lastContextMenu)>Date.now()-3e4)&&this.root.activeElement==this.contentDOM}focus(){this.observer.ignore(()=>{bH(this.contentDOM),this.docView.updateSelection()})}setRoot(a){this._root!=a&&(this._root=a,this.observer.setWindow((9==a.nodeType?a:a.ownerDocument).defaultView||window),this.mountStyles())}destroy(){for(let a of(this.root.activeElement==this.contentDOM&&this.contentDOM.blur(),this.plugins))a.destroy(this);this.plugins=[],this.inputState.destroy(),this.docView.destroy(),this.dom.remove(),this.observer.destroy(),this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.destroyed=!0}static scrollIntoView(a,b={}){return cI.of(new cH("number"==typeof a?af.cursor(a):a,b.y,b.x,b.yMargin,b.xMargin))}scrollSnapshot(){let{scrollTop:a,scrollLeft:b}=this.scrollDOM,c=this.viewState.scrollAnchorAt(a);return cI.of(new cH(af.cursor(c.from),"start","start",c.top-a,b,!0))}setTabFocusMode(a){null==a?this.inputState.tabFocusMode=this.inputState.tabFocusMode<0?0:-1:"boolean"==typeof a?this.inputState.tabFocusMode=a?0:-1:0!=this.inputState.tabFocusMode&&(this.inputState.tabFocusMode=Date.now()+a)}static domEventHandlers(a){return cO.define(()=>({}),{eventHandlers:a})}static domEventObservers(a){return cO.define(()=>({}),{eventObservers:a})}static theme(a,b){let c=a9.newName(),d=[d8.of(c),cZ.of(ee(`.${c}`,a))];return b&&b.dark&&d.push(d9.of(!0)),d}static baseTheme(a){return aq.lowest(cZ.of(ee("."+ea,a,ed)))}static findFromDOM(a){var b;let c=a.querySelector(".cm-content"),d=c&&bQ.get(c)||bQ.get(a);return(null==(b=null==d?void 0:d.rootView)?void 0:b.view)||null}}em.styleModule=cZ,em.inputHandler=cA,em.clipboardInputFilter=cC,em.clipboardOutputFilter=cD,em.scrollHandler=cG,em.focusChangeEffect=cB,em.perLineTextDirection=cE,em.exceptionSink=cy,em.updateListener=cz,em.editable=cL,em.mouseSelectionStyle=cx,em.dragMovesSelection=cw,em.clickAddsSelectionRange=cv,em.decorations=cS,em.outerDecorations=cT,em.atomicRanges=cU,em.bidiIsolatedRanges=cV,em.scrollMargins=cX,em.darkTheme=d9,em.cspNonce=ai.define({combine:a=>a.length?a[0]:""}),em.contentAttributes=cR,em.editorAttributes=cQ,em.lineWrapping=em.contentAttributes.of({class:"cm-lineWrapping"}),em.announce=aH.define();let en=4096,eo={};class ep{constructor(a,b,c,d,e,f){this.from=a,this.to=b,this.dir=c,this.isolates=d,this.fresh=e,this.order=f}static update(a,b){if(b.empty&&!a.some(a=>a.fresh))return a;let c=[],d=a.length?a[a.length-1].dir:ch.LTR;for(let e=Math.max(0,a.length-10);e<a.length;e++){let f=a[e];f.dir!=d||b.touchesRange(f.from,f.to)||c.push(new ep(b.mapPos(f.from,1),b.mapPos(f.to,-1),f.dir,f.isolates,!1,f.order))}return c}}function eq(a,b,c){for(let d=a.state.facet(b),e=d.length-1;e>=0;e--){let b=d[e],f="function"==typeof b?b(a):b;f&&b_(f,c)}return c}let er=bt.mac?"mac":bt.windows?"win":bt.linux?"linux":"key";function es(a,b,c){return b.altKey&&(a="Alt-"+a),b.ctrlKey&&(a="Ctrl-"+a),b.metaKey&&(a="Meta-"+a),!1!==c&&b.shiftKey&&(a="Shift-"+a),a}let et=aq.default(em.domEventHandlers({keydown:(a,b)=>{let c,d;return function(a,b,c,d){var e;ex=b;let f=("Esc"==(e=!(be&&b.metaKey&&b.shiftKey&&!b.ctrlKey&&!b.altKey||bf&&b.shiftKey&&b.key&&1==b.key.length||"Unidentified"==b.key)&&b.key||(b.shiftKey?bd:bc)[b.keyCode]||b.key||"Unidentified")&&(e="Escape"),"Del"==e&&(e="Delete"),"Left"==e&&(e="ArrowLeft"),"Up"==e&&(e="ArrowUp"),"Right"==e&&(e="ArrowRight"),"Down"==e&&(e="ArrowDown"),e),g=V(T(f,0))==f.length&&" "!=f,h="",i=!1,j=!1,k=!1;ew&&ew.view==c&&ew.scope==d&&(h=ew.prefix+" ",0>dq.indexOf(b.keyCode)&&(j=!0,ew=null));let l=new Set,m=a=>{if(a){for(let b of a.run)if(!l.has(b)&&(l.add(b),b(c)))return a.stopPropagation&&(k=!0),!0;a.preventDefault&&(a.stopPropagation&&(k=!0),j=!0)}return!1},n=a[d],o,p;return n&&(m(n[h+es(f,b,!g)])?i=!0:g&&(b.altKey||b.metaKey||b.ctrlKey)&&!(bt.windows&&b.ctrlKey&&b.altKey)&&!(bt.mac&&b.altKey&&!(b.ctrlKey||b.metaKey))&&(o=bc[b.keyCode])&&o!=f?m(n[h+es(o,b,!0)])?i=!0:b.shiftKey&&(p=bd[b.keyCode])!=f&&p!=o&&m(n[h+es(p,b,!1)])&&(i=!0):g&&b.shiftKey&&m(n[h+es(f,b,!0)])&&(i=!0),!i&&m(n._any)&&(i=!0)),j&&(i=!0),i&&k&&b.stopPropagation(),ex=null,i}((c=b.state.facet(eu),(d=ev.get(c))||ev.set(c,d=function(a,b=er){let c=Object.create(null),d=Object.create(null),e=(a,b)=>{let c=d[a];if(null==c)d[a]=b;else if(c!=b)throw Error("Key binding "+a+" is used both as a regular binding and as a multi-stroke prefix")},f=(a,d,f,g,h)=>{var i,j;let k=c[a]||(c[a]=Object.create(null)),l=d.split(/ (?!$)/).map(a=>(function(a,b){let c,d,e,f,g=a.split(/-(?!$)/),h=g[g.length-1];"Space"==h&&(h=" ");for(let a=0;a<g.length-1;++a){let h=g[a];if(/^(cmd|meta|m)$/i.test(h))f=!0;else if(/^a(lt)?$/i.test(h))c=!0;else if(/^(c|ctrl|control)$/i.test(h))d=!0;else if(/^s(hift)?$/i.test(h))e=!0;else if(/^mod$/i.test(h))"mac"==b?f=!0:d=!0;else throw Error("Unrecognized modifier name: "+h)}return c&&(h="Alt-"+h),d&&(h="Ctrl-"+h),f&&(h="Meta-"+h),e&&(h="Shift-"+h),h})(a,b));for(let b=1;b<l.length;b++){let c=l.slice(0,b).join(" ");e(c,!0),k[c]||(k[c]={preventDefault:!0,stopPropagation:!1,run:[b=>{let d=ew={view:b,prefix:c,scope:a};return setTimeout(()=>{ew==d&&(ew=null)},4e3),!0}]})}let m=l.join(" ");e(m,!1);let n=k[m]||(k[m]={preventDefault:!1,stopPropagation:!1,run:(null==(j=null==(i=k._any)?void 0:i.run)?void 0:j.slice())||[]});f&&n.run.push(f),g&&(n.preventDefault=!0),h&&(n.stopPropagation=!0)};for(let d of a){let a=d.scope?d.scope.split(" "):["editor"];if(d.any)for(let b of a){let a=c[b]||(c[b]=Object.create(null));a._any||(a._any={preventDefault:!1,stopPropagation:!1,run:[]});let{any:e}=d;for(let b in a)a[b].run.push(a=>e(a,ex))}let e=d[b]||d.key;if(e)for(let b of a)f(b,e,d.run,d.preventDefault,d.stopPropagation),d.shift&&f(b,"Shift-"+e,d.shift,d.preventDefault,d.stopPropagation)}return c}(c.reduce((a,b)=>a.concat(b),[]))),d),a,b,"editor")}})),eu=ai.define({enables:et}),ev=new WeakMap,ew=null,ex=null;/x/.unicode;let ey="-10000px";class ez{constructor(a,b,c,d){this.facet=b,this.createTooltipView=c,this.removeTooltipView=d,this.input=a.state.facet(b),this.tooltips=this.input.filter(a=>a);let e=null;this.tooltipViews=this.tooltips.map(a=>e=c(a,e))}update(a,b){var c;let d=a.state.facet(this.facet),e=d.filter(a=>a);if(d===this.input){for(let b of this.tooltipViews)b.update&&b.update(a);return!1}let f=[],g=b?[]:null;for(let c=0;c<e.length;c++){let d=e[c],h=-1;if(d){for(let a=0;a<this.tooltips.length;a++){let b=this.tooltips[a];b&&b.create==d.create&&(h=a)}if(h<0)f[c]=this.createTooltipView(d,c?f[c-1]:null),g&&(g[c]=!!d.above);else{let d=f[c]=this.tooltipViews[h];g&&(g[c]=b[h]),d.update&&d.update(a)}}}for(let a of this.tooltipViews)0>f.indexOf(a)&&(this.removeTooltipView(a),null==(c=a.destroy)||c.call(a));return b&&(g.forEach((a,c)=>b[c]=a),b.length=g.length),this.input=d,this.tooltips=e,this.tooltipViews=f,!0}}function eA(a){let b=a.dom.ownerDocument.documentElement;return{top:0,left:0,bottom:b.clientHeight,right:b.clientWidth}}let eB=ai.define({combine:a=>{var b,c,d;return{position:bt.ios?"absolute":(null==(b=a.find(a=>a.position))?void 0:b.position)||"fixed",parent:(null==(c=a.find(a=>a.parent))?void 0:c.parent)||null,tooltipSpace:(null==(d=a.find(a=>a.tooltipSpace))?void 0:d.tooltipSpace)||eA}}}),eC=new WeakMap,eD=cO.fromClass(class{constructor(a){this.view=a,this.above=[],this.inView=!0,this.madeAbsolute=!1,this.lastTransaction=0,this.measureTimeout=-1;let b=a.state.facet(eB);this.position=b.position,this.parent=b.parent,this.classes=a.themeClasses,this.createContainer(),this.measureReq={read:this.readMeasure.bind(this),write:this.writeMeasure.bind(this),key:this},this.resizeObserver="function"==typeof ResizeObserver?new ResizeObserver(()=>this.measureSoon()):null,this.manager=new ez(a,eH,(a,b)=>this.createTooltip(a,b),a=>{this.resizeObserver&&this.resizeObserver.unobserve(a.dom),a.dom.remove()}),this.above=this.manager.tooltips.map(a=>!!a.above),this.intersectionObserver="function"==typeof IntersectionObserver?new IntersectionObserver(a=>{Date.now()>this.lastTransaction-50&&a.length>0&&a[a.length-1].intersectionRatio<1&&this.measureSoon()},{threshold:[1]}):null,this.observeIntersection(),a.win.addEventListener("resize",this.measureSoon=this.measureSoon.bind(this)),this.maybeMeasure()}createContainer(){this.parent?(this.container=document.createElement("div"),this.container.style.position="relative",this.container.className=this.view.themeClasses,this.parent.appendChild(this.container)):this.container=this.view.dom}observeIntersection(){if(this.intersectionObserver)for(let a of(this.intersectionObserver.disconnect(),this.manager.tooltipViews))this.intersectionObserver.observe(a.dom)}measureSoon(){this.measureTimeout<0&&(this.measureTimeout=setTimeout(()=>{this.measureTimeout=-1,this.maybeMeasure()},50))}update(a){a.transactions.length&&(this.lastTransaction=Date.now());let b=this.manager.update(a,this.above);b&&this.observeIntersection();let c=b||a.geometryChanged,d=a.state.facet(eB);if(d.position!=this.position&&!this.madeAbsolute){for(let a of(this.position=d.position,this.manager.tooltipViews))a.dom.style.position=this.position;c=!0}if(d.parent!=this.parent){for(let a of(this.parent&&this.container.remove(),this.parent=d.parent,this.createContainer(),this.manager.tooltipViews))this.container.appendChild(a.dom);c=!0}else this.parent&&this.view.themeClasses!=this.classes&&(this.classes=this.container.className=this.view.themeClasses);c&&this.maybeMeasure()}createTooltip(a,b){let c=a.create(this.view),d=b?b.dom:null;if(c.dom.classList.add("cm-tooltip"),a.arrow&&!c.dom.querySelector(".cm-tooltip > .cm-tooltip-arrow")){let a=document.createElement("div");a.className="cm-tooltip-arrow",c.dom.appendChild(a)}return c.dom.style.position=this.position,c.dom.style.top=ey,c.dom.style.left="0px",this.container.insertBefore(c.dom,d),c.mount&&c.mount(this.view),this.resizeObserver&&this.resizeObserver.observe(c.dom),c}destroy(){var a,b,c;for(let b of(this.view.win.removeEventListener("resize",this.measureSoon),this.manager.tooltipViews))b.dom.remove(),null==(a=b.destroy)||a.call(b);this.parent&&this.container.remove(),null==(b=this.resizeObserver)||b.disconnect(),null==(c=this.intersectionObserver)||c.disconnect(),clearTimeout(this.measureTimeout)}readMeasure(){let a=1,b=1,c=!1;if("fixed"==this.position&&this.manager.tooltipViews.length){let{dom:a}=this.manager.tooltipViews[0];if(bt.gecko)c=a.offsetParent!=this.container.ownerDocument.body;else if(a.style.top==ey&&"0px"==a.style.left){let b=a.getBoundingClientRect();c=Math.abs(b.top+1e4)>1||Math.abs(b.left)>1}}if(c||"absolute"==this.position)if(this.parent){let c=this.parent.getBoundingClientRect();c.width&&c.height&&(a=c.width/this.parent.offsetWidth,b=c.height/this.parent.offsetHeight)}else({scaleX:a,scaleY:b}=this.view.viewState);let d=this.view.scrollDOM.getBoundingClientRect(),e=cY(this.view);return{visible:{left:d.left+e.left,top:d.top+e.top,right:d.right-e.right,bottom:d.bottom-e.bottom},parent:this.parent?this.container.getBoundingClientRect():this.view.dom.getBoundingClientRect(),pos:this.manager.tooltips.map((a,b)=>{let c=this.manager.tooltipViews[b];return c.getCoords?c.getCoords(a.pos):this.view.coordsAtPos(a.pos)}),size:this.manager.tooltipViews.map(({dom:a})=>a.getBoundingClientRect()),space:this.view.state.facet(eB).tooltipSpace(this.view),scaleX:a,scaleY:b,makeAbsolute:c}}writeMeasure(a){var b;if(a.makeAbsolute)for(let a of(this.madeAbsolute=!0,this.position="absolute",this.manager.tooltipViews))a.dom.style.position="absolute";let{visible:c,space:d,scaleX:e,scaleY:f}=a,g=[];for(let h=0;h<this.manager.tooltips.length;h++){let i=this.manager.tooltips[h],j=this.manager.tooltipViews[h],{dom:k}=j,l=a.pos[h],m=a.size[h];if(!l||!1!==i.clip&&(l.bottom<=Math.max(c.top,d.top)||l.top>=Math.min(c.bottom,d.bottom)||l.right<Math.max(c.left,d.left)-.1||l.left>Math.min(c.right,d.right)+.1)){k.style.top=ey;continue}let n=i.arrow?j.dom.querySelector(".cm-tooltip-arrow"):null,o=7*!!n,p=m.right-m.left,q=null!=(b=eC.get(j))?b:m.bottom-m.top,r=j.offset||eG,s=this.view.textDirection==ch.LTR,t=m.width>d.right-d.left?s?d.left:d.right-m.width:s?Math.max(d.left,Math.min(l.left-14*!!n+r.x,d.right-p)):Math.min(Math.max(d.left,l.left-p+14*!!n-r.x),d.right-p),u=this.above[h];!i.strictSide&&(u?l.top-q-o-r.y<d.top:l.bottom+q+o+r.y>d.bottom)&&u==d.bottom-l.bottom>l.top-d.top&&(u=this.above[h]=!u);let v=(u?l.top-d.top:d.bottom-l.bottom)-o;if(v<q&&!1!==j.resize){if(v<this.view.defaultLineHeight){k.style.top=ey;continue}eC.set(j,q),k.style.height=(q=v)/f+"px"}else k.style.height&&(k.style.height="");let w=u?l.top-q-o-r.y:l.bottom+o+r.y,x=t+p;if(!0!==j.overlap)for(let a of g)a.left<x&&a.right>t&&a.top<w+q&&a.bottom>w&&(w=u?a.top-q-2-o:a.bottom+o+2);if("absolute"==this.position?(k.style.top=(w-a.parent.top)/f+"px",eE(k,(t-a.parent.left)/e)):(k.style.top=w/f+"px",eE(k,t/e)),n){let a=l.left+(s?r.x:-r.x)-(t+14-7);n.style.left=a/e+"px"}!0!==j.overlap&&g.push({left:t,top:w,right:x,bottom:w+q}),k.classList.toggle("cm-tooltip-above",u),k.classList.toggle("cm-tooltip-below",!u),j.positioned&&j.positioned(a.space)}}maybeMeasure(){if(this.manager.tooltips.length&&(this.view.inView&&this.view.requestMeasure(this.measureReq),this.inView!=this.view.inView)&&(this.inView=this.view.inView,!this.inView))for(let a of this.manager.tooltipViews)a.dom.style.top=ey}},{eventObservers:{scroll(){this.maybeMeasure()}}});function eE(a,b){let c=parseInt(a.style.left,10);(isNaN(c)||Math.abs(b-c)>1)&&(a.style.left=b+"px")}let eF=em.baseTheme({".cm-tooltip":{zIndex:500,boxSizing:"border-box"},"&light .cm-tooltip":{border:"1px solid #bbb",backgroundColor:"#f5f5f5"},"&light .cm-tooltip-section:not(:first-child)":{borderTop:"1px solid #bbb"},"&dark .cm-tooltip":{backgroundColor:"#333338",color:"white"},".cm-tooltip-arrow":{height:"7px",width:"14px",position:"absolute",zIndex:-1,overflow:"hidden","&:before, &:after":{content:"''",position:"absolute",width:0,height:0,borderLeft:"7px solid transparent",borderRight:"7px solid transparent"},".cm-tooltip-above &":{bottom:"-7px","&:before":{borderTop:"7px solid #bbb"},"&:after":{borderTop:"7px solid #f5f5f5",bottom:"1px"}},".cm-tooltip-below &":{top:"-7px","&:before":{borderBottom:"7px solid #bbb"},"&:after":{borderBottom:"7px solid #f5f5f5",top:"1px"}}},"&dark .cm-tooltip .cm-tooltip-arrow":{"&:before":{borderTopColor:"#333338",borderBottomColor:"#333338"},"&:after":{borderTopColor:"transparent",borderBottomColor:"transparent"}}}),eG={x:0,y:0},eH=ai.define({enables:[eD,eF]}),eI=ai.define({combine:a=>a.reduce((a,b)=>a.concat(b),[])});function eJ(a,b){let c=a.plugin(eD);if(!c)return null;let d=c.manager.tooltips.indexOf(b);return d<0?null:c.manager.tooltipViews[d]}let eK=ai.define({combine(a){let b,c;for(let d of a)b=b||d.topContainer,c=c||d.bottomContainer;return{topContainer:b,bottomContainer:c}}}),eL=cO.fromClass(class{constructor(a){this.input=a.state.facet(eO),this.specs=this.input.filter(a=>a),this.panels=this.specs.map(b=>b(a));let b=a.state.facet(eK);for(let c of(this.top=new eM(a,!0,b.topContainer),this.bottom=new eM(a,!1,b.bottomContainer),this.top.sync(this.panels.filter(a=>a.top)),this.bottom.sync(this.panels.filter(a=>!a.top)),this.panels))c.dom.classList.add("cm-panel"),c.mount&&c.mount()}update(a){let b=a.state.facet(eK);this.top.container!=b.topContainer&&(this.top.sync([]),this.top=new eM(a.view,!0,b.topContainer)),this.bottom.container!=b.bottomContainer&&(this.bottom.sync([]),this.bottom=new eM(a.view,!1,b.bottomContainer)),this.top.syncClasses(),this.bottom.syncClasses();let c=a.state.facet(eO);if(c!=this.input){let b=c.filter(a=>a),d=[],e=[],f=[],g=[];for(let c of b){let b=this.specs.indexOf(c),h;b<0?(h=c(a.view),g.push(h)):(h=this.panels[b]).update&&h.update(a),d.push(h),(h.top?e:f).push(h)}for(let a of(this.specs=b,this.panels=d,this.top.sync(e),this.bottom.sync(f),g))a.dom.classList.add("cm-panel"),a.mount&&a.mount()}else for(let b of this.panels)b.update&&b.update(a)}destroy(){this.top.sync([]),this.bottom.sync([])}},{provide:a=>em.scrollMargins.of(b=>{let c=b.plugin(a);return c&&{top:c.top.scrollMargin(),bottom:c.bottom.scrollMargin()}})});class eM{constructor(a,b,c){this.view=a,this.top=b,this.container=c,this.dom=void 0,this.classes="",this.panels=[],this.syncClasses()}sync(a){for(let b of this.panels)b.destroy&&0>a.indexOf(b)&&b.destroy();this.panels=a,this.syncDOM()}syncDOM(){if(0==this.panels.length){this.dom&&(this.dom.remove(),this.dom=void 0);return}if(!this.dom){this.dom=document.createElement("div"),this.dom.className=this.top?"cm-panels cm-panels-top":"cm-panels cm-panels-bottom",this.dom.style[this.top?"top":"bottom"]="0";let a=this.container||this.view.dom;a.insertBefore(this.dom,this.top?a.firstChild:null)}let a=this.dom.firstChild;for(let b of this.panels)if(b.dom.parentNode==this.dom){for(;a!=b.dom;)a=eN(a);a=a.nextSibling}else this.dom.insertBefore(b.dom,a);for(;a;)a=eN(a)}scrollMargin(){return!this.dom||this.container?0:Math.max(0,this.top?this.dom.getBoundingClientRect().bottom-Math.max(0,this.view.scrollDOM.getBoundingClientRect().top):Math.min(innerHeight,this.view.scrollDOM.getBoundingClientRect().bottom)-this.dom.getBoundingClientRect().top)}syncClasses(){if(this.container&&this.classes!=this.view.themeClasses){for(let a of this.classes.split(" "))a&&this.container.classList.remove(a);for(let a of(this.classes=this.view.themeClasses).split(" "))a&&this.container.classList.add(a)}}}function eN(a){let b=a.nextSibling;return a.remove(),b}let eO=ai.define({enables:eL});class eP extends aR{compare(a){return this==a||this.constructor==a.constructor&&this.eq(a)}eq(a){return!1}destroy(a){}}eP.prototype.elementClass="",eP.prototype.toDOM=void 0,eP.prototype.mapMode=X.TrackBefore,eP.prototype.startSide=eP.prototype.endSide=-1,eP.prototype.point=!0;let eQ=ai.define(),eR=ai.define(),eS=ai.define(),eT=ai.define({combine:a=>a.some(a=>a)}),eU=cO.fromClass(class{constructor(a){for(let b of(this.view=a,this.domAfter=null,this.prevViewport=a.viewport,this.dom=document.createElement("div"),this.dom.className="cm-gutters cm-gutters-before",this.dom.setAttribute("aria-hidden","true"),this.dom.style.minHeight=this.view.contentHeight/this.view.scaleY+"px",this.gutters=a.state.facet(eS).map(b=>new eY(a,b)),this.fixed=!a.state.facet(eT),this.gutters))"after"==b.config.side?this.getDOMAfter().appendChild(b.dom):this.dom.appendChild(b.dom);this.fixed&&(this.dom.style.position="sticky"),this.syncGutters(!1),a.scrollDOM.insertBefore(this.dom,a.contentDOM)}getDOMAfter(){return this.domAfter||(this.domAfter=document.createElement("div"),this.domAfter.className="cm-gutters cm-gutters-after",this.domAfter.setAttribute("aria-hidden","true"),this.domAfter.style.minHeight=this.view.contentHeight/this.view.scaleY+"px",this.domAfter.style.position=this.fixed?"sticky":"",this.view.scrollDOM.appendChild(this.domAfter)),this.domAfter}update(a){if(this.updateGutters(a)){let b=this.prevViewport,c=a.view.viewport,d=Math.min(b.to,c.to)-Math.max(b.from,c.from);this.syncGutters(d<(c.to-c.from)*.8)}if(a.geometryChanged){let a=this.view.contentHeight/this.view.scaleY+"px";this.dom.style.minHeight=a,this.domAfter&&(this.domAfter.style.minHeight=a)}this.view.state.facet(eT)!=!this.fixed&&(this.fixed=!this.fixed,this.dom.style.position=this.fixed?"sticky":"",this.domAfter&&(this.domAfter.style.position=this.fixed?"sticky":"")),this.prevViewport=a.view.viewport}syncGutters(a){let b=this.dom.nextSibling;a&&(this.dom.remove(),this.domAfter&&this.domAfter.remove());let c=aV.iter(this.view.state.facet(eQ),this.view.viewport.from),d=[],e=this.gutters.map(a=>new eX(a,this.view.viewport,-this.view.documentPadding.top));for(let a of this.view.viewportLineBlocks)if(d.length&&(d=[]),Array.isArray(a.type)){let b=!0;for(let f of a.type)if(f.type==b4.Text&&b){for(let a of(eW(c,d,f.from),e))a.line(this.view,f,d);b=!1}else if(f.widget)for(let a of e)a.widget(this.view,f)}else if(a.type==b4.Text)for(let b of(eW(c,d,a.from),e))b.line(this.view,a,d);else if(a.widget)for(let b of e)b.widget(this.view,a);for(let a of e)a.finish();a&&(this.view.scrollDOM.insertBefore(this.dom,b),this.domAfter&&this.view.scrollDOM.appendChild(this.domAfter))}updateGutters(a){let b=a.startState.facet(eS),c=a.state.facet(eS),d=a.docChanged||a.heightChanged||a.viewportChanged||!aV.eq(a.startState.facet(eQ),a.state.facet(eQ),a.view.viewport.from,a.view.viewport.to);if(b==c)for(let b of this.gutters)b.update(a)&&(d=!0);else{d=!0;let e=[];for(let d of c){let c=b.indexOf(d);c<0?e.push(new eY(this.view,d)):(this.gutters[c].update(a),e.push(this.gutters[c]))}for(let a of this.gutters)a.dom.remove(),0>e.indexOf(a)&&a.destroy();for(let a of e)"after"==a.config.side?this.getDOMAfter().appendChild(a.dom):this.dom.appendChild(a.dom);this.gutters=e}return d}destroy(){for(let a of this.gutters)a.destroy();this.dom.remove(),this.domAfter&&this.domAfter.remove()}},{provide:a=>em.scrollMargins.of(b=>{let c=b.plugin(a);if(!c||0==c.gutters.length||!c.fixed)return null;let d=c.dom.offsetWidth*b.scaleX,e=c.domAfter?c.domAfter.offsetWidth*b.scaleX:0;return b.textDirection==ch.LTR?{left:d,right:e}:{right:d,left:e}})});function eV(a){return Array.isArray(a)?a:[a]}function eW(a,b,c){for(;a.value&&a.from<=c;)a.from==c&&b.push(a.value),a.next()}class eX{constructor(a,b,c){this.gutter=a,this.height=c,this.i=0,this.cursor=aV.iter(a.markers,b.from)}addElement(a,b,c){let{gutter:d}=this,e=(b.top-this.height)/a.scaleY,f=b.height/a.scaleY;if(this.i==d.elements.length){let b=new eZ(a,f,e,c);d.elements.push(b),d.dom.appendChild(b.dom)}else d.elements[this.i].update(a,f,e,c);this.height=b.bottom,this.i++}line(a,b,c){let d=[];eW(this.cursor,d,b.from),c.length&&(d=d.concat(c));let e=this.gutter.config.lineMarker(a,b,d);e&&d.unshift(e);let f=this.gutter;(0!=d.length||f.config.renderEmptyElements)&&this.addElement(a,b,d)}widget(a,b){let c=this.gutter.config.widgetMarker(a,b.widget,b),d=c?[c]:null;for(let c of a.state.facet(eR)){let e=c(a,b.widget,b);e&&(d||(d=[])).push(e)}d&&this.addElement(a,b,d)}finish(){let a=this.gutter;for(;a.elements.length>this.i;){let b=a.elements.pop();a.dom.removeChild(b.dom),b.destroy()}}}class eY{constructor(a,b){for(let c in this.view=a,this.config=b,this.elements=[],this.spacer=null,this.dom=document.createElement("div"),this.dom.className="cm-gutter"+(this.config.class?" "+this.config.class:""),b.domEventHandlers)this.dom.addEventListener(c,d=>{let e=d.target,f;if(e!=this.dom&&this.dom.contains(e)){for(;e.parentNode!=this.dom;)e=e.parentNode;let a=e.getBoundingClientRect();f=(a.top+a.bottom)/2}else f=d.clientY;let g=a.lineBlockAtHeight(f-a.documentTop);b.domEventHandlers[c](a,g,d)&&d.preventDefault()});this.markers=eV(b.markers(a)),b.initialSpacer&&(this.spacer=new eZ(a,0,0,[b.initialSpacer(a)]),this.dom.appendChild(this.spacer.dom),this.spacer.dom.style.cssText+="visibility: hidden; pointer-events: none")}update(a){let b=this.markers;if(this.markers=eV(this.config.markers(a.view)),this.spacer&&this.config.updateSpacer){let b=this.config.updateSpacer(this.spacer.markers[0],a);b!=this.spacer.markers[0]&&this.spacer.update(a.view,0,0,[b])}let c=a.view.viewport;return!aV.eq(this.markers,b,c.from,c.to)||!!this.config.lineMarkerChange&&this.config.lineMarkerChange(a)}destroy(){for(let a of this.elements)a.destroy()}}class eZ{constructor(a,b,c,d){this.height=-1,this.above=0,this.markers=[],this.dom=document.createElement("div"),this.dom.className="cm-gutterElement",this.update(a,b,c,d)}update(a,b,c,d){this.height!=b&&(this.height=b,this.dom.style.height=b+"px"),this.above!=c&&(this.dom.style.marginTop=(this.above=c)?c+"px":""),!function(a,b){if(a.length!=b.length)return!1;for(let c=0;c<a.length;c++)if(!a[c].compare(b[c]))return!1;return!0}(this.markers,d)&&this.setMarkers(a,d)}setMarkers(a,b){let c="cm-gutterElement",d=this.dom.firstChild;for(let e=0,f=0;;){let g=f,h=e<b.length?b[e++]:null,i=!1;if(h){let a=h.elementClass;a&&(c+=" "+a);for(let a=f;a<this.markers.length;a++)if(this.markers[a].compare(h)){g=a,i=!0;break}}else g=this.markers.length;for(;f<g;){let a=this.markers[f++];if(a.toDOM){a.destroy(d);let b=d.nextSibling;d.remove(),d=b}}if(!h)break;h.toDOM&&(i?d=d.nextSibling:this.dom.insertBefore(h.toDOM(a),d)),i&&f++}this.dom.className=c,this.markers=b}destroy(){this.setMarkers(null,[])}}let e$=ai.define(),e_=ai.define(),e0=ai.define({combine:a=>aQ(a,{formatNumber:String,domEventHandlers:{}},{domEventHandlers(a,b){let c=Object.assign({},a);for(let a in b){let d=c[a],e=b[a];c[a]=d?(a,b,c)=>d(a,b,c)||e(a,b,c):e}return c}})});class e1 extends eP{constructor(a){super(),this.number=a}eq(a){return this.number==a.number}toDOM(){return document.createTextNode(this.number)}}function e2(a,b){return a.state.facet(e0).formatNumber(b,a.state)}let e3=eS.compute([e0],a=>({class:"cm-lineNumbers",renderEmptyElements:!1,markers:a=>a.state.facet(e$),lineMarker:(a,b,c)=>c.some(a=>a.toDOM)?null:new e1(e2(a,a.state.doc.lineAt(b.from).number)),widgetMarker:(a,b,c)=>{for(let d of a.state.facet(e_)){let e=d(a,b,c);if(e)return e}return null},lineMarkerChange:a=>a.startState.facet(e0)!=a.state.facet(e0),initialSpacer:a=>new e1(e2(a,e4(a.state.doc.lines))),updateSpacer(a,b){let c=e2(b.view,e4(b.view.state.doc.lines));return c==a.number?a:new e1(c)},domEventHandlers:a.facet(e0).domEventHandlers,side:"before"}));function e4(a){let b=9;for(;b<a;)b=10*b+9;return b}let e5=0;class e6{constructor(a,b){this.from=a,this.to=b}}class e7{constructor(a={}){this.id=e5++,this.perNode=!!a.perNode,this.deserialize=a.deserialize||(()=>{throw Error("This node type doesn't define a deserialize function")}),this.combine=a.combine||null}add(a){if(this.perNode)throw RangeError("Can't add per-node props to node types");return"function"!=typeof a&&(a=fa.match(a)),b=>{let c=a(b);return void 0===c?null:[this,c]}}}e7.closedBy=new e7({deserialize:a=>a.split(" ")}),e7.openedBy=new e7({deserialize:a=>a.split(" ")}),e7.group=new e7({deserialize:a=>a.split(" ")}),e7.isolate=new e7({deserialize:a=>{if(a&&"rtl"!=a&&"ltr"!=a&&"auto"!=a)throw RangeError("Invalid value for isolate: "+a);return a||"auto"}}),e7.contextHash=new e7({perNode:!0}),e7.lookAhead=new e7({perNode:!0}),e7.mounted=new e7({perNode:!0});class e8{constructor(a,b,c){this.tree=a,this.overlay=b,this.parser=c}static get(a){return a&&a.props&&a.props[e7.mounted.id]}}let e9=Object.create(null);class fa{constructor(a,b,c,d=0){this.name=a,this.props=b,this.id=c,this.flags=d}static define(a){let b=a.props&&a.props.length?Object.create(null):e9,c=!!a.top|2*!!a.skipped|4*!!a.error|8*(null==a.name),d=new fa(a.name||"",b,a.id,c);if(a.props){for(let c of a.props)if(Array.isArray(c)||(c=c(d)),c){if(c[0].perNode)throw RangeError("Can't store a per-node prop on a node type");b[c[0].id]=c[1]}}return d}prop(a){return this.props[a.id]}get isTop(){return(1&this.flags)>0}get isSkipped(){return(2&this.flags)>0}get isError(){return(4&this.flags)>0}get isAnonymous(){return(8&this.flags)>0}is(a){if("string"==typeof a){if(this.name==a)return!0;let b=this.prop(e7.group);return!!b&&b.indexOf(a)>-1}return this.id==a}static match(a){let b=Object.create(null);for(let c in a)for(let d of c.split(" "))b[d]=a[c];return a=>{for(let c=a.prop(e7.group),d=-1;d<(c?c.length:0);d++){let e=b[d<0?a.name:c[d]];if(e)return e}}}}fa.none=new fa("",Object.create(null),0,8);class fb{constructor(a){this.types=a;for(let b=0;b<a.length;b++)if(a[b].id!=b)throw RangeError("Node type ids should correspond to array positions when creating a node set")}extend(...a){let b=[];for(let c of this.types){let d=null;for(let b of a){let a=b(c);if(a){d||(d=Object.assign({},c.props));let b=a[1],e=a[0];e.combine&&e.id in d&&(b=e.combine(d[e.id],b)),d[e.id]=b}}b.push(d?new fa(c.name,d,c.id,c.flags):c)}return new fb(b)}}let fc=new WeakMap,fd=new WeakMap;(m=q||(q={}))[m.ExcludeBuffers=1]="ExcludeBuffers",m[m.IncludeAnonymous=2]="IncludeAnonymous",m[m.IgnoreMounts=4]="IgnoreMounts",m[m.IgnoreOverlays=8]="IgnoreOverlays";class fe{constructor(a,b,c,d,e){if(this.type=a,this.children=b,this.positions=c,this.length=d,this.props=null,e&&e.length)for(let[a,b]of(this.props=Object.create(null),e))this.props["number"==typeof a?a:a.id]=b}toString(){let a=e8.get(this);if(a&&!a.overlay)return a.tree.toString();let b="";for(let a of this.children){let c=a.toString();c&&(b&&(b+=","),b+=c)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(b.length?"("+b+")":""):b}cursor(a=0){return new fr(this.topNode,a)}cursorAt(a,b=0,c=0){let d=new fr(fc.get(this)||this.topNode);return d.moveTo(a,b),fc.set(this,d._tree),d}get topNode(){return new fk(this,0,0,null)}resolve(a,b=0){let c=fi(fc.get(this)||this.topNode,a,b,!1);return fc.set(this,c),c}resolveInner(a,b=0){let c=fi(fd.get(this)||this.topNode,a,b,!0);return fd.set(this,c),c}resolveStack(a,b=0){return function(a,b,c){let d=a.resolveInner(b,c),e=null;for(let a=d instanceof fk?d:d.context.parent;a;a=a.parent)if(a.index<0){let f=a.parent;(e||(e=[d])).push(f.resolve(b,c)),a=f}else{let f=e8.get(a.tree);if(f&&f.overlay&&f.overlay[0].from<=b&&f.overlay[f.overlay.length-1].to>=b){let g=new fk(f.tree,f.overlay[0].from+a.from,-1,a);(e||(e=[d])).push(fi(g,b,c,!1))}}return e?fp(e):d}(this,a,b)}iterate(a){let{enter:b,leave:c,from:d=0,to:e=this.length}=a,f=a.mode||0,g=(f&q.IncludeAnonymous)>0;for(let a=this.cursor(f|q.IncludeAnonymous);;){let f=!1;if(a.from<=e&&a.to>=d&&(!g&&a.type.isAnonymous||!1!==b(a))){if(a.firstChild())continue;f=!0}for(;f&&c&&(g||!a.type.isAnonymous)&&c(a),!a.nextSibling();){if(!a.parent())return;f=!0}}}prop(a){return a.perNode?this.props?this.props[a.id]:void 0:this.type.prop(a)}get propValues(){let a=[];if(this.props)for(let b in this.props)a.push([+b,this.props[b]]);return a}balance(a={}){return this.children.length<=8?this:fv(fa.none,this.children,this.positions,0,this.children.length,0,this.length,(a,b,c)=>new fe(this.type,a,b,c,this.propValues),a.makeTree||((a,b,c)=>new fe(fa.none,a,b,c)))}static build(a){return function(a){var b;let{buffer:c,nodeSet:d,maxBufferLength:e=1024,reused:f=[],minRepeatType:g=d.types.length}=a,h=Array.isArray(c)?new ff(c,c.length):c,i=d.types,j=0,k=0;function l(a,b,c,e,f,g,h,i,j){let k=[],l=[];for(;a.length>e;)k.push(a.pop()),l.push(b.pop()+c-f);a.push(m(d.types[h],k,l,g-f,i-g,j)),b.push(f-c)}function m(a,b,c,d,e,f,g){if(f){let a=[e7.contextHash,f];g=g?[a].concat(g):[a]}if(e>25){let a=[e7.lookAhead,e];g=g?[a].concat(g):[a]}return new fe(a,b,c,d,g)}let n=[],o=[];for(;h.pos>0;)!function a(b,c,n,o,p,q){let{id:r,start:s,end:t,size:u}=h,v=k,w=j;if(u<0){if(h.next(),-1==u){let a=f[r];n.push(a),o.push(s-b);return}if(-3==u){j=r;return}if(-4==u){k=r;return}else throw RangeError(`Unrecognized record size: ${u}`)}let x=i[r],y,z,A=s-b;if(t-s<=e&&(z=function(a,b){let c=h.fork(),d=0,f=0,i=0,j=c.end-e,k={size:0,start:0,skip:0};c:for(let e=c.pos-a;c.pos>e;){let a=c.size;if(c.id==b&&a>=0){k.size=d,k.start=f,k.skip=i,i+=4,d+=4,c.next();continue}let h=c.pos-a;if(a<0||h<e||c.start<j)break;let l=4*(c.id>=g),m=c.start;for(c.next();c.pos>h;){if(c.size<0)if(-3==c.size)l+=4;else break c;else c.id>=g&&(l+=4);c.next()}f=m,d+=a,i+=l}return(b<0||d==a)&&(k.size=d,k.start=f,k.skip=i),k.size>4?k:void 0}(h.pos-c,p))){let a=new Uint16Array(z.size-z.skip),c=h.pos-z.size,e=a.length;for(;h.pos>c;)e=function a(b,c,d){let{id:e,start:f,end:i,size:l}=h;if(h.next(),l>=0&&e<g){let g=d;if(l>4){let e=h.pos-(l-4);for(;h.pos>e;)d=a(b,c,d)}c[--d]=g,c[--d]=i-b,c[--d]=f-b,c[--d]=e}else -3==l?j=e:-4==l&&(k=e);return d}(z.start,a,e);y=new fg(a,t-z.start,d),A=z.start-b}else{let b=h.pos-u;h.next();let c=[],f=[],i=r>=g?r:-1,j=0,k=t;for(;h.pos>b;)i>=0&&h.id==i&&h.size>=0?(h.end<=k-e&&(l(c,f,s,j,h.end,k,i,v,w),j=c.length,k=h.end),h.next()):q>2500?function(a,b,c,f){let g=[],i=0,j=-1;for(;h.pos>b;){let{id:a,start:b,end:c,size:d}=h;if(d>4)h.next();else if(j>-1&&b<j)break;else j<0&&(j=c-e),g.push(a,b,c),i++,h.next()}if(i){let b=new Uint16Array(4*i),e=g[g.length-2];for(let a=g.length-3,c=0;a>=0;a-=3)b[c++]=g[a],b[c++]=g[a+1]-e,b[c++]=g[a+2]-e,b[c++]=c;c.push(new fg(b,g[2]-e,d)),f.push(e-a)}}(s,b,c,f):a(s,b,c,f,i,q+1);if(i>=0&&j>0&&j<c.length&&l(c,f,s,j,s,k,i,v,w),c.reverse(),f.reverse(),i>-1&&j>0){let a=function(a,b){return(c,d,e)=>{let f=0,g=c.length-1,h,i;if(g>=0&&(h=c[g])instanceof fe){if(!g&&h.type==a&&h.length==e)return h;(i=h.prop(e7.lookAhead))&&(f=d[g]+h.length+i)}return m(a,c,d,e,f,b)}}(x,w);y=fv(x,c,f,0,c.length,0,t-s,a,a)}else y=m(x,c,f,t-s,v-t,w)}n.push(y),o.push(A)}(a.start||0,a.bufferStart||0,n,o,-1,0);let p=null!=(b=a.length)?b:n.length?o[0]+n[0].length:0;return new fe(i[a.topID],n.reverse(),o.reverse(),p)}(a)}}fe.empty=new fe(fa.none,[],[],0);class ff{constructor(a,b){this.buffer=a,this.index=b}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new ff(this.buffer,this.index)}}class fg{constructor(a,b,c){this.buffer=a,this.length=b,this.set=c}get type(){return fa.none}toString(){let a=[];for(let b=0;b<this.buffer.length;)a.push(this.childString(b)),b=this.buffer[b+3];return a.join(",")}childString(a){let b=this.buffer[a],c=this.buffer[a+3],d=this.set.types[b],e=d.name;if(/\W/.test(e)&&!d.isError&&(e=JSON.stringify(e)),c==(a+=4))return e;let f=[];for(;a<c;)f.push(this.childString(a)),a=this.buffer[a+3];return e+"("+f.join(",")+")"}findChild(a,b,c,d,e){let{buffer:f}=this,g=-1;for(let h=a;h!=b&&(!fh(e,d,f[h+1],f[h+2])||(g=h,!(c>0)));h=f[h+3]);return g}slice(a,b,c){let d=this.buffer,e=new Uint16Array(b-a),f=0;for(let g=a,h=0;g<b;){e[h++]=d[g++],e[h++]=d[g++]-c;let b=e[h++]=d[g++]-c;e[h++]=d[g++]-a,f=Math.max(f,b)}return new fg(e,f,this.set)}}function fh(a,b,c,d){switch(a){case -2:return c<b;case -1:return d>=b&&c<b;case 0:return c<b&&d>b;case 1:return c<=b&&d>b;case 2:return d>b;case 4:return!0}}function fi(a,b,c,d){for(var e;a.from==a.to||(c<1?a.from>=b:a.from>b)||(c>-1?a.to<=b:a.to<b);){let b=!d&&a instanceof fk&&a.index<0?null:a.parent;if(!b)return a;a=b}let f=d?0:q.IgnoreOverlays;if(d)for(let d=a,g=d.parent;g;g=(d=g).parent)d instanceof fk&&d.index<0&&(null==(e=g.enter(b,c,f))?void 0:e.from)!=d.from&&(a=g);for(;;){let d=a.enter(b,c,f);if(!d)return a;a=d}}class fj{cursor(a=0){return new fr(this,a)}getChild(a,b=null,c=null){let d=fl(this,a,b,c);return d.length?d[0]:null}getChildren(a,b=null,c=null){return fl(this,a,b,c)}resolve(a,b=0){return fi(this,a,b,!1)}resolveInner(a,b=0){return fi(this,a,b,!0)}matchContext(a){return fm(this.parent,a)}enterUnfinishedNodesBefore(a){let b=this.childBefore(a),c=this;for(;b;){let a=b.lastChild;if(!a||a.to!=b.to)break;a.type.isError&&a.from==a.to?(c=b,b=a.prevSibling):b=a}return c}get node(){return this}get next(){return this.parent}}class fk extends fj{constructor(a,b,c,d){super(),this._tree=a,this.from=b,this.index=c,this._parent=d}get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild(a,b,c,d,e=0){for(let f=this;;){for(let{children:g,positions:h}=f._tree,i=b>0?g.length:-1;a!=i;a+=b){let i=g[a],j=h[a]+f.from;if(fh(d,c,j,j+i.length)){if(i instanceof fg){if(e&q.ExcludeBuffers)continue;let g=i.findChild(0,i.buffer.length,b,c-j,d);if(g>-1)return new fo(new fn(f,i,a,j),null,g)}else if(e&q.IncludeAnonymous||!i.type.isAnonymous||fs(i)){let g;if(!(e&q.IgnoreMounts)&&(g=e8.get(i))&&!g.overlay)return new fk(g.tree,j,a,f);let h=new fk(i,j,a,f);return e&q.IncludeAnonymous||!h.type.isAnonymous?h:h.nextChild(b<0?i.children.length-1:0,b,c,d)}}}if(e&q.IncludeAnonymous||!f.type.isAnonymous||(a=f.index>=0?f.index+b:b<0?-1:f._parent._tree.children.length,!(f=f._parent)))return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter(a){return this.nextChild(0,1,a,2)}childBefore(a){return this.nextChild(this._tree.children.length-1,-1,a,-2)}enter(a,b,c=0){let d;if(!(c&q.IgnoreOverlays)&&(d=e8.get(this._tree))&&d.overlay){let c=a-this.from;for(let{from:a,to:e}of d.overlay)if((b>0?a<=c:a<c)&&(b<0?e>=c:e>c))return new fk(d.tree,d.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,a,b,c)}nextSignificantParent(){let a=this;for(;a.type.isAnonymous&&a._parent;)a=a._parent;return a}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}get tree(){return this._tree}toTree(){return this._tree}toString(){return this._tree.toString()}}function fl(a,b,c,d){let e=a.cursor(),f=[];if(!e.firstChild())return f;if(null!=c){for(let a=!1;!a;)if(a=e.type.is(c),!e.nextSibling())return f}for(;;){if(null!=d&&e.type.is(d))return f;if(e.type.is(b)&&f.push(e.node),!e.nextSibling())return null==d?f:[]}}function fm(a,b,c=b.length-1){for(let d=a;c>=0;d=d.parent){if(!d)return!1;if(!d.type.isAnonymous){if(b[c]&&b[c]!=d.name)return!1;c--}}return!0}class fn{constructor(a,b,c,d){this.parent=a,this.buffer=b,this.index=c,this.start=d}}class fo extends fj{get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}constructor(a,b,c){super(),this.context=a,this._parent=b,this.index=c,this.type=a.buffer.set.types[a.buffer.buffer[c]]}child(a,b,c){let{buffer:d}=this.context,e=d.findChild(this.index+4,d.buffer[this.index+3],a,b-this.context.start,c);return e<0?null:new fo(this.context,this,e)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(a){return this.child(1,a,2)}childBefore(a){return this.child(-1,a,-2)}enter(a,b,c=0){if(c&q.ExcludeBuffers)return null;let{buffer:d}=this.context,e=d.findChild(this.index+4,d.buffer[this.index+3],b>0?1:-1,a-this.context.start,b);return e<0?null:new fo(this.context,this,e)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(a){return this._parent?null:this.context.parent.nextChild(this.context.index+a,a,0,4)}get nextSibling(){let{buffer:a}=this.context,b=a.buffer[this.index+3];return b<(this._parent?a.buffer[this._parent.index+3]:a.buffer.length)?new fo(this.context,this._parent,b):this.externalSibling(1)}get prevSibling(){let{buffer:a}=this.context,b=this._parent?this._parent.index+4:0;return this.index==b?this.externalSibling(-1):new fo(this.context,this._parent,a.findChild(b,this.index,-1,0,4))}get tree(){return null}toTree(){let a=[],b=[],{buffer:c}=this.context,d=this.index+4,e=c.buffer[this.index+3];if(e>d){let f=c.buffer[this.index+1];a.push(c.slice(d,e,f)),b.push(0)}return new fe(this.type,a,b,this.to-this.from)}toString(){return this.context.buffer.childString(this.index)}}function fp(a){if(!a.length)return null;let b=0,c=a[0];for(let d=1;d<a.length;d++){let e=a[d];(e.from>c.from||e.to<c.to)&&(c=e,b=d)}let d=c instanceof fk&&c.index<0?null:c.parent,e=a.slice();return d?e[b]=d:e.splice(b,1),new fq(e,c)}class fq{constructor(a,b){this.heads=a,this.node=b}get next(){return fp(this.heads)}}class fr{get name(){return this.type.name}constructor(a,b=0){if(this.mode=b,this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,a instanceof fk)this.yieldNode(a);else{this._tree=a.context.parent,this.buffer=a.context;for(let b=a._parent;b;b=b._parent)this.stack.unshift(b.index);this.bufferNode=a,this.yieldBuf(a.index)}}yieldNode(a){return!!a&&(this._tree=a,this.type=a.type,this.from=a.from,this.to=a.to,!0)}yieldBuf(a,b){this.index=a;let{start:c,buffer:d}=this.buffer;return this.type=b||d.set.types[d.buffer[a]],this.from=c+d.buffer[a+1],this.to=c+d.buffer[a+2],!0}yield(a){return!!a&&(a instanceof fk?(this.buffer=null,this.yieldNode(a)):(this.buffer=a.context,this.yieldBuf(a.index,a.type)))}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(a,b,c){if(!this.buffer)return this.yield(this._tree.nextChild(a<0?this._tree._tree.children.length-1:0,a,b,c,this.mode));let{buffer:d}=this.buffer,e=d.findChild(this.index+4,d.buffer[this.index+3],a,b-this.buffer.start,c);return!(e<0)&&(this.stack.push(this.index),this.yieldBuf(e))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(a){return this.enterChild(1,a,2)}childBefore(a){return this.enterChild(-1,a,-2)}enter(a,b,c=this.mode){return this.buffer?!(c&q.ExcludeBuffers)&&this.enterChild(1,a,b):this.yield(this._tree.enter(a,b,c))}parent(){if(!this.buffer)return this.yieldNode(this.mode&q.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let a=this.mode&q.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(a)}sibling(a){if(!this.buffer)return!!this._tree._parent&&this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+a,a,0,4,this.mode));let{buffer:b}=this.buffer,c=this.stack.length-1;if(a<0){let a=c<0?0:this.stack[c]+4;if(this.index!=a)return this.yieldBuf(b.findChild(a,this.index,-1,0,4))}else{let a=b.buffer[this.index+3];if(a<(c<0?b.buffer.length:b.buffer[this.stack[c]+3]))return this.yieldBuf(a)}return c<0&&this.yield(this.buffer.parent.nextChild(this.buffer.index+a,a,0,4,this.mode))}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(a){let b,c,{buffer:d}=this;if(d){if(a>0){if(this.index<d.buffer.buffer.length)return!1}else for(let a=0;a<this.index;a++)if(d.buffer.buffer[a+3]<this.index)return!1;({index:b,parent:c}=d)}else({index:b,_parent:c}=this._tree);for(;c;{index:b,_parent:c}=c)if(b>-1)for(let d=b+a,e=a<0?-1:c._tree.children.length;d!=e;d+=a){let a=c._tree.children[d];if(this.mode&q.IncludeAnonymous||a instanceof fg||!a.type.isAnonymous||fs(a))return!1}return!0}move(a,b){if(b&&this.enterChild(a,0,4))return!0;for(;;){if(this.sibling(a))return!0;if(this.atLastNode(a)||!this.parent())return!1}}next(a=!0){return this.move(1,a)}prev(a=!0){return this.move(-1,a)}moveTo(a,b=0){for(;(this.from==this.to||(b<1?this.from>=a:this.from>a)||(b>-1?this.to<=a:this.to<a))&&this.parent(););for(;this.enterChild(1,a,b););return this}get node(){if(!this.buffer)return this._tree;let a=this.bufferNode,b=null,c=0;if(a&&a.context==this.buffer)c:for(let d=this.index,e=this.stack.length;e>=0;){for(let f=a;f;f=f._parent)if(f.index==d){if(d==this.index)return f;b=f,c=e+1;break c}d=this.stack[--e]}for(let a=c;a<this.stack.length;a++)b=new fo(this.buffer,b,this.stack[a]);return this.bufferNode=new fo(this.buffer,b,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate(a,b){for(let c=0;;){let d=!1;if(this.type.isAnonymous||!1!==a(this)){if(this.firstChild()){c++;continue}this.type.isAnonymous||(d=!0)}for(;;){if(d&&b&&b(this),d=this.type.isAnonymous,!c)return;if(this.nextSibling())break;this.parent(),c--,d=!0}}}matchContext(a){if(!this.buffer)return fm(this.node.parent,a);let{buffer:b}=this.buffer,{types:c}=b.set;for(let d=a.length-1,e=this.stack.length-1;d>=0;e--){if(e<0)return fm(this._tree,a,d);let f=c[b.buffer[this.stack[e]]];if(!f.isAnonymous){if(a[d]&&a[d]!=f.name)return!1;d--}}return!0}}function fs(a){return a.children.some(a=>a instanceof fg||!a.type.isAnonymous||fs(a))}let ft=new WeakMap;function fu(a,b){if(!a.isAnonymous||b instanceof fg||b.type!=a)return 1;let c=ft.get(b);if(null==c){for(let d of(c=1,b.children)){if(d.type!=a||!(d instanceof fe)){c=1;break}c+=fu(a,d)}ft.set(b,c)}return c}function fv(a,b,c,d,e,f,g,h,i){let j=0;for(let c=d;c<e;c++)j+=fu(a,b[c]);let k=Math.ceil(1.5*j/8),l=[],m=[];return!function b(c,d,e,g,h){for(let j=e;j<g;){let e=j,n=d[j],o=fu(a,c[j]);for(j++;j<g;j++){let b=fu(a,c[j]);if(o+b>=k)break;o+=b}if(j==e+1){if(o>k){let a=c[e];b(a.children,a.positions,0,a.children.length,d[e]+h);continue}l.push(c[e])}else{let b=d[j-1]+c[j-1].length-n;l.push(fv(a,c,d,e,j,n,b,null,i))}m.push(n+h-f)}}(b,c,d,e,0),(h||i)(l,m,g)}class fw{constructor(a,b,c,d,e=!1,f=!1){this.from=a,this.to=b,this.tree=c,this.offset=d,this.open=!!e|2*!!f}get openStart(){return(1&this.open)>0}get openEnd(){return(2&this.open)>0}static addTree(a,b=[],c=!1){let d=[new fw(0,a.length,a,0,!1,c)];for(let c of b)c.to>a.length&&d.push(c);return d}static applyChanges(a,b,c=128){if(!b.length)return a;let d=[],e=1,f=a.length?a[0]:null;for(let g=0,h=0,i=0;;g++){let j=g<b.length?b[g]:null,k=j?j.fromA:1e9;if(k-h>=c)for(;f&&f.from<k;){let b=f;if(h>=b.from||k<=b.to||i){let a=Math.max(b.from,h)-i,c=Math.min(b.to,k)-i;b=a>=c?null:new fw(a,c,b.tree,b.offset+i,g>0,!!j)}if(b&&d.push(b),f.to>k)break;f=e<a.length?a[e++]:null}if(!j)break;h=j.toA,i=j.toA-j.toB}return d}}class fx{startParse(a,b,c){return"string"==typeof a&&(a=new fy(a)),c=c?c.length?c.map(a=>new e6(a.from,a.to)):[new e6(0,0)]:[new e6(0,a.length)],this.createParse(a,b||[],c)}parse(a,b,c){let d=this.startParse(a,b,c);for(;;){let a=d.advance();if(a)return a}}}class fy{constructor(a){this.string=a}get length(){return this.string.length}chunk(a){return this.string.slice(a)}get lineChunks(){return!1}read(a,b){return this.string.slice(a,b)}}new e7({perNode:!0});let fz=0;class fA{constructor(a,b,c,d){this.name=a,this.set=b,this.base=c,this.modified=d,this.id=fz++}toString(){let{name:a}=this;for(let b of this.modified)b.name&&(a=`${b.name}(${a})`);return a}static define(a,b){if(a instanceof fA&&(b=a),null==b?void 0:b.base)throw Error("Can not derive from a modified tag");let c=new fA("string"==typeof a?a:"?",[],null,[]);if(c.set.push(c),b)for(let a of b.set)c.set.push(a);return c}static defineModifier(a){let b=new fC(a);return a=>a.modified.indexOf(b)>-1?a:fC.get(a.base||a,a.modified.concat(b).sort((a,b)=>a.id-b.id))}}let fB=0;class fC{constructor(a){this.name=a,this.instances=[],this.id=fB++}static get(a,b){if(!b.length)return a;let c=b[0].instances.find(c=>{var d,e;return c.base==a&&(d=b,e=c.modified,d.length==e.length&&d.every((a,b)=>a==e[b]))});if(c)return c;let d=[],e=new fA(a.name,d,a,b);for(let a of b)a.instances.push(e);let f=function(a){let b=[[]];for(let c=0;c<a.length;c++)for(let d=0,e=b.length;d<e;d++)b.push(b[d].concat(a[c]));return b.sort((a,b)=>b.length-a.length)}(b);for(let b of a.set)if(!b.modified.length)for(let a of f)d.push(fC.get(b,a));return e}}function fD(a){let b=Object.create(null);for(let c in a){let d=a[c];for(let a of(Array.isArray(d)||(d=[d]),c.split(" ")))if(a){let c=[],e=2,f=a;for(let b=0;;){if("..."==f&&b>0&&b+3==a.length){e=1;break}let d=/^"(?:[^"\\]|\\.)*?"|[^\/!]+/.exec(f);if(!d)throw RangeError("Invalid path: "+a);if(c.push("*"==d[0]?"":'"'==d[0][0]?JSON.parse(d[0]):d[0]),(b+=d[0].length)==a.length)break;let g=a[b++];if(b==a.length&&"!"==g){e=0;break}if("/"!=g)throw RangeError("Invalid path: "+a);f=a.slice(b)}let g=c.length-1,h=c[g];if(!h)throw RangeError("Invalid path: "+a);let i=new fF(d,e,g>0?c.slice(0,g):null);b[h]=i.sort(b[h])}}return fE.add(b)}let fE=new e7({combine(a,b){let c,d,e;for(;a||b;){if(!a||b&&a.depth>=b.depth?(e=b,b=b.next):(e=a,a=a.next),c&&c.mode==e.mode&&!e.context&&!c.context)continue;let f=new fF(e.tags,e.mode,e.context);c?c.next=f:d=f,c=f}return d}});class fF{constructor(a,b,c,d){this.tags=a,this.mode=b,this.context=c,this.next=d}get opaque(){return 0==this.mode}get inherit(){return 1==this.mode}sort(a){return!a||a.depth<this.depth?(this.next=a,this):(a.next=this.sort(a.next),a)}get depth(){return this.context?this.context.length:0}}function fG(a,b){let c=Object.create(null);for(let b of a)if(Array.isArray(b.tag))for(let a of b.tag)c[a.id]=b.class;else c[b.tag.id]=b.class;let{scope:d,all:e=null}=b||{};return{style:a=>{let b=e;for(let d of a)for(let a of d.set){let d=c[a.id];if(d){b=b?b+" "+d:d;break}}return b},scope:d}}fF.empty=new fF([],2,null);class fH{constructor(a,b,c){this.at=a,this.highlighters=b,this.span=c,this.class=""}startSpan(a,b){b!=this.class&&(this.flush(a),a>this.at&&(this.at=a),this.class=b)}flush(a){a>this.at&&this.class&&this.span(this.at,a,this.class)}highlightRange(a,b,c,d,e){let{type:f,from:g,to:h}=a;if(g>=c||h<=b)return;f.isTop&&(e=this.highlighters.filter(a=>!a.scope||a.scope(f)));let i=d,j=function(a){let b=a.type.prop(fE);for(;b&&b.context&&!a.matchContext(b.context);)b=b.next;return b||null}(a)||fF.empty,k=function(a,b){let c=null;for(let d of a){let a=d.style(b);a&&(c=c?c+" "+a:a)}return c}(e,j.tags);if(k&&(i&&(i+=" "),i+=k,1==j.mode&&(d+=(d?" ":"")+k)),this.startSpan(Math.max(b,g),i),j.opaque)return;let l=a.tree&&a.tree.prop(e7.mounted);if(l&&l.overlay){let f=a.node.enter(l.overlay[0].from+g,1),j=this.highlighters.filter(a=>!a.scope||a.scope(l.tree.type)),k=a.firstChild();for(let m=0,n=g;;m++){let o=m<l.overlay.length?l.overlay[m]:null,p=o?o.from+g:h,q=Math.max(b,n),r=Math.min(c,p);if(q<r&&k)for(;a.from<r&&(this.highlightRange(a,q,r,d,e),this.startSpan(Math.min(r,a.to),i),!(a.to>=p)&&a.nextSibling()););if(!o||p>c)break;(n=o.to+g)>b&&(this.highlightRange(f.cursor(),Math.max(b,o.from+g),Math.min(c,n),"",j),this.startSpan(Math.min(c,n),i))}k&&a.parent()}else if(a.firstChild()){l&&(d="");do{if(a.to<=b)continue;if(a.from>=c)break;this.highlightRange(a,b,c,d,e),this.startSpan(Math.min(c,a.to),i)}while(a.nextSibling())a.parent()}}}let fI=fA.define,fJ=fI(),fK=fI(),fL=fI(fK),fM=fI(fK),fN=fI(),fO=fI(fN),fP=fI(fN),fQ=fI(),fR=fI(fQ),fS=fI(),fT=fI(),fU=fI(),fV=fI(fU),fW=fI(),fX={comment:fJ,lineComment:fI(fJ),blockComment:fI(fJ),docComment:fI(fJ),name:fK,variableName:fI(fK),typeName:fL,tagName:fI(fL),propertyName:fM,attributeName:fI(fM),className:fI(fK),labelName:fI(fK),namespace:fI(fK),macroName:fI(fK),literal:fN,string:fO,docString:fI(fO),character:fI(fO),attributeValue:fI(fO),number:fP,integer:fI(fP),float:fI(fP),bool:fI(fN),regexp:fI(fN),escape:fI(fN),color:fI(fN),url:fI(fN),keyword:fS,self:fI(fS),null:fI(fS),atom:fI(fS),unit:fI(fS),modifier:fI(fS),operatorKeyword:fI(fS),controlKeyword:fI(fS),definitionKeyword:fI(fS),moduleKeyword:fI(fS),operator:fT,derefOperator:fI(fT),arithmeticOperator:fI(fT),logicOperator:fI(fT),bitwiseOperator:fI(fT),compareOperator:fI(fT),updateOperator:fI(fT),definitionOperator:fI(fT),typeOperator:fI(fT),controlOperator:fI(fT),punctuation:fU,separator:fI(fU),bracket:fV,angleBracket:fI(fV),squareBracket:fI(fV),paren:fI(fV),brace:fI(fV),content:fQ,heading:fR,heading1:fI(fR),heading2:fI(fR),heading3:fI(fR),heading4:fI(fR),heading5:fI(fR),heading6:fI(fR),contentSeparator:fI(fQ),list:fI(fQ),quote:fI(fQ),emphasis:fI(fQ),strong:fI(fQ),link:fI(fQ),monospace:fI(fQ),strikethrough:fI(fQ),inserted:fI(),deleted:fI(),changed:fI(),invalid:fI(),meta:fW,documentMeta:fI(fW),annotation:fI(fW),processingInstruction:fI(fW),definition:fA.defineModifier("definition"),constant:fA.defineModifier("constant"),function:fA.defineModifier("function"),standard:fA.defineModifier("standard"),local:fA.defineModifier("local"),special:fA.defineModifier("special")};for(let a in fX){let b=fX[a];b instanceof fA&&(b.name=a)}fG([{tag:fX.link,class:"tok-link"},{tag:fX.heading,class:"tok-heading"},{tag:fX.emphasis,class:"tok-emphasis"},{tag:fX.strong,class:"tok-strong"},{tag:fX.keyword,class:"tok-keyword"},{tag:fX.atom,class:"tok-atom"},{tag:fX.bool,class:"tok-bool"},{tag:fX.url,class:"tok-url"},{tag:fX.labelName,class:"tok-labelName"},{tag:fX.inserted,class:"tok-inserted"},{tag:fX.deleted,class:"tok-deleted"},{tag:fX.literal,class:"tok-literal"},{tag:fX.string,class:"tok-string"},{tag:fX.number,class:"tok-number"},{tag:[fX.regexp,fX.escape,fX.special(fX.string)],class:"tok-string2"},{tag:fX.variableName,class:"tok-variableName"},{tag:fX.local(fX.variableName),class:"tok-variableName tok-local"},{tag:fX.definition(fX.variableName),class:"tok-variableName tok-definition"},{tag:fX.special(fX.variableName),class:"tok-variableName2"},{tag:fX.definition(fX.propertyName),class:"tok-propertyName tok-definition"},{tag:fX.typeName,class:"tok-typeName"},{tag:fX.namespace,class:"tok-namespace"},{tag:fX.className,class:"tok-className"},{tag:fX.macroName,class:"tok-macroName"},{tag:fX.propertyName,class:"tok-propertyName"},{tag:fX.operator,class:"tok-operator"},{tag:fX.comment,class:"tok-comment"},{tag:fX.meta,class:"tok-meta"},{tag:fX.invalid,class:"tok-invalid"},{tag:fX.punctuation,class:"tok-punctuation"}]);let fY=new e7,fZ=new e7;class f${constructor(a,b,c=[],d=""){this.data=a,this.name=d,aP.prototype.hasOwnProperty("tree")||Object.defineProperty(aP.prototype,"tree",{get(){return f1(this)}}),this.parser=b,this.extension=[ga.of(this),aP.languageData.of((a,b,c)=>{let d=f_(a,b,c),e=d.type.prop(fY);if(!e)return[];let f=a.facet(e),g=d.type.prop(fZ);if(g){let e=d.resolve(b-d.from,c);for(let b of g)if(b.test(e,a)){let c=a.facet(b.facet);return"replace"==b.type?c:c.concat(f)}}return f})].concat(c)}isActiveAt(a,b,c=-1){return f_(a,b,c).type.prop(fY)==this.data}findRegions(a){let b=a.facet(ga);if((null==b?void 0:b.data)==this.data)return[{from:0,to:a.doc.length}];if(!b||!b.allowsNesting)return[];let c=[],d=(a,b)=>{if(a.prop(fY)==this.data)return void c.push({from:b,to:b+a.length});let e=a.prop(e7.mounted);if(e){if(e.tree.prop(fY)==this.data){if(e.overlay)for(let a of e.overlay)c.push({from:a.from+b,to:a.to+b});else c.push({from:b,to:b+a.length});return}else if(e.overlay){let a=c.length;if(d(e.tree,e.overlay[0].from+b),c.length>a)return}}for(let c=0;c<a.children.length;c++){let e=a.children[c];e instanceof fe&&d(e,a.positions[c]+b)}};return d(f1(a),0),c}get allowsNesting(){return!0}}function f_(a,b,c){let d=a.facet(ga),e=f1(a).topNode;if(!d||d.allowsNesting)for(let a=e;a;a=a.enter(b,c,q.ExcludeBuffers))a.type.isTop&&(e=a);return e}f$.setState=aH.define();class f0 extends f${constructor(a,b,c){super(a,b,[],c),this.parser=b}static define(a){var b;let c=(b=a.languageData,ai.define({combine:b?a=>a.concat(b):void 0}));return new f0(c,a.parser.configure({props:[fY.add(a=>a.isTop?c:void 0)]}),a.name)}configure(a,b){return new f0(this.data,this.parser.configure(a),b||this.name)}get allowsNesting(){return this.parser.hasWrappers()}}function f1(a){let b=a.field(f$.state,!1);return b?b.tree:fe.empty}class f2{constructor(a){this.doc=a,this.cursorPos=0,this.string="",this.cursor=a.iter()}get length(){return this.doc.length}syncTo(a){return this.string=this.cursor.next(a-this.cursorPos).value,this.cursorPos=a+this.string.length,this.cursorPos-this.string.length}chunk(a){return this.syncTo(a),this.string}get lineChunks(){return!0}read(a,b){let c=this.cursorPos-this.string.length;return a<c||b>=this.cursorPos?this.doc.sliceString(a,b):this.string.slice(a-c,b-c)}}let f3=null;class f4{constructor(a,b,c=[],d,e,f,g,h){this.parser=a,this.state=b,this.fragments=c,this.tree=d,this.treeLen=e,this.viewport=f,this.skipped=g,this.scheduleOn=h,this.parse=null,this.tempSkipped=[]}static create(a,b,c){return new f4(a,b,[],fe.empty,0,c,[],null)}startParse(){return this.parser.startParse(new f2(this.state.doc),this.fragments)}work(a,b){return(null!=b&&b>=this.state.doc.length&&(b=void 0),this.tree!=fe.empty&&this.isDone(null!=b?b:this.state.doc.length))?(this.takeTree(),!0):this.withContext(()=>{var c;if("number"==typeof a){let b=Date.now()+a;a=()=>Date.now()>b}for(this.parse||(this.parse=this.startParse()),null!=b&&(null==this.parse.stoppedAt||this.parse.stoppedAt>b)&&b<this.state.doc.length&&this.parse.stopAt(b);;){let d=this.parse.advance();if(d){if(this.fragments=this.withoutTempSkipped(fw.addTree(d,this.fragments,null!=this.parse.stoppedAt)),this.treeLen=null!=(c=this.parse.stoppedAt)?c:this.state.doc.length,this.tree=d,this.parse=null,!(this.treeLen<(null!=b?b:this.state.doc.length)))return!0;this.parse=this.startParse()}if(a())return!1}})}takeTree(){let a,b;this.parse&&(a=this.parse.parsedPos)>=this.treeLen&&((null==this.parse.stoppedAt||this.parse.stoppedAt>a)&&this.parse.stopAt(a),this.withContext(()=>{for(;!(b=this.parse.advance()););}),this.treeLen=a,this.tree=b,this.fragments=this.withoutTempSkipped(fw.addTree(this.tree,this.fragments,!0)),this.parse=null)}withContext(a){let b=f3;f3=this;try{return a()}finally{f3=b}}withoutTempSkipped(a){for(let b;b=this.tempSkipped.pop();)a=f5(a,b.from,b.to);return a}changes(a,b){let{fragments:c,tree:d,treeLen:e,viewport:f,skipped:g}=this;if(this.takeTree(),!a.empty){let b=[];if(a.iterChangedRanges((a,c,d,e)=>b.push({fromA:a,toA:c,fromB:d,toB:e})),c=fw.applyChanges(c,b),d=fe.empty,e=0,f={from:a.mapPos(f.from,-1),to:a.mapPos(f.to,1)},this.skipped.length)for(let b of(g=[],this.skipped)){let c=a.mapPos(b.from,1),d=a.mapPos(b.to,-1);c<d&&g.push({from:c,to:d})}}return new f4(this.parser,b,c,d,e,f,g,this.scheduleOn)}updateViewport(a){if(this.viewport.from==a.from&&this.viewport.to==a.to)return!1;this.viewport=a;let b=this.skipped.length;for(let b=0;b<this.skipped.length;b++){let{from:c,to:d}=this.skipped[b];c<a.to&&d>a.from&&(this.fragments=f5(this.fragments,c,d),this.skipped.splice(b--,1))}return!(this.skipped.length>=b)&&(this.reset(),!0)}reset(){this.parse&&(this.takeTree(),this.parse=null)}skipUntilInView(a,b){this.skipped.push({from:a,to:b})}static getSkippingParser(a){return new class extends fx{createParse(b,c,d){let e=d[0].from,f=d[d.length-1].to;return{parsedPos:e,advance(){let b=f3;if(b){for(let a of d)b.tempSkipped.push(a);a&&(b.scheduleOn=b.scheduleOn?Promise.all([b.scheduleOn,a]):a)}return this.parsedPos=f,new fe(fa.none,[],[],f-e)},stoppedAt:null,stopAt(){}}}}}isDone(a){a=Math.min(a,this.state.doc.length);let b=this.fragments;return this.treeLen>=a&&b.length&&0==b[0].from&&b[0].to>=a}static get(){return f3}}function f5(a,b,c){return fw.applyChanges(a,[{fromA:b,toA:c,fromB:b,toB:c}])}class f6{constructor(a){this.context=a,this.tree=a.tree}apply(a){if(!a.docChanged&&this.tree==this.context.tree)return this;let b=this.context.changes(a.changes,a.state),c=this.context.treeLen==a.startState.doc.length?void 0:Math.max(a.changes.mapPos(this.context.treeLen),b.viewport.to);return b.work(20,c)||b.takeTree(),new f6(b)}static init(a){let b=Math.min(3e3,a.doc.length),c=f4.create(a.facet(ga).parser,a,{from:0,to:b});return c.work(20,b)||c.takeTree(),new f6(c)}}f$.state=ao.define({create:f6.init,update(a,b){for(let a of b.effects)if(a.is(f$.setState))return a.value;return b.startState.facet(ga)!=b.state.facet(ga)?f6.init(b.state):a.apply(b)}});let f7=a=>{let b=setTimeout(()=>a(),500);return()=>clearTimeout(b)};"undefined"!=typeof requestIdleCallback&&(f7=a=>{let b=-1,c=setTimeout(()=>{b=requestIdleCallback(a,{timeout:400})},100);return()=>b<0?clearTimeout(c):cancelIdleCallback(b)});let f8="undefined"!=typeof navigator&&(null==(r=navigator.scheduling)?void 0:r.isInputPending)?()=>navigator.scheduling.isInputPending():null,f9=cO.fromClass(class{constructor(a){this.view=a,this.working=null,this.workScheduled=0,this.chunkEnd=-1,this.chunkBudget=-1,this.work=this.work.bind(this),this.scheduleWork()}update(a){let b=this.view.state.field(f$.state).context;(b.updateViewport(a.view.viewport)||this.view.viewport.to>b.treeLen)&&this.scheduleWork(),(a.docChanged||a.selectionSet)&&(this.view.hasFocus&&(this.chunkBudget+=50),this.scheduleWork()),this.checkAsyncSchedule(b)}scheduleWork(){if(this.working)return;let{state:a}=this.view,b=a.field(f$.state);b.tree==b.context.tree&&b.context.isDone(a.doc.length)||(this.working=f7(this.work))}work(a){this.working=null;let b=Date.now();if(this.chunkEnd<b&&(this.chunkEnd<0||this.view.hasFocus)&&(this.chunkEnd=b+3e4,this.chunkBudget=3e3),this.chunkBudget<=0)return;let{state:c,viewport:{to:d}}=this.view,e=c.field(f$.state);if(e.tree==e.context.tree&&e.context.isDone(d+1e5))return;let f=Date.now()+Math.min(this.chunkBudget,100,a&&!f8?Math.max(25,a.timeRemaining()-5):1e9),g=e.context.treeLen<d&&c.doc.length>d+1e3,h=e.context.work(()=>f8&&f8()||Date.now()>f,d+1e5*!g);this.chunkBudget-=Date.now()-b,(h||this.chunkBudget<=0)&&(e.context.takeTree(),this.view.dispatch({effects:f$.setState.of(new f6(e.context))})),this.chunkBudget>0&&!(h&&!g)&&this.scheduleWork(),this.checkAsyncSchedule(e.context)}checkAsyncSchedule(a){a.scheduleOn&&(this.workScheduled++,a.scheduleOn.then(()=>this.scheduleWork()).catch(a=>cK(this.view.state,a)).then(()=>this.workScheduled--),a.scheduleOn=null)}destroy(){this.working&&this.working()}isWorking(){return!!(this.working||this.workScheduled>0)}},{eventHandlers:{focus(){this.scheduleWork()}}}),ga=ai.define({combine:a=>a.length?a[0]:null,enables:a=>[f$.state,f9,em.contentAttributes.compute([a],b=>{let c=b.facet(a);return c&&c.name?{"data-language":c.name}:{}})]});class gb{constructor(a,b=[]){this.language=a,this.support=b,this.extension=[a,b]}}let gc=ai.define(),gd=ai.define({combine:a=>{if(!a.length)return"  ";let b=a[0];if(!b||/\S/.test(b)||Array.from(b).some(a=>a!=b[0]))throw Error("Invalid indent unit: "+JSON.stringify(a[0]));return b}});function ge(a){let b=a.facet(gd);return 9==b.charCodeAt(0)?a.tabSize*b.length:b.length}function gf(a,b){let c="",d=a.tabSize,e=a.facet(gd)[0];if("	"==e){for(;b>=d;)c+="	",b-=d;e=" "}for(let a=0;a<b;a++)c+=e;return c}function gg(a,b){for(let c of(a instanceof aP&&(a=new gh(a)),a.state.facet(gc))){let d=c(a,b);if(void 0!==d)return d}let c=f1(a.state);return c.length>=b?function(a,b,c){let d=b.resolveStack(c),e=b.resolveInner(c,-1).resolve(c,0).enterUnfinishedNodesBefore(c);if(e!=d.node){let a=[];for(let b=e;b&&!(b.from<d.node.from||b.to>d.node.to||b.from==d.node.from&&b.type==d.node.type);b=b.parent)a.push(b);for(let b=a.length-1;b>=0;b--)d={node:a[b],next:d}}return gj(d,a,c)}(a,c,b):null}class gh{constructor(a,b={}){this.state=a,this.options=b,this.unit=ge(a)}lineAt(a,b=1){let c=this.state.doc.lineAt(a),{simulateBreak:d,simulateDoubleBreak:e}=this.options;if(null!=d&&d>=c.from&&d<=c.to)if(e&&d==a)return{text:"",from:a};else if(b<0?d<a:d<=a)return{text:c.text.slice(d-c.from),from:d};else return{text:c.text.slice(0,d-c.from),from:c.from};return c}textAfterPos(a,b=1){if(this.options.simulateDoubleBreak&&a==this.options.simulateBreak)return"";let{text:c,from:d}=this.lineAt(a,b);return c.slice(a-d,Math.min(c.length,a+100-d))}column(a,b=1){let{text:c,from:d}=this.lineAt(a,b),e=this.countColumn(c,a-d),f=this.options.overrideIndentation?this.options.overrideIndentation(d):-1;return f>-1&&(e+=f-this.countColumn(c,c.search(/\S|$/))),e}countColumn(a,b=a.length){return a5(a,this.state.tabSize,b)}lineIndent(a,b=1){let{text:c,from:d}=this.lineAt(a,b),e=this.options.overrideIndentation;if(e){let a=e(d);if(a>-1)return a}return this.countColumn(c,c.search(/\S|$/))}get simulatedBreak(){return this.options.simulateBreak||null}}let gi=new e7;function gj(a,b,c){for(let d=a;d;d=d.next){let a=function(a){let b=a.type.prop(gi);if(b)return b;let c=a.firstChild,d;if(c&&(d=c.type.prop(e7.closedBy))){let b=a.lastChild,c=b&&d.indexOf(b.name)>-1;return a=>(function(a,b,c,d,e){let f=a.textAfter,g=f.match(/^\s*/)[0].length,h=d&&f.slice(g,g+d.length)==d||e==a.pos+g,i=b?function(a){let b=a.node,c=b.childAfter(b.from),d=b.lastChild;if(!c)return null;let e=a.options.simulateBreak,f=a.state.doc.lineAt(c.from),g=null==e||e<=f.from?f.to:Math.min(f.to,e);for(let a=c.to;;){let e=b.childAfter(a);if(!e||e==d)return null;if(!e.type.isSkipped){if(e.from>=g)return null;let a=/^ */.exec(f.text.slice(c.to-f.from))[0].length;return{from:c.from,to:c.to+a}}a=e.to}}(a):null;return i?h?a.column(i.from):a.column(i.to):a.baseIndent+(h?0:+a.unit)})(a,!0,1,void 0,c&&!(a.pos==a.options.simulateBreak&&a.options.simulateDoubleBreak)?b.from:void 0)}return null==a.parent?gk:null}(d.node);if(a)return a(gl.create(b,c,d))}return 0}function gk(){return 0}class gl extends gh{constructor(a,b,c){super(a.state,a.options),this.base=a,this.pos=b,this.context=c}get node(){return this.context.node}static create(a,b,c){return new gl(a,b,c)}get textAfter(){return this.textAfterPos(this.pos)}get baseIndent(){return this.baseIndentFor(this.node)}baseIndentFor(a){let b=this.state.doc.lineAt(a.from);for(;;){let c=a.resolve(b.from);for(;c.parent&&c.parent.from==c.from;)c=c.parent;if(function(a,b){for(let c=b;c;c=c.parent)if(a==c)return!0;return!1}(c,a))break;b=this.state.doc.lineAt(c.from)}return this.lineIndent(b.from)}continue(){return gj(this.context.next,this.base,this.pos)}}let gm=ai.define(),gn=new e7;function go(a,b){let c=b.mapPos(a.from,1),d=b.mapPos(a.to,-1);return c>=d?void 0:{from:c,to:d}}let gp=aH.define({map:go}),gq=aH.define({map:go}),gr=ao.define({create:()=>b5.none,update(a,b){for(let c of(b.isUserEvent("delete")&&b.changes.iterChangedRanges((b,c)=>a=gs(a,b,c)),a=a.map(b.changes),b.effects))if(c.is(gp)&&!function(a,b,c){let d=!1;return a.between(b,b,(a,e)=>{a==b&&e==c&&(d=!0)}),d}(a,c.value.from,c.value.to)){let{preparePlaceholder:d}=b.state.facet(gu),e=d?b5.replace({widget:new gx(d(b.state,c.value))}):gw;a=a.update({add:[e.range(c.value.from,c.value.to)]})}else c.is(gq)&&(a=a.update({filter:(a,b)=>c.value.from!=a||c.value.to!=b,filterFrom:c.value.from,filterTo:c.value.to}));return b.selection&&(a=gs(a,b.selection.main.head)),a},provide:a=>em.decorations.from(a),toJSON(a,b){let c=[];return a.between(0,b.doc.length,(a,b)=>{c.push(a,b)}),c},fromJSON(a){if(!Array.isArray(a)||a.length%2)throw RangeError("Invalid JSON for fold state");let b=[];for(let c=0;c<a.length;){let d=a[c++],e=a[c++];if("number"!=typeof d||"number"!=typeof e)throw RangeError("Invalid JSON for fold state");b.push(gw.range(d,e))}return b5.set(b,!0)}});function gs(a,b,c=b){let d=!1;return a.between(b,c,(a,e)=>{a<c&&e>b&&(d=!0)}),d?a.update({filterFrom:b,filterTo:c,filter:(a,d)=>a>=c||d<=b}):a}let gt={placeholderDOM:null,preparePlaceholder:null,placeholderText:"…"},gu=ai.define({combine:a=>aQ(a,gt)});function gv(a,b){let{state:c}=a,d=c.facet(gu),e=b=>{var c,d,e,f;let g,h=a.lineBlockAt(a.posAtDOM(b.target)),i=(c=a.state,d=h.from,e=h.to,g=null,null==(f=c.field(gr,!1))||f.between(d,e,(a,b)=>{(!g||g.from>a)&&(g={from:a,to:b})}),g);i&&a.dispatch({effects:gq.of(i)}),b.preventDefault()};if(d.placeholderDOM)return d.placeholderDOM(a,e,b);let f=document.createElement("span");return f.textContent=d.placeholderText,f.setAttribute("aria-label",c.phrase("folded code")),f.title=c.phrase("unfold"),f.className="cm-foldPlaceholder",f.onclick=e,f}let gw=b5.replace({widget:new class extends b3{toDOM(a){return gv(a,null)}}});class gx extends b3{constructor(a){super(),this.value=a}eq(a){return this.value==a.value}toDOM(a){return gv(a,this.value)}}class gy{constructor(a,b){let c;function d(a){let b=a9.newName();return(c||(c=Object.create(null)))["."+b]=a,b}this.specs=a;const e="string"==typeof b.all?b.all:b.all?d(b.all):void 0,f=b.scope;this.scope=f instanceof f$?a=>a.prop(fY)==f.data:f?a=>a==f:void 0,this.style=fG(a.map(a=>({tag:a.tag,class:a.class||d(Object.assign({},a,{tag:null}))})),{all:e}).style,this.module=c?new a9(c):null,this.themeType=b.themeType}static define(a,b){return new gy(a,b||{})}}let gz=ai.define(),gA=ai.define({combine:a=>a.length?[a[0]]:null});function gB(a){let b=a.facet(gz);return b.length?b:a.facet(gA)}let gC=aq.high(cO.fromClass(class{constructor(a){this.markCache=Object.create(null),this.tree=f1(a.state),this.decorations=this.buildDeco(a,gB(a.state)),this.decoratedTo=a.viewport.to}update(a){let b=f1(a.state),c=gB(a.state),d=c!=gB(a.startState),{viewport:e}=a.view,f=a.changes.mapPos(this.decoratedTo,1);b.length<e.to&&!d&&b.type==this.tree.type&&f>=e.to?(this.decorations=this.decorations.map(a.changes),this.decoratedTo=f):(b!=this.tree||a.viewportChanged||d)&&(this.tree=b,this.decorations=this.buildDeco(a.view,c),this.decoratedTo=e.to)}buildDeco(a,b){if(!b||!this.tree.length)return b5.none;let c=new aW;for(let{from:d,to:e}of a.visibleRanges)!function(a,b,c,d=0,e=a.length){let f=new fH(d,Array.isArray(b)?b:[b],c);f.highlightRange(a.cursor(),d,e,"",f.highlighters),f.flush(e)}(this.tree,b,(a,b,d)=>{c.add(a,b,this.markCache[d]||(this.markCache[d]=b5.mark({class:d})))},d,e);return c.finish()}},{decorations:a=>a.decorations})),gD=gy.define([{tag:fX.meta,color:"#404740"},{tag:fX.link,textDecoration:"underline"},{tag:fX.heading,textDecoration:"underline",fontWeight:"bold"},{tag:fX.emphasis,fontStyle:"italic"},{tag:fX.strong,fontWeight:"bold"},{tag:fX.strikethrough,textDecoration:"line-through"},{tag:fX.keyword,color:"#708"},{tag:[fX.atom,fX.bool,fX.url,fX.contentSeparator,fX.labelName],color:"#219"},{tag:[fX.literal,fX.inserted],color:"#164"},{tag:[fX.string,fX.deleted],color:"#a11"},{tag:[fX.regexp,fX.escape,fX.special(fX.string)],color:"#e40"},{tag:fX.definition(fX.variableName),color:"#00f"},{tag:fX.local(fX.variableName),color:"#30a"},{tag:[fX.typeName,fX.namespace],color:"#085"},{tag:fX.className,color:"#167"},{tag:[fX.special(fX.variableName),fX.macroName],color:"#256"},{tag:fX.definition(fX.propertyName),color:"#00c"},{tag:fX.comment,color:"#940"},{tag:fX.invalid,color:"#f00"}]),gE=b5.mark({class:"cm-matchingBracket"}),gF=b5.mark({class:"cm-nonmatchingBracket"}),gG=new e7;function gH(a,b,c){let d=a.prop(b<0?e7.openedBy:e7.closedBy);if(d)return d;if(1==a.name.length){let d=c.indexOf(a.name);if(d>-1&&d%2==+(b<0))return[c[d+b]]}return null}function gI(a){let b=a.type.prop(gG);return b?b(a.node):a}function gJ(a,b,c,d={}){let e=d.maxScanDistance||1e4,f=d.brackets||"()[]{}",g=f1(a),h=g.resolveInner(b,c);for(let a=h;a;a=a.parent){let d=gH(a.type,c,f);if(d&&a.from<a.to){let e=gI(a);if(e&&(c>0?b>=e.from&&b<e.to:b>e.from&&b<=e.to))return function(a,b,c,d,e,f,g){let h=d.parent,i={from:e.from,to:e.to},j=0,k=null==h?void 0:h.cursor();if(k&&(c<0?k.childBefore(d.from):k.childAfter(d.to)))do if(c<0?k.to<=d.from:k.from>=d.to){if(0==j&&f.indexOf(k.type.name)>-1&&k.from<k.to){let a=gI(k);return{start:i,end:a?{from:a.from,to:a.to}:void 0,matched:!0}}else if(gH(k.type,c,g))j++;else if(gH(k.type,-c,g)){if(0==j){let a=gI(k);return{start:i,end:a&&a.from<a.to?{from:a.from,to:a.to}:void 0,matched:!1}}j--}}while(c<0?k.prevSibling():k.nextSibling())return{start:i,matched:!1}}(0,0,c,a,e,d,f)}}return function(a,b,c,d,e,f,g){let h=c<0?a.sliceDoc(b-1,b):a.sliceDoc(b,b+1),i=g.indexOf(h);if(i<0||i%2==0!=c>0)return null;let j={from:c<0?b-1:b,to:c>0?b+1:b},k=a.doc.iterRange(b,c>0?a.doc.length:0),l=0;for(let a=0;!k.next().done&&a<=f;){let f=k.value;c<0&&(a+=f.length);let h=b+a*c;for(let a=c>0?0:f.length-1,b=c>0?f.length:-1;a!=b;a+=c){let b=g.indexOf(f[a]);if(!(b<0)&&d.resolveInner(h+a,1).type==e)if(b%2==0==c>0)l++;else{if(1==l)return{start:j,end:{from:h+a,to:h+a+1},matched:b>>1==i>>1};l--}}c>0&&(a+=f.length)}return k.done?{start:j,matched:!1}:null}(a,b,c,g,h.type,e,f)}let gK=Object.create(null),gL=[fa.none],gM=[],gN=Object.create(null),gO=Object.create(null);for(let[a,b]of[["variable","variableName"],["variable-2","variableName.special"],["string-2","string.special"],["def","variableName.definition"],["tag","tagName"],["attribute","attributeName"],["type","typeName"],["builtin","variableName.standard"],["qualifier","modifier"],["error","invalid"],["header","heading"],["property","propertyName"]])gO[a]=function(a,b){let c=[];for(let d of b.split(" ")){let b=[];for(let c of d.split(".")){let d=a[c]||fX[c];d?"function"==typeof d?b.length?b=b.map(d):gP(c,`Modifier ${c} used at start of tag`):b.length?gP(c,`Tag ${c} used as modifier`):b=Array.isArray(d)?d:[d]:gP(c,`Unknown highlighting tag ${c}`)}for(let a of b)c.push(a)}if(!c.length)return 0;let d=b.replace(/ /g,"_"),e=d+" "+c.map(a=>a.id),f=gN[e];if(f)return f.id;let g=gN[e]=fa.define({id:gL.length,name:d,props:[fD({[d]:c})]});return gL.push(g),g.id}(gK,b);function gP(a,b){gM.indexOf(a)>-1||(gM.push(a),console.warn(b))}ch.RTL,ch.LTR;class gQ{constructor(a,b,c,d,e,f,g,h,i,j=0,k){this.p=a,this.stack=b,this.state=c,this.reducePos=d,this.pos=e,this.score=f,this.buffer=g,this.bufferBase=h,this.curContext=i,this.lookAhead=j,this.parent=k}toString(){return`[${this.stack.filter((a,b)=>b%3==0).concat(this.state)}]@${this.pos}${this.score?"!"+this.score:""}`}static start(a,b,c=0){let d=a.parser.context;return new gQ(a,[],b,c,c,0,[],0,d?new gR(d,d.start):null,0,null)}get context(){return this.curContext?this.curContext.context:null}pushState(a,b){this.stack.push(this.state,b,this.bufferBase+this.buffer.length),this.state=a}reduce(a){var b;let c=a>>19,d=65535&a,{parser:e}=this.p,f=this.reducePos<this.pos-25;f&&this.setLookAhead(this.pos);let g=e.dynamicPrecedence(d);if(g&&(this.score+=g),0==c){this.pushState(e.getGoto(this.state,d,!0),this.reducePos),d<e.minRepeatTerm&&this.storeNode(d,this.reducePos,this.reducePos,f?8:4,!0),this.reduceContext(d,this.reducePos);return}let h=this.stack.length-(c-1)*3-(262144&a?6:0),i=h?this.stack[h-2]:this.p.ranges[0].from,j=this.reducePos-i;j>=2e3&&!(null==(b=this.p.parser.nodeSet.types[d])?void 0:b.isAnonymous)&&(i==this.p.lastBigReductionStart?(this.p.bigReductionCount++,this.p.lastBigReductionSize=j):this.p.lastBigReductionSize<j&&(this.p.bigReductionCount=1,this.p.lastBigReductionStart=i,this.p.lastBigReductionSize=j));let k=h?this.stack[h-1]:0,l=this.bufferBase+this.buffer.length-k;if(d<e.minRepeatTerm||131072&a){let a=e.stateFlag(this.state,1)?this.pos:this.reducePos;this.storeNode(d,i,a,l+4,!0)}if(262144&a)this.state=this.stack[h];else{let a=this.stack[h-3];this.state=e.getGoto(a,d,!0)}for(;this.stack.length>h;)this.stack.pop();this.reduceContext(d,i)}storeNode(a,b,c,d=4,e=!1){if(0==a&&(!this.stack.length||this.stack[this.stack.length-1]<this.buffer.length+this.bufferBase)){let a=this,d=this.buffer.length;if(0==d&&a.parent&&(d=a.bufferBase-a.parent.bufferBase,a=a.parent),d>0&&0==a.buffer[d-4]&&a.buffer[d-1]>-1){if(b==c)return;if(a.buffer[d-2]>=b){a.buffer[d-2]=c;return}}}if(e&&this.pos!=c){let e=this.buffer.length;if(e>0&&(0!=this.buffer[e-4]||this.buffer[e-1]<0)){let a=!1;for(let b=e;b>0&&this.buffer[b-2]>c;b-=4)if(this.buffer[b-1]>=0){a=!0;break}if(a)for(;e>0&&this.buffer[e-2]>c;)this.buffer[e]=this.buffer[e-4],this.buffer[e+1]=this.buffer[e-3],this.buffer[e+2]=this.buffer[e-2],this.buffer[e+3]=this.buffer[e-1],e-=4,d>4&&(d-=4)}this.buffer[e]=a,this.buffer[e+1]=b,this.buffer[e+2]=c,this.buffer[e+3]=d}else this.buffer.push(a,b,c,d)}shift(a,b,c,d){if(131072&a)this.pushState(65535&a,this.pos);else if((262144&a)==0){let{parser:e}=this.p;(d>this.pos||b<=e.maxNode)&&(this.pos=d,e.stateFlag(a,1)||(this.reducePos=d)),this.pushState(a,c),this.shiftContext(b,c),b<=e.maxNode&&this.buffer.push(b,c,d,4)}else this.pos=d,this.shiftContext(b,c),b<=this.p.parser.maxNode&&this.buffer.push(b,c,d,4)}apply(a,b,c,d){65536&a?this.reduce(a):this.shift(a,b,c,d)}useNode(a,b){let c=this.p.reused.length-1;(c<0||this.p.reused[c]!=a)&&(this.p.reused.push(a),c++);let d=this.pos;this.reducePos=this.pos=d+a.length,this.pushState(b,d),this.buffer.push(c,d,this.reducePos,-1),this.curContext&&this.updateContext(this.curContext.tracker.reuse(this.curContext.context,a,this,this.p.stream.reset(this.pos-a.length)))}split(){let a=this,b=a.buffer.length;for(;b>0&&a.buffer[b-2]>a.reducePos;)b-=4;let c=a.buffer.slice(b),d=a.bufferBase+b;for(;a&&d==a.bufferBase;)a=a.parent;return new gQ(this.p,this.stack.slice(),this.state,this.reducePos,this.pos,this.score,c,d,this.curContext,this.lookAhead,a)}recoverByDelete(a,b){let c=a<=this.p.parser.maxNode;c&&this.storeNode(a,this.pos,b,4),this.storeNode(0,this.pos,b,c?8:4),this.pos=this.reducePos=b,this.score-=190}canShift(a){for(let b=new gS(this);;){let c=this.p.parser.stateSlot(b.state,4)||this.p.parser.hasAction(b.state,a);if(0==c)return!1;if((65536&c)==0)return!0;b.reduce(c)}}recoverByInsert(a){if(this.stack.length>=300)return[];let b=this.p.parser.nextStates(this.state);if(b.length>8||this.stack.length>=120){let c=[];for(let d=0,e;d<b.length;d+=2)(e=b[d+1])!=this.state&&this.p.parser.hasAction(e,a)&&c.push(b[d],e);if(this.stack.length<120)for(let a=0;c.length<8&&a<b.length;a+=2){let d=b[a+1];c.some((a,b)=>1&b&&a==d)||c.push(b[a],d)}b=c}let c=[];for(let a=0;a<b.length&&c.length<4;a+=2){let d=b[a+1];if(d==this.state)continue;let e=this.split();e.pushState(d,this.pos),e.storeNode(0,e.pos,e.pos,4,!0),e.shiftContext(b[a],this.pos),e.reducePos=this.pos,e.score-=200,c.push(e)}return c}forceReduce(){let{parser:a}=this.p,b=a.stateSlot(this.state,5);if((65536&b)==0)return!1;if(!a.validAction(this.state,b)){let c=b>>19,d=65535&b,e=this.stack.length-3*c;if(e<0||0>a.getGoto(this.stack[e],d,!1)){let a=this.findForcedReduction();if(null==a)return!1;b=a}this.storeNode(0,this.pos,this.pos,4,!0),this.score-=100}return this.reducePos=this.pos,this.reduce(b),!0}findForcedReduction(){let{parser:a}=this.p,b=[],c=(d,e)=>{if(!b.includes(d))return b.push(d),a.allActions(d,b=>{if(393216&b);else if(65536&b){let c=(b>>19)-e;if(c>1){let d=65535&b,e=this.stack.length-3*c;if(e>=0&&a.getGoto(this.stack[e],d,!1)>=0)return c<<19|65536|d}}else{let a=c(b,e+1);if(null!=a)return a}})};return c(this.state,0)}forceAll(){for(;!this.p.parser.stateFlag(this.state,2);)if(!this.forceReduce()){this.storeNode(0,this.pos,this.pos,4,!0);break}return this}get deadEnd(){if(3!=this.stack.length)return!1;let{parser:a}=this.p;return 65535==a.data[a.stateSlot(this.state,1)]&&!a.stateSlot(this.state,4)}restart(){this.storeNode(0,this.pos,this.pos,4,!0),this.state=this.stack[0],this.stack.length=0}sameState(a){if(this.state!=a.state||this.stack.length!=a.stack.length)return!1;for(let b=0;b<this.stack.length;b+=3)if(this.stack[b]!=a.stack[b])return!1;return!0}get parser(){return this.p.parser}dialectEnabled(a){return this.p.parser.dialect.flags[a]}shiftContext(a,b){this.curContext&&this.updateContext(this.curContext.tracker.shift(this.curContext.context,a,this,this.p.stream.reset(b)))}reduceContext(a,b){this.curContext&&this.updateContext(this.curContext.tracker.reduce(this.curContext.context,a,this,this.p.stream.reset(b)))}emitContext(){let a=this.buffer.length-1;(a<0||-3!=this.buffer[a])&&this.buffer.push(this.curContext.hash,this.pos,this.pos,-3)}emitLookAhead(){let a=this.buffer.length-1;(a<0||-4!=this.buffer[a])&&this.buffer.push(this.lookAhead,this.pos,this.pos,-4)}updateContext(a){if(a!=this.curContext.context){let b=new gR(this.curContext.tracker,a);b.hash!=this.curContext.hash&&this.emitContext(),this.curContext=b}}setLookAhead(a){a>this.lookAhead&&(this.emitLookAhead(),this.lookAhead=a)}close(){this.curContext&&this.curContext.tracker.strict&&this.emitContext(),this.lookAhead>0&&this.emitLookAhead()}}class gR{constructor(a,b){this.tracker=a,this.context=b,this.hash=a.strict?a.hash(b):0}}class gS{constructor(a){this.start=a,this.state=a.state,this.stack=a.stack,this.base=this.stack.length}reduce(a){let b=a>>19;0==b?(this.stack==this.start.stack&&(this.stack=this.stack.slice()),this.stack.push(this.state,0,0),this.base+=3):this.base-=(b-1)*3;let c=this.start.p.parser.getGoto(this.stack[this.base-3],65535&a,!0);this.state=c}}class gT{constructor(a,b,c){this.stack=a,this.pos=b,this.index=c,this.buffer=a.buffer,0==this.index&&this.maybeNext()}static create(a,b=a.bufferBase+a.buffer.length){return new gT(a,b,b-a.bufferBase)}maybeNext(){let a=this.stack.parent;null!=a&&(this.index=this.stack.bufferBase-a.bufferBase,this.stack=a,this.buffer=a.buffer)}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}next(){this.index-=4,this.pos-=4,0==this.index&&this.maybeNext()}fork(){return new gT(this.stack,this.pos,this.index)}}function gU(a,b=Uint16Array){if("string"!=typeof a)return a;let c=null;for(let d=0,e=0;d<a.length;){let f=0;for(;;){let b=a.charCodeAt(d++),c=!1;if(126==b){f=65535;break}b>=92&&b--,b>=34&&b--;let e=b-32;if(e>=46&&(e-=46,c=!0),f+=e,c)break;f*=46}c?c[e++]=f:c=new b(f)}return c}class gV{constructor(){this.start=-1,this.value=-1,this.end=-1,this.extended=-1,this.lookAhead=0,this.mask=0,this.context=0}}let gW=new gV;class gX{constructor(a,b){this.input=a,this.ranges=b,this.chunk="",this.chunkOff=0,this.chunk2="",this.chunk2Pos=0,this.next=-1,this.token=gW,this.rangeIndex=0,this.pos=this.chunkPos=b[0].from,this.range=b[0],this.end=b[b.length-1].to,this.readNext()}resolveOffset(a,b){let c=this.range,d=this.rangeIndex,e=this.pos+a;for(;e<c.from;){if(!d)return null;let a=this.ranges[--d];e-=c.from-a.to,c=a}for(;b<0?e>c.to:e>=c.to;){if(d==this.ranges.length-1)return null;let a=this.ranges[++d];e+=a.from-c.to,c=a}return e}clipPos(a){if(a>=this.range.from&&a<this.range.to)return a;for(let b of this.ranges)if(b.to>a)return Math.max(a,b.from);return this.end}peek(a){let b=this.chunkOff+a,c,d;if(b>=0&&b<this.chunk.length)c=this.pos+a,d=this.chunk.charCodeAt(b);else{let b=this.resolveOffset(a,1);if(null==b)return -1;if((c=b)>=this.chunk2Pos&&c<this.chunk2Pos+this.chunk2.length)d=this.chunk2.charCodeAt(c-this.chunk2Pos);else{let a=this.rangeIndex,b=this.range;for(;b.to<=c;)b=this.ranges[++a];this.chunk2=this.input.chunk(this.chunk2Pos=c),c+this.chunk2.length>b.to&&(this.chunk2=this.chunk2.slice(0,b.to-c)),d=this.chunk2.charCodeAt(0)}}return c>=this.token.lookAhead&&(this.token.lookAhead=c+1),d}acceptToken(a,b=0){let c=b?this.resolveOffset(b,-1):this.pos;if(null==c||c<this.token.start)throw RangeError("Token end out of bounds");this.token.value=a,this.token.end=c}acceptTokenTo(a,b){this.token.value=a,this.token.end=b}getChunk(){if(this.pos>=this.chunk2Pos&&this.pos<this.chunk2Pos+this.chunk2.length){let{chunk:a,chunkPos:b}=this;this.chunk=this.chunk2,this.chunkPos=this.chunk2Pos,this.chunk2=a,this.chunk2Pos=b,this.chunkOff=this.pos-this.chunkPos}else{this.chunk2=this.chunk,this.chunk2Pos=this.chunkPos;let a=this.input.chunk(this.pos),b=this.pos+a.length;this.chunk=b>this.range.to?a.slice(0,this.range.to-this.pos):a,this.chunkPos=this.pos,this.chunkOff=0}}readNext(){return this.chunkOff>=this.chunk.length&&(this.getChunk(),this.chunkOff==this.chunk.length)?this.next=-1:this.next=this.chunk.charCodeAt(this.chunkOff)}advance(a=1){for(this.chunkOff+=a;this.pos+a>=this.range.to;){if(this.rangeIndex==this.ranges.length-1)return this.setDone();a-=this.range.to-this.pos,this.range=this.ranges[++this.rangeIndex],this.pos=this.range.from}return this.pos+=a,this.pos>=this.token.lookAhead&&(this.token.lookAhead=this.pos+1),this.readNext()}setDone(){return this.pos=this.chunkPos=this.end,this.range=this.ranges[this.rangeIndex=this.ranges.length-1],this.chunk="",this.next=-1}reset(a,b){if(b?(this.token=b,b.start=a,b.lookAhead=a+1,b.value=b.extended=-1):this.token=gW,this.pos!=a){if(this.pos=a,a==this.end)return this.setDone(),this;for(;a<this.range.from;)this.range=this.ranges[--this.rangeIndex];for(;a>=this.range.to;)this.range=this.ranges[++this.rangeIndex];a>=this.chunkPos&&a<this.chunkPos+this.chunk.length?this.chunkOff=a-this.chunkPos:(this.chunk="",this.chunkOff=0),this.readNext()}return this}read(a,b){if(a>=this.chunkPos&&b<=this.chunkPos+this.chunk.length)return this.chunk.slice(a-this.chunkPos,b-this.chunkPos);if(a>=this.chunk2Pos&&b<=this.chunk2Pos+this.chunk2.length)return this.chunk2.slice(a-this.chunk2Pos,b-this.chunk2Pos);if(a>=this.range.from&&b<=this.range.to)return this.input.read(a,b);let c="";for(let d of this.ranges){if(d.from>=b)break;d.to>a&&(c+=this.input.read(Math.max(d.from,a),Math.min(d.to,b)))}return c}}class gY{constructor(a,b){this.data=a,this.id=b}token(a,b){let{parser:c}=b.p;g$(this.data,a,b,this.id,c.data,c.tokenPrecTable)}}gY.prototype.contextual=gY.prototype.fallback=gY.prototype.extend=!1,(class{constructor(a,b,c){this.precTable=b,this.elseToken=c,this.data="string"==typeof a?gU(a):a}token(a,b){let c=a.pos,d=0;for(;;){let c=a.next<0,e=a.resolveOffset(1,1);if(g$(this.data,a,b,0,this.data,this.precTable),a.token.value>-1)break;if(null==this.elseToken)return;if(!c&&d++,null==e)break;a.reset(e,a.token)}d&&(a.reset(c,a.token),a.acceptToken(this.elseToken,d))}}).prototype.contextual=gY.prototype.fallback=gY.prototype.extend=!1;class gZ{constructor(a,b={}){this.token=a,this.contextual=!!b.contextual,this.fallback=!!b.fallback,this.extend=!!b.extend}}function g$(a,b,c,d,e,f){let g=0,h=1<<d,{dialect:i}=c.p.parser;c:for(;(h&a[g])!=0;){let c=a[g+1];for(let d=g+3;d<c;d+=2)if((a[d+1]&h)>0){let c=a[d];if(i.allows(c)&&(-1==b.token.value||b.token.value==c||function(a,b,c,d){let e=g_(c,d,b);return e<0||g_(c,d,a)<e}(c,b.token.value,e,f))){b.acceptToken(c);break}}let d=b.next,j=0,k=a[g+2];if(b.next<0&&k>j&&65535==a[c+3*k-3]){g=a[c+3*k-1];continue}for(;j<k;){let e=j+k>>1,f=c+e+(e<<1),h=a[f],i=a[f+1]||65536;if(d<h)k=e;else if(d>=i)j=e+1;else{g=a[f+2],b.advance();continue c}}break}}function g_(a,b,c){for(let d=b,e;65535!=(e=a[d]);d++)if(e==c)return d-b;return -1}let g0="undefined"!=typeof process&&process.env&&/\bparse\b/.test(process.env.LOG),g1=null;function g2(a,b,c){let d=a.cursor(q.IncludeAnonymous);for(d.moveTo(b);;)if(!(c<0?d.childBefore(b):d.childAfter(b)))for(;;){if((c<0?d.to<b:d.from>b)&&!d.type.isError)return c<0?Math.max(0,Math.min(d.to-1,b-25)):Math.min(a.length,Math.max(d.from+1,b+25));if(c<0?d.prevSibling():d.nextSibling())break;if(!d.parent())return c<0?0:a.length}}class g3{constructor(a,b){this.fragments=a,this.nodeSet=b,this.i=0,this.fragment=null,this.safeFrom=-1,this.safeTo=-1,this.trees=[],this.start=[],this.index=[],this.nextFragment()}nextFragment(){let a=this.fragment=this.i==this.fragments.length?null:this.fragments[this.i++];if(a){for(this.safeFrom=a.openStart?g2(a.tree,a.from+a.offset,1)-a.offset:a.from,this.safeTo=a.openEnd?g2(a.tree,a.to+a.offset,-1)-a.offset:a.to;this.trees.length;)this.trees.pop(),this.start.pop(),this.index.pop();this.trees.push(a.tree),this.start.push(-a.offset),this.index.push(0),this.nextStart=this.safeFrom}else this.nextStart=1e9}nodeAt(a){if(a<this.nextStart)return null;for(;this.fragment&&this.safeTo<=a;)this.nextFragment();if(!this.fragment)return null;for(;;){let b=this.trees.length-1;if(b<0)return this.nextFragment(),null;let c=this.trees[b],d=this.index[b];if(d==c.children.length){this.trees.pop(),this.start.pop(),this.index.pop();continue}let e=c.children[d],f=this.start[b]+c.positions[d];if(f>a)return this.nextStart=f,null;if(e instanceof fe){if(f==a){if(f<this.safeFrom)return null;let a=f+e.length;if(a<=this.safeTo){let b=e.prop(e7.lookAhead);if(!b||a+b<this.fragment.to)return e}}this.index[b]++,f+e.length>=Math.max(this.safeFrom,a)&&(this.trees.push(e),this.start.push(f),this.index.push(0))}else this.index[b]++,this.nextStart=f+e.length}}}class g4{constructor(a,b){this.stream=b,this.tokens=[],this.mainToken=null,this.actions=[],this.tokens=a.tokenizers.map(a=>new gV)}getActions(a){let b=0,c=null,{parser:d}=a.p,{tokenizers:e}=d,f=d.stateSlot(a.state,3),g=a.curContext?a.curContext.hash:0,h=0;for(let d=0;d<e.length;d++){if((1<<d&f)==0)continue;let i=e[d],j=this.tokens[d];if((!c||i.fallback)&&((i.contextual||j.start!=a.pos||j.mask!=f||j.context!=g)&&(this.updateCachedToken(j,i,a),j.mask=f,j.context=g),j.lookAhead>j.end+25&&(h=Math.max(j.lookAhead,h)),0!=j.value)){let d=b;if(j.extended>-1&&(b=this.addActions(a,j.extended,j.end,b)),b=this.addActions(a,j.value,j.end,b),!i.extend&&(c=j,b>d))break}}for(;this.actions.length>b;)this.actions.pop();return h&&a.setLookAhead(h),c||a.pos!=this.stream.end||((c=new gV).value=a.p.parser.eofTerm,c.start=c.end=a.pos,b=this.addActions(a,c.value,c.end,b)),this.mainToken=c,this.actions}getMainToken(a){if(this.mainToken)return this.mainToken;let b=new gV,{pos:c,p:d}=a;return b.start=c,b.end=Math.min(c+1,d.stream.end),b.value=c==d.stream.end?d.parser.eofTerm:0,b}updateCachedToken(a,b,c){let d=this.stream.clipPos(c.pos);if(b.token(this.stream.reset(d,a),c),a.value>-1){let{parser:b}=c.p;for(let d=0;d<b.specialized.length;d++)if(b.specialized[d]==a.value){let e=b.specializers[d](this.stream.read(a.start,a.end),c);if(e>=0&&c.p.parser.dialect.allows(e>>1)){(1&e)==0?a.value=e>>1:a.extended=e>>1;break}}}else a.value=0,a.end=this.stream.clipPos(d+1)}putAction(a,b,c,d){for(let b=0;b<d;b+=3)if(this.actions[b]==a)return d;return this.actions[d++]=a,this.actions[d++]=b,this.actions[d++]=c,d}addActions(a,b,c,d){let{state:e}=a,{parser:f}=a.p,{data:g}=f;for(let a=0;a<2;a++)for(let h=f.stateSlot(e,a?2:1);;h+=3){if(65535==g[h])if(1==g[h+1])h=g9(g,h+2);else{0==d&&2==g[h+1]&&(d=this.putAction(g9(g,h+2),b,c,d));break}g[h]==b&&(d=this.putAction(g9(g,h+1),b,c,d))}return d}}class g5{constructor(a,b,c,d){this.parser=a,this.input=b,this.ranges=d,this.recovering=0,this.nextStackID=9812,this.minStackPos=0,this.reused=[],this.stoppedAt=null,this.lastBigReductionStart=-1,this.lastBigReductionSize=0,this.bigReductionCount=0,this.stream=new gX(b,d),this.tokens=new g4(a,this.stream),this.topTerm=a.top[1];let{from:e}=d[0];this.stacks=[gQ.start(this,a.top[0],e)],this.fragments=c.length&&this.stream.end-e>4*a.bufferLength?new g3(c,a.nodeSet):null}get parsedPos(){return this.minStackPos}advance(){let a,b,c=this.stacks,d=this.minStackPos,e=this.stacks=[];if(this.bigReductionCount>300&&1==c.length){let[a]=c;for(;a.forceReduce()&&a.stack.length&&a.stack[a.stack.length-2]>=this.lastBigReductionStart;);this.bigReductionCount=this.lastBigReductionSize=0}for(let f=0;f<c.length;f++){let g=c[f];for(;;){if(this.tokens.mainToken=null,g.pos>d)e.push(g);else{if(this.advanceStack(g,e,c))continue;a||(a=[],b=[]),a.push(g);let d=this.tokens.getMainToken(g);b.push(d.value,d.end)}break}}if(!e.length){let b=a&&function(a){let b=null;for(let c of a){let a=c.p.stoppedAt;(c.pos==c.p.stream.end||null!=a&&c.pos>a)&&c.p.parser.stateFlag(c.state,2)&&(!b||b.score<c.score)&&(b=c)}return b}(a);if(b)return g0&&console.log("Finish with "+this.stackID(b)),this.stackToTree(b);if(this.parser.strict)throw g0&&a&&console.log("Stuck with token "+(this.tokens.mainToken?this.parser.getName(this.tokens.mainToken.value):"none")),SyntaxError("No parse at "+d);this.recovering||(this.recovering=5)}if(this.recovering&&a){let c=null!=this.stoppedAt&&a[0].pos>this.stoppedAt?a[0]:this.runRecovery(a,b,e);if(c)return g0&&console.log("Force-finish "+this.stackID(c)),this.stackToTree(c.forceAll())}if(this.recovering){let a=1==this.recovering?1:3*this.recovering;if(e.length>a)for(e.sort((a,b)=>b.score-a.score);e.length>a;)e.pop();e.some(a=>a.reducePos>d)&&this.recovering--}else if(e.length>1){d:for(let a=0;a<e.length-1;a++){let b=e[a];for(let c=a+1;c<e.length;c++){let d=e[c];if(b.sameState(d)||b.buffer.length>500&&d.buffer.length>500)if((b.score-d.score||b.buffer.length-d.buffer.length)>0)e.splice(c--,1);else{e.splice(a--,1);continue d}}}e.length>12&&e.splice(12,e.length-12)}this.minStackPos=e[0].pos;for(let a=1;a<e.length;a++)e[a].pos<this.minStackPos&&(this.minStackPos=e[a].pos);return null}stopAt(a){if(null!=this.stoppedAt&&this.stoppedAt<a)throw RangeError("Can't move stoppedAt forward");this.stoppedAt=a}advanceStack(a,b,c){let d=a.pos,{parser:e}=this,f=g0?this.stackID(a)+" -> ":"";if(null!=this.stoppedAt&&d>this.stoppedAt)return a.forceReduce()?a:null;if(this.fragments){let b=a.curContext&&a.curContext.tracker.strict,c=b?a.curContext.hash:0;for(let g=this.fragments.nodeAt(d);g;){let d=this.parser.nodeSet.types[g.type.id]==g.type?e.getGoto(a.state,g.type.id):-1;if(d>-1&&g.length&&(!b||(g.prop(e7.contextHash)||0)==c))return a.useNode(g,d),g0&&console.log(f+this.stackID(a)+` (via reuse of ${e.getName(g.type.id)})`),!0;if(!(g instanceof fe)||0==g.children.length||g.positions[0]>0)break;let h=g.children[0];if(h instanceof fe&&0==g.positions[0])g=h;else break}}let g=e.stateSlot(a.state,4);if(g>0)return a.reduce(g),g0&&console.log(f+this.stackID(a)+` (via always-reduce ${e.getName(65535&g)})`),!0;if(a.stack.length>=8400)for(;a.stack.length>6e3&&a.forceReduce(););let h=this.tokens.getActions(a);for(let g=0;g<h.length;){let i=h[g++],j=h[g++],k=h[g++],l=g==h.length||!c,m=l?a:a.split(),n=this.tokens.mainToken;if(m.apply(i,j,n?n.start:m.pos,k),g0&&console.log(f+this.stackID(m)+` (via ${(65536&i)==0?"shift":`reduce of ${e.getName(65535&i)}`} for ${e.getName(j)} @ ${d}${m==a?"":", split"})`),l)return!0;m.pos>d?b.push(m):c.push(m)}return!1}advanceFully(a,b){let c=a.pos;for(;;){if(!this.advanceStack(a,null,null))return!1;if(a.pos>c)return g6(a,b),!0}}runRecovery(a,b,c){let d=null,e=!1;for(let f=0;f<a.length;f++){let g=a[f],h=b[f<<1],i=b[(f<<1)+1],j=g0?this.stackID(g)+" -> ":"";if(g.deadEnd&&(e||(e=!0,g.restart(),g0&&console.log(j+this.stackID(g)+" (restarted)"),this.advanceFully(g,c))))continue;let k=g.split(),l=j;for(let a=0;a<10&&k.forceReduce()&&(g0&&console.log(l+this.stackID(k)+" (via force-reduce)"),!this.advanceFully(k,c));a++)g0&&(l=this.stackID(k)+" -> ");for(let a of g.recoverByInsert(h))g0&&console.log(j+this.stackID(a)+" (via recover-insert)"),this.advanceFully(a,c);this.stream.end>g.pos?(i==g.pos&&(i++,h=0),g.recoverByDelete(h,i),g0&&console.log(j+this.stackID(g)+` (via recover-delete ${this.parser.getName(h)})`),g6(g,c)):(!d||d.score<g.score)&&(d=g)}return d}stackToTree(a){return a.close(),fe.build({buffer:gT.create(a),nodeSet:this.parser.nodeSet,topID:this.topTerm,maxBufferLength:this.parser.bufferLength,reused:this.reused,start:this.ranges[0].from,length:a.pos-this.ranges[0].from,minRepeatType:this.parser.minRepeatTerm})}stackID(a){let b=(g1||(g1=new WeakMap)).get(a);return b||g1.set(a,b=String.fromCodePoint(this.nextStackID++)),b+a}}function g6(a,b){for(let c=0;c<b.length;c++){let d=b[c];if(d.pos==a.pos&&d.sameState(a)){b[c].score<a.score&&(b[c]=a);return}}b.push(a)}class g7{constructor(a,b,c){this.source=a,this.flags=b,this.disabled=c}allows(a){return!this.disabled||0==this.disabled[a]}}class g8 extends fx{constructor(a){if(super(),this.wrappers=[],14!=a.version)throw RangeError(`Parser version (${a.version}) doesn't match runtime version (14)`);let b=a.nodeNames.split(" ");this.minRepeatTerm=b.length;for(let c=0;c<a.repeatNodeCount;c++)b.push("");let c=Object.keys(a.topRules).map(b=>a.topRules[b][1]),d=[];for(let a=0;a<b.length;a++)d.push([]);function e(a,b,c){d[a].push([b,b.deserialize(String(c))])}if(a.nodeProps)for(let b of a.nodeProps){let a=b[0];"string"==typeof a&&(a=e7[a]);for(let c=1;c<b.length;){let d=b[c++];if(d>=0)e(d,a,b[c++]);else{let f=b[c+-d];for(let g=-d;g>0;g--)e(b[c++],a,f);c++}}}this.nodeSet=new fb(b.map((b,e)=>fa.define({name:e>=this.minRepeatTerm?void 0:b,id:e,props:d[e],top:c.indexOf(e)>-1,error:0==e,skipped:a.skippedNodes&&a.skippedNodes.indexOf(e)>-1}))),a.propSources&&(this.nodeSet=this.nodeSet.extend(...a.propSources)),this.strict=!1,this.bufferLength=1024;let f=gU(a.tokenData);this.context=a.context,this.specializerSpecs=a.specialized||[],this.specialized=new Uint16Array(this.specializerSpecs.length);for(let a=0;a<this.specializerSpecs.length;a++)this.specialized[a]=this.specializerSpecs[a].term;this.specializers=this.specializerSpecs.map(ha),this.states=gU(a.states,Uint32Array),this.data=gU(a.stateData),this.goto=gU(a.goto),this.maxTerm=a.maxTerm,this.tokenizers=a.tokenizers.map(a=>"number"==typeof a?new gY(f,a):a),this.topRules=a.topRules,this.dialects=a.dialects||{},this.dynamicPrecedences=a.dynamicPrecedences||null,this.tokenPrecTable=a.tokenPrec,this.termNames=a.termNames||null,this.maxNode=this.nodeSet.types.length-1,this.dialect=this.parseDialect(),this.top=this.topRules[Object.keys(this.topRules)[0]]}createParse(a,b,c){let d=new g5(this,a,b,c);for(let e of this.wrappers)d=e(d,a,b,c);return d}getGoto(a,b,c=!1){let d=this.goto;if(b>=d[0])return -1;for(let e=d[b+1];;){let b=d[e++],f=1&b,g=d[e++];if(f&&c)return g;for(let c=e+(b>>1);e<c;e++)if(d[e]==a)return g;if(f)return -1}}hasAction(a,b){let c=this.data;for(let d=0;d<2;d++)for(let e=this.stateSlot(a,d?2:1),f;;e+=3){if(65535==(f=c[e]))if(1==c[e+1])f=c[e=g9(c,e+2)];else if(2==c[e+1])return g9(c,e+2);else break;if(f==b||0==f)return g9(c,e+1)}return 0}stateSlot(a,b){return this.states[6*a+b]}stateFlag(a,b){return(this.stateSlot(a,0)&b)>0}validAction(a,b){return!!this.allActions(a,a=>a==b||null)}allActions(a,b){let c=this.stateSlot(a,4),d=c?b(c):void 0;for(let c=this.stateSlot(a,1);null==d;c+=3){if(65535==this.data[c])if(1==this.data[c+1])c=g9(this.data,c+2);else break;d=b(g9(this.data,c+1))}return d}nextStates(a){let b=[];for(let c=this.stateSlot(a,1);;c+=3){if(65535==this.data[c])if(1==this.data[c+1])c=g9(this.data,c+2);else break;if((1&this.data[c+2])==0){let a=this.data[c+1];b.some((b,c)=>1&c&&b==a)||b.push(this.data[c],a)}}return b}configure(a){let b=Object.assign(Object.create(g8.prototype),this);if(a.props&&(b.nodeSet=this.nodeSet.extend(...a.props)),a.top){let c=this.topRules[a.top];if(!c)throw RangeError(`Invalid top rule name ${a.top}`);b.top=c}return a.tokenizers&&(b.tokenizers=this.tokenizers.map(b=>{let c=a.tokenizers.find(a=>a.from==b);return c?c.to:b})),a.specializers&&(b.specializers=this.specializers.slice(),b.specializerSpecs=this.specializerSpecs.map((c,d)=>{let e=a.specializers.find(a=>a.from==c.external);if(!e)return c;let f=Object.assign(Object.assign({},c),{external:e.to});return b.specializers[d]=ha(f),f})),a.contextTracker&&(b.context=a.contextTracker),a.dialect&&(b.dialect=this.parseDialect(a.dialect)),null!=a.strict&&(b.strict=a.strict),a.wrap&&(b.wrappers=b.wrappers.concat(a.wrap)),null!=a.bufferLength&&(b.bufferLength=a.bufferLength),b}hasWrappers(){return this.wrappers.length>0}getName(a){return this.termNames?this.termNames[a]:String(a<=this.maxNode&&this.nodeSet.types[a].name||a)}get eofTerm(){return this.maxNode+1}get topNode(){return this.nodeSet.types[this.top[1]]}dynamicPrecedence(a){let b=this.dynamicPrecedences;return null==b?0:b[a]||0}parseDialect(a){let b=Object.keys(this.dialects),c=b.map(()=>!1);if(a)for(let d of a.split(" ")){let a=b.indexOf(d);a>=0&&(c[a]=!0)}let d=null;for(let a=0;a<b.length;a++)if(!c[a])for(let c=this.dialects[b[a]],e;65535!=(e=this.data[c++]);)(d||(d=new Uint8Array(this.maxTerm+1)))[e]=1;return new g7(a,c,d)}static deserialize(a){return new g8(a)}}function g9(a,b){return a[b]|a[b+1]<<16}function ha(a){if(a.external){let b=+!!a.extend;return(c,d)=>a.external(c,d)<<1|b}return a.get}class hb{constructor(a,b,c,d){this.state=a,this.pos=b,this.explicit=c,this.view=d,this.abortListeners=[],this.abortOnDocChange=!1}tokenBefore(a){let b=f1(this.state).resolveInner(this.pos,-1);for(;b&&0>a.indexOf(b.name);)b=b.parent;return b?{from:b.from,to:this.pos,text:this.state.sliceDoc(b.from,this.pos),type:b.type}:null}matchBefore(a){let b=this.state.doc.lineAt(this.pos),c=Math.max(b.from,this.pos-250),d=b.text.slice(c-b.from,this.pos-b.from),e=d.search(hg(a,!1));return e<0?null:{from:c+e,to:this.pos,text:d.slice(e)}}get aborted(){return null==this.abortListeners}addEventListener(a,b,c){"abort"==a&&this.abortListeners&&(this.abortListeners.push(b),c&&c.onDocChange&&(this.abortOnDocChange=!0))}}function hc(a){let b=Object.keys(a).join(""),c=/\w/.test(b);return c&&(b=b.replace(/\w/g,"")),`[${c?"\\w":""}${b.replace(/[^\w\s]/g,"\\$&")}]`}function hd(a){let b=a.map(a=>"string"==typeof a?{label:a}:a),[c,d]=b.every(a=>/^\w+$/.test(a.label))?[/\w*$/,/\w+$/]:function(a){let b=Object.create(null),c=Object.create(null);for(let{label:d}of a){b[d[0]]=!0;for(let a=1;a<d.length;a++)c[d[a]]=!0}let d=hc(b)+hc(c)+"*$";return[RegExp("^"+d),new RegExp(d)]}(b);return a=>{let e=a.matchBefore(d);return e||a.explicit?{from:e?e.from:a.pos,options:b,validFor:c}:null}}class he{constructor(a,b,c,d){this.completion=a,this.source=b,this.match=c,this.score=d}}function hf(a){return a.selection.main.from}function hg(a,b){var c;let{source:d}=a,e=b&&"^"!=d[0],f="$"!=d[d.length-1];return e||f?RegExp(`${e?"^":""}(?:${d})${f?"$":""}`,null!=(c=a.flags)?c:a.ignoreCase?"i":""):a}let hh=aE.define(),hi=new WeakMap;function hj(a){if(!Array.isArray(a))return a;let b=hi.get(a);return b||hi.set(a,b=hd(a)),b}let hk=aH.define(),hl=aH.define();class hm{constructor(a){this.pattern=a,this.chars=[],this.folded=[],this.any=[],this.precise=[],this.byWord=[],this.score=0,this.matched=[];for(let b=0;b<a.length;){let c=T(a,b),d=V(c);this.chars.push(c);let e=a.slice(b,b+d),f=e.toUpperCase();this.folded.push(T(f==e?e.toLowerCase():f,0)),b+=d}this.astral=a.length!=this.chars.length}ret(a,b){return this.score=a,this.matched=b,this}match(a){if(0==this.pattern.length)return this.ret(-100,[]);if(a.length<this.pattern.length)return null;let{chars:b,folded:c,any:d,precise:e,byWord:f}=this;if(1==b.length){let d=T(a,0),e=V(d),f=e==a.length?0:-100;if(d==b[0]);else{if(d!=c[0])return null;f+=-200}return this.ret(f,[0,e])}let g=a.indexOf(this.pattern);if(0==g)return this.ret(a.length==this.pattern.length?0:-100,[0,this.pattern.length]);let h=b.length,i=0;if(g<0){for(let e=0,f=Math.min(a.length,200);e<f&&i<h;){let f=T(a,e);(f==b[i]||f==c[i])&&(d[i++]=e),e+=V(f)}if(i<h)return null}let j=0,k=0,l=!1,m=0,n=-1,o=-1,p=/[a-z]/.test(a),q=!0;for(let d=0,i=Math.min(a.length,200),r=0;d<i&&k<h;){let i=T(a,d);g<0&&(j<h&&i==b[j]&&(e[j++]=d),m<h&&(i==b[m]||i==c[m]?(0==m&&(n=d),o=d+1,m++):m=0));let s,t=i<255?i>=48&&i<=57||i>=97&&i<=122?2:+(i>=65&&i<=90):(s=U(i))!=s.toLowerCase()?1:2*(s!=s.toUpperCase());(!d||1==t&&p||0==r&&0!=t)&&(b[k]==i||c[k]==i&&(l=!0)?f[k++]=d:f.length&&(q=!1)),r=t,d+=V(i)}return k==h&&0==f[0]&&q?this.result(-100+(l?-200:0),f,a):m==h&&0==n?this.ret(-200-a.length+(o==a.length?0:-100),[0,o]):g>-1?this.ret(-700-a.length,[g,g+this.pattern.length]):m==h?this.ret(-900-a.length,[n,o]):k==h?this.result(-100+(l?-200:0)+-700+(q?0:-1100),f,a):2==b.length?null:this.result((d[0]?-700:0)+-200+-1100,d,a)}result(a,b,c){let d=[],e=0;for(let a of b){let b=a+(this.astral?V(T(c,a)):1);e&&d[e-1]==a?d[e-1]=b:(d[e++]=a,d[e++]=b)}return this.ret(a-c.length,d)}}class hn{constructor(a){this.pattern=a,this.matched=[],this.score=0,this.folded=a.toLowerCase()}match(a){if(a.length<this.pattern.length)return null;let b=a.slice(0,this.pattern.length),c=b==this.pattern?0:b.toLowerCase()==this.folded?-200:null;return null==c?null:(this.matched=[0,b.length],this.score=c+(a.length==this.pattern.length?0:-100),this)}}let ho=ai.define({combine:a=>aQ(a,{activateOnTyping:!0,activateOnCompletion:()=>!1,activateOnTypingDelay:100,selectOnOpen:!0,override:null,closeOnBlur:!0,maxRenderedOptions:100,defaultKeymap:!0,tooltipClass:()=>"",optionClass:()=>"",aboveCursor:!1,icons:!0,addToOptions:[],positionInfo:hq,filterStrict:!1,compareCompletions:(a,b)=>a.label.localeCompare(b.label),interactionDelay:75,updateSyncTime:100},{defaultKeymap:(a,b)=>a&&b,closeOnBlur:(a,b)=>a&&b,icons:(a,b)=>a&&b,tooltipClass:(a,b)=>c=>hp(a(c),b(c)),optionClass:(a,b)=>c=>hp(a(c),b(c)),addToOptions:(a,b)=>a.concat(b),filterStrict:(a,b)=>a||b})});function hp(a,b){return a?b?a+" "+b:a:b}function hq(a,b,c,d,e,f){let g=a.textDirection==ch.RTL,h=g,i=!1,j="top",k,l,m=b.left-e.left,n=e.right-b.right,o=d.right-d.left,p=d.bottom-d.top;if(h&&m<Math.min(o,n)?h=!1:!h&&n<Math.min(o,m)&&(h=!0),o<=(h?m:n))k=Math.max(e.top,Math.min(c.top,e.bottom-p))-b.top,l=Math.min(400,h?m:n);else{i=!0,l=Math.min(400,(g?b.right:e.right-b.left)-30);let a=e.bottom-b.bottom;a>=p||a>b.top?k=c.bottom-b.top:(j="bottom",k=b.bottom-c.top)}let q=(b.bottom-b.top)/f.offsetHeight,r=(b.right-b.left)/f.offsetWidth;return{style:`${j}: ${k/q}px; max-width: ${l/r}px`,class:"cm-completionInfo-"+(i?g?"left-narrow":"right-narrow":h?"left":"right")}}function hr(a,b,c){if(a<=c)return{from:0,to:a};if(b<0&&(b=0),b<=a>>1){let a=Math.floor(b/c);return{from:a*c,to:(a+1)*c}}let d=Math.floor((a-b)/c);return{from:a-(d+1)*c,to:a-d*c}}class hs{constructor(a,b,c){this.view=a,this.stateField=b,this.applyCompletion=c,this.info=null,this.infoDestroy=null,this.placeInfoReq={read:()=>this.measureInfo(),write:a=>this.placeInfo(a),key:this},this.space=null,this.currentClass="";let d=a.state.field(b),{options:e,selected:f}=d.open,g=a.state.facet(ho);this.optionContent=function(a){let b=a.addToOptions.slice();return a.icons&&b.push({render(a){let b=document.createElement("div");return b.classList.add("cm-completionIcon"),a.type&&b.classList.add(...a.type.split(/\s+/g).map(a=>"cm-completionIcon-"+a)),b.setAttribute("aria-hidden","true"),b},position:20}),b.push({render(a,b,c,d){let e=document.createElement("span");e.className="cm-completionLabel";let f=a.displayLabel||a.label,g=0;for(let a=0;a<d.length;){let b=d[a++],c=d[a++];b>g&&e.appendChild(document.createTextNode(f.slice(g,b)));let h=e.appendChild(document.createElement("span"));h.appendChild(document.createTextNode(f.slice(b,c))),h.className="cm-completionMatchedText",g=c}return g<f.length&&e.appendChild(document.createTextNode(f.slice(g))),e},position:50},{render(a){if(!a.detail)return null;let b=document.createElement("span");return b.className="cm-completionDetail",b.textContent=a.detail,b},position:80}),b.sort((a,b)=>a.position-b.position).map(a=>a.render)}(g),this.optionClass=g.optionClass,this.tooltipClass=g.tooltipClass,this.range=hr(e.length,f,g.maxRenderedOptions),this.dom=document.createElement("div"),this.dom.className="cm-tooltip-autocomplete",this.updateTooltipClass(a.state),this.dom.addEventListener("mousedown",c=>{let{options:d}=a.state.field(b).open;for(let b=c.target,e;b&&b!=this.dom;b=b.parentNode)if("LI"==b.nodeName&&(e=/-(\d+)$/.exec(b.id))&&+e[1]<d.length){this.applyCompletion(a,d[+e[1]]),c.preventDefault();return}}),this.dom.addEventListener("focusout",b=>{let c=a.state.field(this.stateField,!1);c&&c.tooltip&&a.state.facet(ho).closeOnBlur&&b.relatedTarget!=a.contentDOM&&a.dispatch({effects:hl.of(null)})}),this.showOptions(e,d.id)}mount(){this.updateSel()}showOptions(a,b){this.list&&this.list.remove(),this.list=this.dom.appendChild(this.createListBox(a,b,this.range)),this.list.addEventListener("scroll",()=>{this.info&&this.view.requestMeasure(this.placeInfoReq)})}update(a){var b;let c=a.state.field(this.stateField),d=a.startState.field(this.stateField);if(this.updateTooltipClass(a.state),c!=d){let{options:e,selected:f,disabled:g}=c.open;d.open&&d.open.options==e||(this.range=hr(e.length,f,a.state.facet(ho).maxRenderedOptions),this.showOptions(e,c.id)),this.updateSel(),g!=(null==(b=d.open)?void 0:b.disabled)&&this.dom.classList.toggle("cm-tooltip-autocomplete-disabled",!!g)}}updateTooltipClass(a){let b=this.tooltipClass(a);if(b!=this.currentClass){for(let a of this.currentClass.split(" "))a&&this.dom.classList.remove(a);for(let a of b.split(" "))a&&this.dom.classList.add(a);this.currentClass=b}}positioned(a){this.space=a,this.info&&this.view.requestMeasure(this.placeInfoReq)}updateSel(){let a=this.view.state.field(this.stateField),b=a.open;(b.selected>-1&&b.selected<this.range.from||b.selected>=this.range.to)&&(this.range=hr(b.options.length,b.selected,this.view.state.facet(ho).maxRenderedOptions),this.showOptions(b.options,a.id));let c=this.updateSelectedOption(b.selected);if(c){this.destroyInfo();let{completion:d}=b.options[b.selected],{info:e}=d;if(!e)return;let f="string"==typeof e?document.createTextNode(e):e(d);if(!f)return;"then"in f?f.then(b=>{b&&this.view.state.field(this.stateField,!1)==a&&this.addInfoPane(b,d)}).catch(a=>cK(this.view.state,a,"completion info")):(this.addInfoPane(f,d),c.setAttribute("aria-describedby",this.info.id))}}addInfoPane(a,b){this.destroyInfo();let c=this.info=document.createElement("div");if(c.className="cm-tooltip cm-completionInfo",c.id="cm-completionInfo-"+Math.floor(65535*Math.random()).toString(16),null!=a.nodeType)c.appendChild(a),this.infoDestroy=null;else{let{dom:b,destroy:d}=a;c.appendChild(b),this.infoDestroy=d||null}this.dom.appendChild(c),this.view.requestMeasure(this.placeInfoReq)}updateSelectedOption(a){var b,c;let d,e,f,g=null;for(let b=this.list.firstChild,c=this.range.from;b;b=b.nextSibling,c++)"LI"==b.nodeName&&b.id?c==a?b.hasAttribute("aria-selected")||(b.setAttribute("aria-selected","true"),g=b):b.hasAttribute("aria-selected")&&(b.removeAttribute("aria-selected"),b.removeAttribute("aria-describedby")):c--;return g&&(b=this.list,c=g,d=b.getBoundingClientRect(),e=c.getBoundingClientRect(),f=d.height/b.offsetHeight,e.top<d.top?b.scrollTop-=(d.top-e.top)/f:e.bottom>d.bottom&&(b.scrollTop+=(e.bottom-d.bottom)/f)),g}measureInfo(){let a=this.dom.querySelector("[aria-selected]");if(!a||!this.info)return null;let b=this.dom.getBoundingClientRect(),c=this.info.getBoundingClientRect(),d=a.getBoundingClientRect(),e=this.space;if(!e){let a=this.dom.ownerDocument.documentElement;e={left:0,top:0,right:a.clientWidth,bottom:a.clientHeight}}return d.top>Math.min(e.bottom,b.bottom)-10||d.bottom<Math.max(e.top,b.top)+10?null:this.view.state.facet(ho).positionInfo(this.view,b,d,c,e,this.dom)}placeInfo(a){this.info&&(a?(a.style&&(this.info.style.cssText=a.style),this.info.className="cm-tooltip cm-completionInfo "+(a.class||"")):this.info.style.cssText="top: -1e6px")}createListBox(a,b,c){let d=document.createElement("ul");d.id=b,d.setAttribute("role","listbox"),d.setAttribute("aria-expanded","true"),d.setAttribute("aria-label",this.view.state.phrase("Completions")),d.addEventListener("mousedown",a=>{a.target==d&&a.preventDefault()});let e=null;for(let f=c.from;f<c.to;f++){let{completion:g,match:h}=a[f],{section:i}=g;if(i){let a="string"==typeof i?i:i.name;a!=e&&(f>c.from||0==c.from)&&(e=a,"string"!=typeof i&&i.header?d.appendChild(i.header(i)):d.appendChild(document.createElement("completion-section")).textContent=a)}let j=d.appendChild(document.createElement("li"));j.id=b+"-"+f,j.setAttribute("role","option");let k=this.optionClass(g);for(let a of(k&&(j.className=k),this.optionContent)){let b=a(g,this.view.state,this.view,h);b&&j.appendChild(b)}}return c.from&&d.classList.add("cm-completionListIncompleteTop"),c.to<a.length&&d.classList.add("cm-completionListIncompleteBottom"),d}destroyInfo(){this.info&&(this.infoDestroy&&this.infoDestroy(),this.info.remove(),this.info=null)}destroy(){this.destroyInfo()}}function ht(a){return 100*(a.boost||0)+10*!!a.apply+5*!!a.info+ +!!a.type}class hu{constructor(a,b,c,d,e,f){this.options=a,this.attrs=b,this.tooltip=c,this.timestamp=d,this.selected=e,this.disabled=f}setSelected(a,b){return a==this.selected||a>=this.options.length?this:new hu(this.options,hy(b,a),this.tooltip,this.timestamp,a,this.disabled)}static build(a,b,c,d,e,f){if(d&&!f&&a.some(a=>a.isPending))return d.setDisabled();let g=function(a,b){let c=[],d=null,e=null,f=a=>{c.push(a);let{section:b}=a.completion;if(b){d||(d=[]);let a="string"==typeof b?b:b.name;d.some(b=>b.name==a)||d.push("string"==typeof b?{name:a}:b)}},g=b.facet(ho);for(let d of a)if(d.hasResult()){let a=d.result.getMatch;if(!1===d.result.filter)for(let b of d.result.options)f(new he(b,d.source,a?a(b):[],1e9-c.length));else{let c=b.sliceDoc(d.from,d.to),h,i=g.filterStrict?new hn(c):new hm(c);for(let b of d.result.options)if(h=i.match(b.label)){let c=b.displayLabel?a?a(b,h.matched):[]:h.matched,g=h.score+(b.boost||0);if(f(new he(b,d.source,c,g)),"object"==typeof b.section&&"dynamic"===b.section.rank){let{name:a}=b.section;e||(e=Object.create(null)),e[a]=Math.max(g,e[a]||-1e9)}}}}if(d){let a=Object.create(null),b=0;for(let c of d.sort((a,b)=>("dynamic"===a.rank&&"dynamic"===b.rank?e[b.name]-e[a.name]:0)||("number"==typeof a.rank?a.rank:1e9)-("number"==typeof b.rank?b.rank:1e9)||(a.name<b.name?-1:1)))b-=1e5,a[c.name]=b;for(let b of c){let{section:c}=b.completion;c&&(b.score+=a["string"==typeof c?c:c.name])}}let h=[],i=null,j=g.compareCompletions;for(let a of c.sort((a,b)=>b.score-a.score||j(a.completion,b.completion))){let b=a.completion;i&&i.label==b.label&&i.detail==b.detail&&(null==i.type||null==b.type||i.type==b.type)&&i.apply==b.apply&&i.boost==b.boost?ht(a.completion)>ht(i)&&(h[h.length-1]=a):h.push(a),i=a.completion}return h}(a,b);if(!g.length)return d&&a.some(a=>a.isPending)?d.setDisabled():null;let h=b.facet(ho).selectOnOpen?0:-1;if(d&&d.selected!=h&&-1!=d.selected){let a=d.options[d.selected].completion;for(let b=0;b<g.length;b++)if(g[b].completion==a){h=b;break}}return new hu(g,hy(c,h),{pos:a.reduce((a,b)=>b.hasResult()?Math.min(a,b.from):a,1e8),create:hH,above:e.aboveCursor},d?d.timestamp:Date.now(),h,!1)}map(a){return new hu(this.options,this.attrs,{...this.tooltip,pos:a.mapPos(this.tooltip.pos)},this.timestamp,this.selected,this.disabled)}setDisabled(){return new hu(this.options,this.attrs,this.tooltip,this.timestamp,this.selected,!0)}}class hv{constructor(a,b,c){this.active=a,this.id=b,this.open=c}static start(){return new hv(hz,"cm-ac-"+Math.floor(2e6*Math.random()).toString(36),null)}update(a){let{state:b}=a,c=b.facet(ho),d=(c.override||b.languageDataAt("autocomplete",hf(b)).map(hj)).map(b=>(this.active.find(a=>a.source==b)||new hB(b,+!!this.active.some(a=>0!=a.state))).update(a,c));d.length==this.active.length&&d.every((a,b)=>a==this.active[b])&&(d=this.active);let e=this.open,f=a.effects.some(a=>a.is(hD));for(let g of(e&&a.docChanged&&(e=e.map(a.changes)),a.selection||d.some(b=>b.hasResult()&&a.changes.touchesRange(b.from,b.to))||!function(a,b){if(a==b)return!0;for(let c=0,d=0;;){for(;c<a.length&&!a[c].hasResult();)c++;for(;d<b.length&&!b[d].hasResult();)d++;let e=c==a.length,f=d==b.length;if(e||f)return e==f;if(a[c++].result!=b[d++].result)return!1}}(d,this.active)||f?e=hu.build(d,b,this.id,e,c,f):e&&e.disabled&&!d.some(a=>a.isPending)&&(e=null),!e&&d.every(a=>!a.isPending)&&d.some(a=>a.hasResult())&&(d=d.map(a=>a.hasResult()?new hB(a.source,0):a)),a.effects))g.is(hE)&&(e=e&&e.setSelected(g.value,this.id));return d==this.active&&e==this.open?this:new hv(d,this.id,e)}get tooltip(){return this.open?this.open.tooltip:null}get attrs(){return this.open?this.open.attrs:this.active.length?hw:hx}}let hw={"aria-autocomplete":"list"},hx={};function hy(a,b){let c={"aria-autocomplete":"list","aria-haspopup":"listbox","aria-controls":a};return b>-1&&(c["aria-activedescendant"]=a+"-"+b),c}let hz=[];function hA(a,b){if(a.isUserEvent("input.complete")){let c=a.annotation(hh);if(c&&b.activateOnCompletion(c))return 12}let c=a.isUserEvent("input.type");return c&&b.activateOnTyping?5:c?1:a.isUserEvent("delete.backward")?2:a.selection?8:16*!!a.docChanged}class hB{constructor(a,b,c=!1){this.source=a,this.state=b,this.explicit=c}hasResult(){return!1}get isPending(){return 1==this.state}update(a,b){let c=hA(a,b),d=this;for(let b of((8&c||16&c&&this.touches(a))&&(d=new hB(d.source,0)),4&c&&0==d.state&&(d=new hB(this.source,1)),d=d.updateFor(a,c),a.effects))if(b.is(hk))d=new hB(d.source,1,b.value);else if(b.is(hl))d=new hB(d.source,0);else if(b.is(hD))for(let a of b.value)a.source==d.source&&(d=a);return d}updateFor(a,b){return this.map(a.changes)}map(a){return this}touches(a){return a.changes.touchesRange(hf(a.state))}}class hC extends hB{constructor(a,b,c,d,e,f){super(a,3,b),this.limit=c,this.result=d,this.from=e,this.to=f}hasResult(){return!0}updateFor(a,b){var c;if(!(3&b))return this.map(a.changes);let d=this.result;d.map&&!a.changes.empty&&(d=d.map(d,a.changes));let e=a.changes.mapPos(this.from),f=a.changes.mapPos(this.to,1),g=hf(a.state);if(g>f||!d||2&b&&(hf(a.startState)==this.from||g<this.limit))return new hB(this.source,4&b?1:0);let h=a.changes.mapPos(this.limit);return!function(a,b,c,d){if(!a)return!1;let e=b.sliceDoc(c,d);return"function"==typeof a?a(e,c,d,b):hg(a,!0).test(e)}(d.validFor,a.state,e,f)?d.update&&(d=d.update(d,e,f,new hb(a.state,g,!1)))?new hC(this.source,this.explicit,h,d,d.from,null!=(c=d.to)?c:hf(a.state)):new hB(this.source,1,this.explicit):new hC(this.source,this.explicit,h,d,e,f)}map(a){return a.empty?this:(this.result.map?this.result.map(this.result,a):this.result)?new hC(this.source,this.explicit,a.mapPos(this.limit),this.result,a.mapPos(this.from),a.mapPos(this.to,1)):new hB(this.source,0)}touches(a){return a.changes.touchesRange(this.from,this.to)}}let hD=aH.define({map:(a,b)=>a.map(a=>a.map(b))}),hE=aH.define(),hF=ao.define({create:()=>hv.start(),update:(a,b)=>a.update(b),provide:a=>[eH.from(a,a=>a.tooltip),em.contentAttributes.from(a,a=>a.attrs)]});function hG(a,b){let c=b.completion.apply||b.completion.label,d=a.state.field(hF).active.find(a=>a.source==b.source);return d instanceof hC&&("string"==typeof c?a.dispatch({...function(a,b,c,d){let{main:e}=a.selection,f=c-e.from,g=d-e.from;return{...a.changeByRange(h=>{if(h!=e&&c!=d&&a.sliceDoc(h.from+f,h.from+g)!=a.sliceDoc(c,d))return{range:h};let i=a.toText(b);return{changes:{from:h.from+f,to:d==e.from?h.to:h.from+g,insert:i},range:af.cursor(h.from+f+i.length)}}),scrollIntoView:!0,userEvent:"input.complete"}}(a.state,c,d.from,d.to),annotations:hh.of(b.completion)}):c(a,b.completion,d.from,d.to),!0)}let hH=a=>new hs(a,hF,hG);function hI(a,b="option"){return c=>{let d=c.state.field(hF,!1);if(!d||!d.open||d.open.disabled||Date.now()-d.open.timestamp<c.state.facet(ho).interactionDelay)return!1;let e=1,f;"page"==b&&(f=eJ(c,d.open.tooltip))&&(e=Math.max(2,Math.floor(f.dom.offsetHeight/f.dom.querySelector("li").offsetHeight)-1));let{length:g}=d.open.options,h=d.open.selected>-1?d.open.selected+e*(a?1:-1):a?0:g-1;return h<0?h="page"==b?0:g-1:h>=g&&(h="page"==b?g-1:0),c.dispatch({effects:hE.of(h)}),!0}}let hJ=a=>!!a.state.field(hF,!1)&&(a.dispatch({effects:hk.of(!0)}),!0);class hK{constructor(a,b){this.active=a,this.context=b,this.time=Date.now(),this.updates=[],this.done=void 0}}let hL=cO.fromClass(class{constructor(a){for(let b of(this.view=a,this.debounceUpdate=-1,this.running=[],this.debounceAccept=-1,this.pendingStart=!1,this.composing=0,a.state.field(hF).active))b.isPending&&this.startQuery(b)}update(a){let b=a.state.field(hF),c=a.state.facet(ho);if(!a.selectionSet&&!a.docChanged&&a.startState.field(hF)==b)return;let d=a.transactions.some(a=>{let b=hA(a,c);return 8&b||(a.selection||a.docChanged)&&!(3&b)});for(let b=0;b<this.running.length;b++){let c=this.running[b];if(d||c.context.abortOnDocChange&&a.docChanged||c.updates.length+a.transactions.length>50&&Date.now()-c.time>1e3){for(let a of c.context.abortListeners)try{a()}catch(a){cK(this.view.state,a)}c.context.abortListeners=null,this.running.splice(b--,1)}else c.updates.push(...a.transactions)}this.debounceUpdate>-1&&clearTimeout(this.debounceUpdate),a.transactions.some(a=>a.effects.some(a=>a.is(hk)))&&(this.pendingStart=!0);let e=this.pendingStart?50:c.activateOnTypingDelay;if(this.debounceUpdate=b.active.some(a=>a.isPending&&!this.running.some(b=>b.active.source==a.source))?setTimeout(()=>this.startUpdate(),e):-1,0!=this.composing)for(let b of a.transactions)b.isUserEvent("input.type")?this.composing=2:2==this.composing&&b.selection&&(this.composing=3)}startUpdate(){this.debounceUpdate=-1,this.pendingStart=!1;let{state:a}=this.view,b=a.field(hF);for(let a of b.active)a.isPending&&!this.running.some(b=>b.active.source==a.source)&&this.startQuery(a);this.running.length&&b.open&&b.open.disabled&&(this.debounceAccept=setTimeout(()=>this.accept(),this.view.state.facet(ho).updateSyncTime))}startQuery(a){let{state:b}=this.view,c=hf(b),d=new hb(b,c,a.explicit,this.view),e=new hK(a,d);this.running.push(e),Promise.resolve(a.source(d)).then(a=>{e.context.aborted||(e.done=a||null,this.scheduleAccept())},a=>{this.view.dispatch({effects:hl.of(null)}),cK(this.view.state,a)})}scheduleAccept(){this.running.every(a=>void 0!==a.done)?this.accept():this.debounceAccept<0&&(this.debounceAccept=setTimeout(()=>this.accept(),this.view.state.facet(ho).updateSyncTime))}accept(){var a;this.debounceAccept>-1&&clearTimeout(this.debounceAccept),this.debounceAccept=-1;let b=[],c=this.view.state.facet(ho),d=this.view.state.field(hF);for(let e=0;e<this.running.length;e++){let f=this.running[e];if(void 0===f.done)continue;if(this.running.splice(e--,1),f.done){let d=hf(f.updates.length?f.updates[0].startState:this.view.state),e=Math.min(d,f.done.from+ +!f.active.explicit),g=new hC(f.active.source,f.active.explicit,e,f.done,f.done.from,null!=(a=f.done.to)?a:d);for(let a of f.updates)g=g.update(a,c);if(g.hasResult()){b.push(g);continue}}let g=d.active.find(a=>a.source==f.active.source);if(g&&g.isPending)if(null==f.done){let a=new hB(f.active.source,0);for(let b of f.updates)a=a.update(b,c);a.isPending||b.push(a)}else this.startQuery(g)}(b.length||d.open&&d.open.disabled)&&this.view.dispatch({effects:hD.of(b)})}},{eventHandlers:{blur(a){let b=this.view.state.field(hF,!1);if(b&&b.tooltip&&this.view.state.facet(ho).closeOnBlur){let c=b.open&&eJ(this.view,b.open.tooltip);c&&c.dom.contains(a.relatedTarget)||setTimeout(()=>this.view.dispatch({effects:hl.of(null)}),10)}},compositionstart(){this.composing=1},compositionend(){3==this.composing&&setTimeout(()=>this.view.dispatch({effects:hk.of(!1)}),20),this.composing=0}}}),hM="object"==typeof navigator&&/Win/.test(navigator.platform),hN=aq.highest(em.domEventHandlers({keydown(a,b){let c=b.state.field(hF,!1);if(!c||!c.open||c.open.disabled||c.open.selected<0||a.key.length>1||a.ctrlKey&&!(hM&&a.altKey)||a.metaKey)return!1;let d=c.open.options[c.open.selected],e=c.active.find(a=>a.source==d.source),f=d.completion.commitCharacters||e.result.commitCharacters;return f&&f.indexOf(a.key)>-1&&hG(b,d),!1}})),hO=em.baseTheme({".cm-tooltip.cm-tooltip-autocomplete":{"& > ul":{fontFamily:"monospace",whiteSpace:"nowrap",overflow:"hidden auto",maxWidth_fallback:"700px",maxWidth:"min(700px, 95vw)",minWidth:"250px",maxHeight:"10em",height:"100%",listStyle:"none",margin:0,padding:0,"& > li, & > completion-section":{padding:"1px 3px",lineHeight:1.2},"& > li":{overflowX:"hidden",textOverflow:"ellipsis",cursor:"pointer"},"& > completion-section":{display:"list-item",borderBottom:"1px solid silver",paddingLeft:"0.5em",opacity:.7}}},"&light .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#17c",color:"white"},"&light .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#777"},"&dark .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#347",color:"white"},"&dark .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#444"},".cm-completionListIncompleteTop:before, .cm-completionListIncompleteBottom:after":{content:'"···"',opacity:.5,display:"block",textAlign:"center"},".cm-tooltip.cm-completionInfo":{position:"absolute",padding:"3px 9px",width:"max-content",maxWidth:"400px",boxSizing:"border-box",whiteSpace:"pre-line"},".cm-completionInfo.cm-completionInfo-left":{right:"100%"},".cm-completionInfo.cm-completionInfo-right":{left:"100%"},".cm-completionInfo.cm-completionInfo-left-narrow":{right:"30px"},".cm-completionInfo.cm-completionInfo-right-narrow":{left:"30px"},"&light .cm-snippetField":{backgroundColor:"#00000022"},"&dark .cm-snippetField":{backgroundColor:"#ffffff22"},".cm-snippetFieldPosition":{verticalAlign:"text-top",width:0,height:"1.15em",display:"inline-block",margin:"0 -0.7px -.7em",borderLeft:"1.4px dotted #888"},".cm-completionMatchedText":{textDecoration:"underline"},".cm-completionDetail":{marginLeft:"0.5em",fontStyle:"italic"},".cm-completionIcon":{fontSize:"90%",width:".8em",display:"inline-block",textAlign:"center",paddingRight:".6em",opacity:"0.6",boxSizing:"content-box"},".cm-completionIcon-function, .cm-completionIcon-method":{"&:after":{content:"'ƒ'"}},".cm-completionIcon-class":{"&:after":{content:"'○'"}},".cm-completionIcon-interface":{"&:after":{content:"'◌'"}},".cm-completionIcon-variable":{"&:after":{content:"'𝑥'"}},".cm-completionIcon-constant":{"&:after":{content:"'𝐶'"}},".cm-completionIcon-type":{"&:after":{content:"'𝑡'"}},".cm-completionIcon-enum":{"&:after":{content:"'∪'"}},".cm-completionIcon-property":{"&:after":{content:"'□'"}},".cm-completionIcon-keyword":{"&:after":{content:"'🔑︎'"}},".cm-completionIcon-namespace":{"&:after":{content:"'▢'"}},".cm-completionIcon-text":{"&:after":{content:"'abc'",fontSize:"50%",verticalAlign:"middle"}}}),hP=b5.widget({widget:new class extends b3{toDOM(){let a=document.createElement("span");return a.className="cm-snippetFieldPosition",a}ignoreEvent(){return!1}}}),hQ=b5.mark({class:"cm-snippetField"});class hR{constructor(a,b){this.ranges=a,this.active=b,this.deco=b5.set(a.map(a=>(a.from==a.to?hP:hQ).range(a.from,a.to)),!0)}map(a){let b=[];for(let c of this.ranges){let d=c.map(a);if(!d)return null;b.push(d)}return new hR(b,this.active)}selectionInsideField(a){return a.ranges.every(a=>this.ranges.some(b=>b.field==this.active&&b.from<=a.from&&b.to>=a.to))}}let hS=aH.define({map:(a,b)=>a&&a.map(b)}),hT=aH.define(),hU=ao.define({create:()=>null,update(a,b){for(let c of b.effects){if(c.is(hS))return c.value;if(c.is(hT)&&a)return new hR(a.ranges,c.value)}return a&&b.docChanged&&(a=a.map(b.changes)),a&&b.selection&&!a.selectionInsideField(b.selection)&&(a=null),a},provide:a=>em.decorations.from(a,a=>a?a.deco:b5.none)});function hV(a){return({state:b,dispatch:c})=>{var d;let e=b.field(hU,!1);if(!e||a<0&&0==e.active)return!1;let f=e.active+a,g=a>0&&!e.ranges.some(b=>b.field==f+a);return c(b.update({selection:(d=e.ranges,af.create(d.filter(a=>a.field==f).map(a=>af.range(a.from,a.to)))),effects:hS.of(g?null:new hR(e.ranges,f)),scrollIntoView:!0})),!0}}let hW=[{key:"Tab",run:hV(1),shift:hV(-1)},{key:"Escape",run:({state:a,dispatch:b})=>!!a.field(hU,!1)&&(b(a.update({effects:hS.of(null)})),!0)}],hX={brackets:["(","[","{","'",'"'],before:")]}:;>",stringPrefixes:[]},hY=aH.define({map(a,b){let c=b.mapPos(a,-1,X.TrackAfter);return null==c?void 0:c}}),hZ=new class extends aR{};hZ.startSide=1,hZ.endSide=-1;"object"==typeof navigator&&navigator.userAgent;let h$=[{key:"Ctrl-Space",run:hJ},{mac:"Alt-`",run:hJ},{mac:"Alt-i",run:hJ},{key:"Escape",run:a=>{let b=a.state.field(hF,!1);return!!b&&!!b.active.some(a=>0!=a.state)&&(a.dispatch({effects:hl.of(null)}),!0)}},{key:"ArrowDown",run:hI(!0)},{key:"ArrowUp",run:hI(!1)},{key:"PageDown",run:hI(!0,"page")},{key:"PageUp",run:hI(!1,"page")},{key:"Enter",run:a=>{let b=a.state.field(hF,!1);return!(a.state.readOnly||!b||!b.open||b.open.selected<0||b.open.disabled||Date.now()-b.open.timestamp<a.state.facet(ho).interactionDelay)&&hG(a,b.open.options[b.open.selected])}}],h_=aq.highest(eu.computeN([ho],a=>a.facet(ho).defaultKeymap?[h$]:[]));function h0(a){return a>=65&&a<=90||a>=97&&a<=122||a>=48&&a<=57}function h1(a,b,c){for(let d=!1;;){if(a.next<0)return;if(a.next==b&&!d)return void a.advance();d=c&&!d&&92==a.next,a.advance()}}function h2(a,b){for(;95==a.next||h0(a.next);)null!=b&&(b+=String.fromCharCode(a.next)),a.advance();return b}function h3(a,b){for(;48==a.next||49==a.next;)a.advance();b&&a.next==b&&a.advance()}function h4(a,b){for(;;){if(46==a.next){if(b)break;b=!0}else if(a.next<48||a.next>57)break;a.advance()}if(69==a.next||101==a.next)for(a.advance(),(43==a.next||45==a.next)&&a.advance();a.next>=48&&a.next<=57;)a.advance()}function h5(a){for(;!(a.next<0||10==a.next);)a.advance()}function h6(a,b){for(let c=0;c<b.length;c++)if(b.charCodeAt(c)==a)return!0;return!1}let h7=" 	\r\n";function h8(a,b,c){let d=Object.create(null);for(let b of(d.true=d.false=5,d.null=d.unknown=6,a.split(" ")))b&&(d[b]=20);for(let a of b.split(" "))a&&(d[a]=21);for(let a of(c||"").split(" "))a&&(d[a]=24);return d}let h9={backslashEscapes:!1,hashComments:!1,spaceAfterDashes:!1,slashComments:!1,doubleQuotedStrings:!1,doubleDollarQuotedStrings:!1,unquotedBitLiterals:!1,treatBitsAsBytes:!1,charSetCasts:!1,plsqlQuotingMechanism:!1,operatorChars:"*+-%<>!=&|~^/",specialVar:"?",identifierQuotes:'"',caseInsensitiveIdentifiers:!1,words:h8("absolute action add after all allocate alter and any are as asc assertion at authorization before begin between both breadth by call cascade cascaded case cast catalog check close collate collation column commit condition connect connection constraint constraints constructor continue corresponding count create cross cube current current_date current_default_transform_group current_transform_group_for_type current_path current_role current_time current_timestamp current_user cursor cycle data day deallocate declare default deferrable deferred delete depth deref desc describe descriptor deterministic diagnostics disconnect distinct do domain drop dynamic each else elseif end end-exec equals escape except exception exec execute exists exit external fetch first for foreign found from free full function general get global go goto grant group grouping handle having hold hour identity if immediate in indicator initially inner inout input insert intersect into is isolation join key language last lateral leading leave left level like limit local localtime localtimestamp locator loop map match method minute modifies module month names natural nesting new next no none not of old on only open option or order ordinality out outer output overlaps pad parameter partial path prepare preserve primary prior privileges procedure public read reads recursive redo ref references referencing relative release repeat resignal restrict result return returns revoke right role rollback rollup routine row rows savepoint schema scroll search second section select session session_user set sets signal similar size some space specific specifictype sql sqlexception sqlstate sqlwarning start state static system_user table temporary then timezone_hour timezone_minute to trailing transaction translation treat trigger under undo union unique unnest until update usage user using value values view when whenever where while with without work write year zone ","array binary bit boolean char character clob date decimal double float int integer interval large national nchar nclob numeric object precision real smallint time timestamp varchar varying ")};function ia(a){return new gZ(b=>{let{next:c}=b;if(b.advance(),h6(c,h7)){for(;h6(b.next,h7);)b.advance();b.acceptToken(36)}else if(36==c&&a.doubleDollarQuotedStrings){let a=h2(b,"");36==b.next&&(b.advance(),function(a,b){c:for(;;){if(a.next<0)return;if(36==a.next){a.advance();for(let c=0;c<b.length;c++){if(a.next!=b.charCodeAt(c))continue c;a.advance()}if(36==a.next)return void a.advance()}else a.advance()}}(b,a),b.acceptToken(3))}else if(39==c||34==c&&a.doubleQuotedStrings)h1(b,c,a.backslashEscapes),b.acceptToken(3);else if(35==c&&a.hashComments||47==c&&47==b.next&&a.slashComments)h5(b),b.acceptToken(1);else if(45!=c||45!=b.next||a.spaceAfterDashes&&32!=b.peek(1)){if(47==c&&42==b.next){b.advance();for(let a=1;;){let c=b.next;if(b.next<0)break;if(b.advance(),42==c&&47==b.next){if(a--,b.advance(),!a)break}else 47==c&&42==b.next&&(a++,b.advance())}b.acceptToken(2)}else if((101==c||69==c)&&39==b.next)b.advance(),h1(b,39,!0),b.acceptToken(3);else if((110==c||78==c)&&39==b.next&&a.charSetCasts)b.advance(),h1(b,39,a.backslashEscapes),b.acceptToken(3);else if(95==c&&a.charSetCasts)for(let c=0;;c++){if(39==b.next&&c>1){b.advance(),h1(b,39,a.backslashEscapes),b.acceptToken(3);break}if(!h0(b.next))break;b.advance()}else if(a.plsqlQuotingMechanism&&(113==c||81==c)&&39==b.next&&b.peek(1)>0&&!h6(b.peek(1),h7)){let a=b.peek(1);b.advance(2),function(a,b){let c="[{<(".indexOf(String.fromCharCode(b)),d=c<0?b:"]}>)".charCodeAt(c);for(;;){if(a.next<0)return;if(a.next==d&&39==a.peek(1))return void a.advance(2);a.advance()}}(b,a),b.acceptToken(3)}else if(h6(c,a.identifierQuotes))h1(b,91==c?93:c,!1),b.acceptToken(19);else if(40==c)b.acceptToken(7);else if(41==c)b.acceptToken(8);else if(123==c)b.acceptToken(9);else if(125==c)b.acceptToken(10);else if(91==c)b.acceptToken(11);else if(93==c)b.acceptToken(12);else if(59==c)b.acceptToken(13);else if(a.unquotedBitLiterals&&48==c&&98==b.next)b.advance(),h3(b),b.acceptToken(22);else if((98==c||66==c)&&(39==b.next||34==b.next)){let c=b.next;b.advance(),a.treatBitsAsBytes?(h1(b,c,a.backslashEscapes),b.acceptToken(23)):(h3(b,c),b.acceptToken(22))}else if(48==c&&(120==b.next||88==b.next)||(120==c||88==c)&&39==b.next){let a=39==b.next;for(b.advance();(e=b.next)>=48&&e<=57||e>=97&&e<=102||e>=65&&e<=70;)b.advance();a&&39==b.next&&b.advance(),b.acceptToken(4)}else if(46==c&&b.next>=48&&b.next<=57)h4(b,!0),b.acceptToken(4);else if(46==c)b.acceptToken(14);else if(c>=48&&c<=57)h4(b,!1),b.acceptToken(4);else if(h6(c,a.operatorChars)){for(;h6(b.next,a.operatorChars);)b.advance();b.acceptToken(15)}else if(h6(c,a.specialVar)){var d,e;if(b.next==c&&b.advance(),39==b.next||34==b.next||96==b.next){let a=b.next;b.advance(),h1(b,a,!1)}else h2(b);b.acceptToken(17)}else if(58==c||44==c)b.acceptToken(16);else if(h0(c)){let e=h2(b,String.fromCharCode(c));b.acceptToken(46==b.next||46==b.peek(-e.length-1)?18:null!=(d=a.words[e.toLowerCase()])?d:18)}}else h5(b),b.acceptToken(1)})}let ib=ia(h9),ic=g8.deserialize({version:14,states:"%vQ]QQOOO#wQRO'#DSO$OQQO'#CwO%eQQO'#CxO%lQQO'#CyO%sQQO'#CzOOQQ'#DS'#DSOOQQ'#C}'#C}O'UQRO'#C{OOQQ'#Cv'#CvOOQQ'#C|'#C|Q]QQOOQOQQOOO'`QQO'#DOO(xQRO,59cO)PQQO,59cO)UQQO'#DSOOQQ,59d,59dO)cQQO,59dOOQQ,59e,59eO)jQQO,59eOOQQ,59f,59fO)qQQO,59fOOQQ-E6{-E6{OOQQ,59b,59bOOQQ-E6z-E6zOOQQ,59j,59jOOQQ-E6|-E6|O+VQRO1G.}O+^QQO,59cOOQQ1G/O1G/OOOQQ1G/P1G/POOQQ1G/Q1G/QP+kQQO'#C}O+rQQO1G.}O)PQQO,59cO,PQQO'#Cw",stateData:",[~OtOSPOSQOS~ORUOSUOTUOUUOVROXSOZTO]XO^QO_UO`UOaPObPOcPOdUOeUOfUOgUOhUO~O^]ORvXSvXTvXUvXVvXXvXZvX]vX_vX`vXavXbvXcvXdvXevXfvXgvXhvX~OsvX~P!jOa_Ob_Oc_O~ORUOSUOTUOUUOVROXSOZTO^tO_UO`UOa`Ob`Oc`OdUOeUOfUOgUOhUO~OWaO~P$ZOYcO~P$ZO[eO~P$ZORUOSUOTUOUUOVROXSOZTO^QO_UO`UOaPObPOcPOdUOeUOfUOgUOhUO~O]hOsoX~P%zOajObjOcjO~O^]ORkaSkaTkaUkaVkaXkaZka]ka_ka`kaakabkackadkaekafkagkahka~Oska~P'kO^]O~OWvXYvX[vX~P!jOWnO~P$ZOYoO~P$ZO[pO~P$ZO^]ORkiSkiTkiUkiVkiXkiZki]ki_ki`kiakibkickidkiekifkigkihki~Oski~P)xOWkaYka[ka~P'kO]hO~P$ZOWkiYki[ki~P)xOasObsOcsO~O",goto:"#hwPPPPPPPPPPPPPPPPPPPPPPPPPPx||||!Y!^!d!xPPP#[TYOZeUORSTWZbdfqT[OZQZORiZSWOZQbRQdSQfTZgWbdfqQ^PWk^lmrQl_Qm`RrseVORSTWZbdfq",nodeNames:"⚠ LineComment BlockComment String Number Bool Null ( ) { } [ ] ; . Operator Punctuation SpecialVar Identifier QuotedIdentifier Keyword Type Bits Bytes Builtin Script Statement CompositeIdentifier Parens Braces Brackets Statement",maxTerm:38,nodeProps:[["isolate",-4,1,2,3,19,""]],skippedNodes:[0,1,2],repeatNodeCount:3,tokenData:"RORO",tokenizers:[0,ib],topRules:{Script:[0,25]},tokenPrec:0});function id(a){let b=a.cursor().moveTo(a.from,-1);for(;/Comment/.test(b.name);)b.moveTo(b.from,-1);return b.node}function ie(a,b){let c=a.sliceString(b.from,b.to),d=/^([`'"\[])(.*)([`'"\]])$/.exec(c);return d?d[2]:c}function ig(a){return a&&("Identifier"==a.name||"QuotedIdentifier"==a.name)}function ih(a,b){for(let c=[];;){if(!b||"."!=b.name)return c;let d=id(b);if(!ig(d))return c;c.unshift(ie(a,d)),b=id(d)}}let ii=new Set("where group having order union intersect except all distinct limit offset fetch for".split(" ")),ij=/^\w*$/,ik=/^[`'"\[]?\w*[`'"\]]?$/;function il(a){return a.self&&"string"==typeof a.self.label}class im{constructor(a,b){this.idQuote=a,this.idCaseInsensitive=b,this.list=[],this.children=void 0}child(a){let b=this.children||(this.children=Object.create(null)),c=b[a];return c||(a&&!this.list.some(b=>b.label==a)&&this.list.push(io(a,"type",this.idQuote,this.idCaseInsensitive)),b[a]=new im(this.idQuote,this.idCaseInsensitive))}maybeChild(a){return this.children?this.children[a]:null}addCompletion(a){let b=this.list.findIndex(b=>b.label==a.label);b>-1?this.list[b]=a:this.list.push(a)}addCompletions(a){for(let b of a)this.addCompletion("string"==typeof b?io(b,"property",this.idQuote,this.idCaseInsensitive):b)}addNamespace(a){Array.isArray(a)?this.addCompletions(a):il(a)?this.addNamespace(a.children):this.addNamespaceObject(a)}addNamespaceObject(a){for(let b of Object.keys(a)){let c=a[b],d=null,e=b.replace(/\\?\./g,a=>"."==a?"\0":a).split("\0"),f=this;il(c)&&(d=c.self,c=c.children);for(let a=0;a<e.length;a++)d&&a==e.length-1&&f.addCompletion(d),f=f.child(e[a].replace(/\\\./g,"."));f.addNamespace(c)}}}function io(a,b,c,d){return RegExp("^[a-z_][a-z_\\d]*$",d?"i":"").test(a)?{label:a,type:b}:{label:a,type:b,apply:c+a+ip(c)}}function ip(a){return"["===a?"]":a}let iq=ic.configure({props:[gi.add({Statement:function({except:a,units:b=1}={}){return c=>{let d=a&&a.test(c.textAfter);return c.baseIndent+(d?0:b*c.unit)}}()}),gn.add({Statement:(a,b)=>({from:Math.min(a.from+100,b.doc.lineAt(a.from).to),to:a.to}),BlockComment:a=>({from:a.from+2,to:a.to-2})}),fD({Keyword:fX.keyword,Type:fX.typeName,Builtin:fX.standard(fX.name),Bits:fX.number,Bytes:fX.string,Bool:fX.bool,Null:fX.null,Number:fX.number,String:fX.string,Identifier:fX.name,QuotedIdentifier:fX.special(fX.string),SpecialVar:fX.special(fX.name),LineComment:fX.lineComment,BlockComment:fX.blockComment,Operator:fX.operator,"Semi Punctuation":fX.punctuation,"( )":fX.paren,"{ }":fX.brace,"[ ]":fX.squareBracket})]});class ir{constructor(a,b,c){this.dialect=a,this.language=b,this.spec=c}get extension(){return this.language.extension}configureLanguage(a,b){return new ir(this.dialect,this.language.configure(a,b),this.spec)}static define(a){let b=function(a,b,c,d){let e={};for(let b in h9)e[b]=(a.hasOwnProperty(b)?a:h9)[b];return b&&(e.words=h8(b,c||"",d)),e}(a,a.keywords,a.types,a.builtin),c=f0.define({name:"sql",parser:iq.configure({tokenizers:[{from:ib,to:ia(b)}]}),languageData:{commentTokens:{line:"--",block:{open:"/*",close:"*/"}},closeBrackets:{brackets:["(","[","{","'",'"',"`"]}}});return new ir(b,c,a)}}function is(a,b){return{label:a,type:b,boost:-1}}let it=ir.define({});function iu(a,b){return({state:c,dispatch:d})=>{if(c.readOnly)return!1;let e=a(b,c);return!!e&&(d(c.update(e)),!0)}}let iv=iu(function(a,b,c=b.selection.ranges){let d=[],e=-1;for(let{from:a,to:f}of c){let c=d.length,g=1e9,h=iy(b,a).line;if(h){for(let c=a;c<=f;){let i=b.doc.lineAt(c);if(i.from>e&&(a==f||f>i.from)){e=i.from;let a=/^\s*/.exec(i.text)[0].length,b=a==i.length,c=i.text.slice(a,a+h.length)==h?a:-1;a<i.text.length&&a<g&&(g=a),d.push({line:i,comment:c,token:h,indent:a,empty:b,single:!1})}c=i.to+1}if(g<1e9)for(let a=c;a<d.length;a++)d[a].indent<d[a].line.text.length&&(d[a].indent=g);d.length==c+1&&(d[c].single=!0)}}if(2!=a&&d.some(a=>a.comment<0&&(!a.empty||a.single))){let a=[];for(let{line:b,token:c,indent:e,empty:f,single:g}of d)(g||!f)&&a.push({from:b.from+e,insert:c+" "});let c=b.changes(a);return{changes:c,selection:b.selection.map(c,1)}}if(1!=a&&d.some(a=>a.comment>=0)){let a=[];for(let{line:b,comment:c,token:e}of d)if(c>=0){let d=b.from+c,f=d+e.length;" "==b.text[f-b.from]&&f++,a.push({from:d,to:f})}return{changes:a}}return null},0),iw=iu(iz,0),ix=iu((a,b)=>iz(a,b,function(a){let b=[];for(let c of a.selection.ranges){let d=a.doc.lineAt(c.from),e=c.to<=d.to?d:a.doc.lineAt(c.to);e.from>d.from&&e.from==c.to&&(e=c.to==d.to+1?d:a.doc.lineAt(c.to-1));let f=b.length-1;f>=0&&b[f].to>d.from?b[f].to=e.to:b.push({from:d.from+/^\s*/.exec(d.text)[0].length,to:e.to})}return b}(b)),0);function iy(a,b){let c=a.languageDataAt("commentTokens",b,1);return c.length?c[0]:{}}function iz(a,b,c=b.selection.ranges){let d=c.map(a=>iy(b,a.from).block);if(!d.every(a=>a))return null;let e=c.map((a,c)=>(function(a,{open:b,close:c},d,e){let f,g,h=a.sliceDoc(d-50,d),i=a.sliceDoc(e,e+50),j=/\s*$/.exec(h)[0].length,k=/^\s*/.exec(i)[0].length,l=h.length-j;if(h.slice(l-b.length,l)==b&&i.slice(k,k+c.length)==c)return{open:{pos:d-j,margin:j&&1},close:{pos:e+k,margin:k&&1}};e-d<=100?f=g=a.sliceDoc(d,e):(f=a.sliceDoc(d,d+50),g=a.sliceDoc(e-50,e));let m=/^\s*/.exec(f)[0].length,n=/\s*$/.exec(g)[0].length,o=g.length-n-c.length;return f.slice(m,m+b.length)==b&&g.slice(o,o+c.length)==c?{open:{pos:d+m+b.length,margin:+!!/\s/.test(f.charAt(m+b.length))},close:{pos:e-n-c.length,margin:+!!/\s/.test(g.charAt(o-1))}}:null})(b,d[c],a.from,a.to));if(2!=a&&!e.every(a=>a))return{changes:b.changes(c.map((a,b)=>e[b]?[]:[{from:a.from,insert:d[b].open+" "},{from:a.to,insert:" "+d[b].close}]))};if(1!=a&&e.some(a=>a)){let a=[];for(let b=0,c;b<e.length;b++)if(c=e[b]){let e=d[b],{open:f,close:g}=c;a.push({from:f.pos-e.open.length,to:f.pos+f.margin},{from:g.pos-g.margin,to:g.pos+e.close.length})}return{changes:a}}return null}let iA=aE.define(),iB=aE.define(),iC=ai.define(),iD=ai.define({combine:a=>aQ(a,{minDepth:100,newGroupDelay:500,joinToEvent:(a,b)=>b},{minDepth:Math.max,newGroupDelay:Math.min,joinToEvent:(a,b)=>(c,d)=>a(c,d)||b(c,d)})}),iE=ao.define({create:()=>iR.empty,update(a,b){let c=b.state.facet(iD),d=b.annotation(iA);if(d){let e=iK.fromTransaction(b,d.selection),f=d.side,g=0==f?a.undone:a.done;return g=e?iL(g,g.length,c.minDepth,e):iO(g,b.startState.selection),new iR(0==f?d.rest:g,0==f?g:d.rest)}let e=b.annotation(iB);if(("full"==e||"before"==e)&&(a=a.isolate()),!1===b.annotation(aI.addToHistory))return b.changes.empty?a:a.addMapping(b.changes.desc);let f=iK.fromTransaction(b),g=b.annotation(aI.time),h=b.annotation(aI.userEvent);return f?a=a.addChanges(f,g,h,c,b):b.selection&&(a=a.addSelection(b.startState.selection,g,h,c.newGroupDelay)),("full"==e||"after"==e)&&(a=a.isolate()),a},toJSON:a=>({done:a.done.map(a=>a.toJSON()),undone:a.undone.map(a=>a.toJSON())}),fromJSON:a=>new iR(a.done.map(iK.fromJSON),a.undone.map(iK.fromJSON))});function iF(a,b){return function({state:c,dispatch:d}){if(!b&&c.readOnly)return!1;let e=c.field(iE,!1);if(!e)return!1;let f=e.pop(a,c,b);return!!f&&(d(f),!0)}}let iG=iF(0,!1),iH=iF(1,!1),iI=iF(0,!0),iJ=iF(1,!0);class iK{constructor(a,b,c,d,e){this.changes=a,this.effects=b,this.mapped=c,this.startSelection=d,this.selectionsAfter=e}setSelAfter(a){return new iK(this.changes,this.effects,this.mapped,this.startSelection,a)}toJSON(){var a,b,c;return{changes:null==(a=this.changes)?void 0:a.toJSON(),mapped:null==(b=this.mapped)?void 0:b.toJSON(),startSelection:null==(c=this.startSelection)?void 0:c.toJSON(),selectionsAfter:this.selectionsAfter.map(a=>a.toJSON())}}static fromJSON(a){return new iK(a.changes&&Z.fromJSON(a.changes),[],a.mapped&&Y.fromJSON(a.mapped),a.startSelection&&af.fromJSON(a.startSelection),a.selectionsAfter.map(af.fromJSON))}static fromTransaction(a,b){let c=iN;for(let b of a.startState.facet(iC)){let d=b(a);d.length&&(c=c.concat(d))}return!c.length&&a.changes.empty?null:new iK(a.changes.invert(a.startState.doc),c,void 0,b||a.startState.selection,iN)}static selection(a){return new iK(void 0,iN,void 0,void 0,a)}}function iL(a,b,c,d){let e=a.slice(b+1>c+20?b-c-1:0,b);return e.push(d),e}function iM(a,b){return a.length?b.length?a.concat(b):a:b}let iN=[];function iO(a,b){if(!a.length)return[iK.selection([b])];{let c=a[a.length-1],d=c.selectionsAfter.slice(Math.max(0,c.selectionsAfter.length-200));return d.length&&d[d.length-1].eq(b)?a:(d.push(b),iL(a,a.length-1,1e9,c.setSelAfter(d)))}}function iP(a,b){if(!a.length)return a;let c=a.length,d=iN;for(;c;){let e=function(a,b,c){let d=iM(a.selectionsAfter.length?a.selectionsAfter.map(a=>a.map(b)):iN,c);if(!a.changes)return iK.selection(d);let e=a.changes.map(b),f=b.mapDesc(a.changes,!0),g=a.mapped?a.mapped.composeDesc(f):f;return new iK(e,aH.mapEffects(a.effects,b),g,a.startSelection.map(f),d)}(a[c-1],b,d);if(e.changes&&!e.changes.empty||e.effects.length){let b=a.slice(0,c);return b[c-1]=e,b}b=e.mapped,c--,d=e.selectionsAfter}return d.length?[iK.selection(d)]:iN}let iQ=/^(input\.type|delete)($|\.)/;class iR{constructor(a,b,c=0,d){this.done=a,this.undone=b,this.prevTime=c,this.prevUserEvent=d}isolate(){return this.prevTime?new iR(this.done,this.undone):this}addChanges(a,b,c,d,e){var f,g;let h,i,j=this.done,k=j[j.length-1];return new iR(j=k&&k.changes&&!k.changes.empty&&a.changes&&(!c||iQ.test(c))&&(!k.selectionsAfter.length&&b-this.prevTime<d.newGroupDelay&&d.joinToEvent(e,(f=k.changes,g=a.changes,h=[],i=!1,f.iterChangedRanges((a,b)=>h.push(a,b)),g.iterChangedRanges((a,b,c,d)=>{for(let a=0;a<h.length;){let b=h[a++],e=h[a++];d>=b&&c<=e&&(i=!0)}}),i))||"input.type.compose"==c)?iL(j,j.length-1,d.minDepth,new iK(a.changes.compose(k.changes),iM(aH.mapEffects(a.effects,k.changes),k.effects),k.mapped,k.startSelection,iN)):iL(j,j.length,d.minDepth,a),iN,b,c)}addSelection(a,b,c,d){var e;let f=this.done.length?this.done[this.done.length-1].selectionsAfter:iN;return f.length>0&&b-this.prevTime<d&&c==this.prevUserEvent&&c&&/^select($|\.)/.test(c)&&(e=f[f.length-1],e.ranges.length==a.ranges.length&&0===e.ranges.filter((b,c)=>b.empty!=a.ranges[c].empty).length)?this:new iR(iO(this.done,a),this.undone,b,c)}addMapping(a){return new iR(iP(this.done,a),iP(this.undone,a),this.prevTime,this.prevUserEvent)}pop(a,b,c){let d=0==a?this.done:this.undone;if(0==d.length)return null;let e=d[d.length-1],f=e.selectionsAfter[0]||b.selection;if(c&&e.selectionsAfter.length){let c,g;return b.update({selection:e.selectionsAfter[e.selectionsAfter.length-1],annotations:iA.of({side:a,rest:(c=d[d.length-1],(g=d.slice())[d.length-1]=c.setSelAfter(c.selectionsAfter.slice(0,c.selectionsAfter.length-1)),g),selection:f}),userEvent:0==a?"select.undo":"select.redo",scrollIntoView:!0})}{if(!e.changes)return null;let c=1==d.length?iN:d.slice(0,d.length-1);return e.mapped&&(c=iP(c,e.mapped)),b.update({changes:e.changes,selection:e.startSelection,effects:e.effects,annotations:iA.of({side:a,rest:c,selection:f}),filter:!1,userEvent:0==a?"undo":"redo",scrollIntoView:!0})}}}iR.empty=new iR(iN,iN);let iS=[{key:"Mod-z",run:iG,preventDefault:!0},{key:"Mod-y",mac:"Mod-Shift-z",run:iH,preventDefault:!0},{linux:"Ctrl-Shift-z",run:iH,preventDefault:!0},{key:"Mod-u",run:iI,preventDefault:!0},{key:"Alt-u",mac:"Mod-Shift-u",run:iJ,preventDefault:!0}];function iT(a,b){return af.create(a.ranges.map(b),a.mainIndex)}function iU(a,b){return a.update({selection:b,scrollIntoView:!0,userEvent:"select"})}function iV({state:a,dispatch:b},c){let d=iT(a.selection,c);return!d.eq(a.selection,!0)&&(b(iU(a,d)),!0)}function iW(a,b){return af.cursor(b?a.to:a.from)}function iX(a,b){return iV(a,c=>c.empty?a.moveByChar(c,b):iW(c,b))}function iY(a){return a.textDirectionAt(a.state.selection.main.head)==ch.LTR}let iZ=a=>iX(a,!iY(a)),i$=a=>iX(a,iY(a));function i_(a,b){return iV(a,c=>c.empty?a.moveByGroup(c,b):iW(c,b))}function i0(a,b,c){let d,e,f=f1(a).resolveInner(b.head),g=c?e7.closedBy:e7.openedBy;for(let d=b.head;;){let b=c?f.childAfter(d):f.childBefore(d);if(!b)break;!function(a,b,c){if(b.type.prop(c))return!0;let d=b.to-b.from;return d&&(d>2||/[^\s,.;:]/.test(a.sliceDoc(b.from,b.to)))||b.firstChild}(a,b,g)?d=c?b.to:b.from:f=b}return e=f.type.prop(g)&&(d=c?gJ(a,f.from,1):gJ(a,f.to,-1))&&d.matched?c?d.end.to:d.end.from:c?f.to:f.from,af.cursor(e,c?-1:1)}function i1(a,b){return iV(a,c=>{if(!c.empty)return iW(c,b);let d=a.moveVertically(c,b);return d.head!=c.head?d:a.moveToLineBoundary(c,b)})}"undefined"!=typeof Intl&&Intl.Segmenter;let i2=a=>i1(a,!1),i3=a=>i1(a,!0);function i4(a){let b=a.scrollDOM.clientHeight<a.scrollDOM.scrollHeight-2,c=0,d=0,e;if(b){for(let b of a.state.facet(em.scrollMargins)){let e=b(a);(null==e?void 0:e.top)&&(c=Math.max(null==e?void 0:e.top,c)),(null==e?void 0:e.bottom)&&(d=Math.max(null==e?void 0:e.bottom,d))}e=a.scrollDOM.clientHeight-c-d}else e=(a.dom.ownerDocument.defaultView||window).innerHeight;return{marginTop:c,marginBottom:d,selfScroll:b,height:Math.max(a.defaultLineHeight,e-5)}}function i5(a,b){let c,d=i4(a),{state:e}=a,f=iT(e.selection,c=>c.empty?a.moveVertically(c,b,d.height):iW(c,b));if(f.eq(e.selection))return!1;if(d.selfScroll){let b=a.coordsAtPos(e.selection.main.head),g=a.scrollDOM.getBoundingClientRect(),h=g.top+d.marginTop,i=g.bottom-d.marginBottom;b&&b.top>h&&b.bottom<i&&(c=em.scrollIntoView(f.main.head,{y:"start",yMargin:b.top-h}))}return a.dispatch(iU(e,f),{effects:c}),!0}let i6=a=>i5(a,!1),i7=a=>i5(a,!0);function i8(a,b,c){let d=a.lineBlockAt(b.head),e=a.moveToLineBoundary(b,c);if(e.head==b.head&&e.head!=(c?d.to:d.from)&&(e=a.moveToLineBoundary(b,c,!1)),!c&&e.head==d.from&&d.length){let c=/^\s*/.exec(a.state.sliceDoc(d.from,Math.min(d.from+100,d.to)))[0].length;c&&b.head!=d.from+c&&(e=af.cursor(d.from+c))}return e}function i9(a,b){let c=iT(a.state.selection,a=>{let c=b(a);return af.range(a.anchor,c.head,c.goalColumn,c.bidiLevel||void 0)});return!c.eq(a.state.selection)&&(a.dispatch(iU(a.state,c)),!0)}function ja(a,b){return i9(a,c=>a.moveByChar(c,b))}let jb=a=>ja(a,!iY(a)),jc=a=>ja(a,iY(a));function jd(a,b){return i9(a,c=>a.moveByGroup(c,b))}function je(a,b){return i9(a,c=>a.moveVertically(c,b))}let jf=a=>je(a,!1),jg=a=>je(a,!0);function jh(a,b){return i9(a,c=>a.moveVertically(c,b,i4(a).height))}let ji=a=>jh(a,!1),jj=a=>jh(a,!0),jk=({state:a,dispatch:b})=>(b(iU(a,{anchor:0})),!0),jl=({state:a,dispatch:b})=>(b(iU(a,{anchor:a.doc.length})),!0),jm=({state:a,dispatch:b})=>(b(iU(a,{anchor:a.selection.main.anchor,head:0})),!0),jn=({state:a,dispatch:b})=>(b(iU(a,{anchor:a.selection.main.anchor,head:a.doc.length})),!0);function jo(a,b){let{state:c}=a,d=c.selection,e=c.selection.ranges.slice();for(let d of c.selection.ranges){let f=c.doc.lineAt(d.head);if(b?f.to<a.state.doc.length:f.from>0)for(let c=d;;){let d=a.moveVertically(c,b);if(d.head<f.from||d.head>f.to){e.some(a=>a.head==d.head)||e.push(d);break}if(d.head==c.head)break;c=d}}return e.length!=d.ranges.length&&(a.dispatch(iU(c,af.create(e,e.length-1))),!0)}function jp(a,b){if(a.state.readOnly)return!1;let c="delete.selection",{state:d}=a,e=d.changeByRange(d=>{let{from:e,to:f}=d;if(e==f){let g=b(d);g<e?(c="delete.backward",g=jq(a,g,!1)):g>e&&(c="delete.forward",g=jq(a,g,!0)),e=Math.min(e,g),f=Math.max(f,g)}else e=jq(a,e,!1),f=jq(a,f,!0);return e==f?{range:d}:{changes:{from:e,to:f},range:af.cursor(e,e<d.head?-1:1)}});return!e.changes.empty&&(a.dispatch(d.update(e,{scrollIntoView:!0,userEvent:c,effects:"delete.selection"==c?em.announce.of(d.phrase("Selection deleted")):void 0})),!0)}function jq(a,b,c){if(a instanceof em)for(let d of a.state.facet(em.atomicRanges).map(b=>b(a)))d.between(b,b,(a,d)=>{a<b&&d>b&&(b=c?d:a)});return b}let jr=(a,b,c)=>jp(a,d=>{let e=d.from,{state:f}=a,g=f.doc.lineAt(e),h,i;if(c&&!b&&e>g.from&&e<g.from+200&&!/[^ \t]/.test(h=g.text.slice(0,e-g.from))){if("	"==h[h.length-1])return e-1;let a=a5(h,f.tabSize)%ge(f)||ge(f);for(let b=0;b<a&&" "==h[h.length-1-b];b++)e--;i=e}else(i=S(g.text,e-g.from,b,b)+g.from)==e&&g.number!=(b?f.doc.lines:1)?i+=b?1:-1:!b&&/[\ufe00-\ufe0f]/.test(g.text.slice(i-g.from,e-g.from))&&(i=S(g.text,i-g.from,!1,!1)+g.from);return i}),js=a=>jr(a,!1,!0),jt=a=>jr(a,!0,!1),ju=(a,b)=>jp(a,c=>{let d=c.head,{state:e}=a,f=e.doc.lineAt(d),g=e.charCategorizer(d);for(let a=null;;){if(d==(b?f.to:f.from)){d==c.head&&f.number!=(b?e.doc.lines:1)&&(d+=b?1:-1);break}let h=S(f.text,d-f.from,b)+f.from,i=f.text.slice(Math.min(d,h)-f.from,Math.max(d,h)-f.from),j=g(i);if(null!=a&&j!=a)break;(" "!=i||d!=c.head)&&(a=j),d=h}return d}),jv=a=>ju(a,!1);function jw(a){let b=[],c=-1;for(let d of a.selection.ranges){let e=a.doc.lineAt(d.from),f=a.doc.lineAt(d.to);if(d.empty||d.to!=f.from||(f=a.doc.lineAt(d.to-1)),c>=e.number){let a=b[b.length-1];a.to=f.to,a.ranges.push(d)}else b.push({from:e.from,to:f.to,ranges:[d]});c=f.number+1}return b}function jx(a,b,c){if(a.readOnly)return!1;let d=[],e=[];for(let b of jw(a)){if(c?b.to==a.doc.length:0==b.from)continue;let f=a.doc.lineAt(c?b.to+1:b.from-1),g=f.length+1;if(c)for(let c of(d.push({from:b.to,to:f.to},{from:b.from,insert:f.text+a.lineBreak}),b.ranges))e.push(af.range(Math.min(a.doc.length,c.anchor+g),Math.min(a.doc.length,c.head+g)));else for(let c of(d.push({from:f.from,to:b.from},{from:b.to,insert:a.lineBreak+f.text}),b.ranges))e.push(af.range(c.anchor-g,c.head-g))}return!!d.length&&(b(a.update({changes:d,scrollIntoView:!0,selection:af.create(e,a.selection.mainIndex),userEvent:"move.line"})),!0)}function jy(a,b,c){if(a.readOnly)return!1;let d=[];for(let b of jw(a))c?d.push({from:b.from,insert:a.doc.slice(b.from,b.to)+a.lineBreak}):d.push({from:b.to,insert:a.lineBreak+a.doc.slice(b.from,b.to)});return b(a.update({changes:d,scrollIntoView:!0,userEvent:"input.copyline"})),!0}let jz=jB(!1),jA=jB(!0);function jB(a){return({state:b,dispatch:c})=>{if(b.readOnly)return!1;let d=b.changeByRange(c=>{let{from:d,to:e}=c,f=b.doc.lineAt(d),g=!a&&d==e&&function(a,b){if(/\(\)|\[\]|\{\}/.test(a.sliceDoc(b-1,b+1)))return{from:b,to:b};let c=f1(a).resolveInner(b),d=c.childBefore(b),e=c.childAfter(b),f;return d&&e&&d.to<=b&&e.from>=b&&(f=d.type.prop(e7.closedBy))&&f.indexOf(e.name)>-1&&a.doc.lineAt(d.to).from==a.doc.lineAt(e.from).from&&!/\S/.test(a.sliceDoc(d.to,e.from))?{from:d.to,to:e.from}:null}(b,d);a&&(d=e=(e<=f.to?f:b.doc.lineAt(e)).to);let h=new gh(b,{simulateBreak:d,simulateDoubleBreak:!!g}),i=gg(h,d);for(null==i&&(i=a5(/^\s*/.exec(b.doc.lineAt(d).text)[0],b.tabSize));e<f.to&&/\s/.test(f.text[e-f.from]);)e++;g?{from:d,to:e}=g:d>f.from&&d<f.from+100&&!/\S/.test(f.text.slice(0,d))&&(d=f.from);let j=["",gf(b,i)];return g&&j.push(gf(b,h.lineIndent(f.from,-1))),{changes:{from:d,to:e,insert:J.of(j)},range:af.cursor(d+1+j[1].length)}});return c(b.update(d,{scrollIntoView:!0,userEvent:"input"})),!0}}function jC(a,b){let c=-1;return a.changeByRange(d=>{let e=[];for(let f=d.from;f<=d.to;){let g=a.doc.lineAt(f);g.number>c&&(d.empty||d.to>g.from)&&(b(g,e,d),c=g.number),f=g.to+1}let f=a.changes(e);return{changes:e,range:af.range(f.mapPos(d.anchor,1),f.mapPos(d.head,1))}})}let jD=[{key:"Ctrl-b",run:iZ,shift:jb,preventDefault:!0},{key:"Ctrl-f",run:i$,shift:jc},{key:"Ctrl-p",run:i2,shift:jf},{key:"Ctrl-n",run:i3,shift:jg},{key:"Ctrl-a",run:a=>iV(a,b=>af.cursor(a.lineBlockAt(b.head).from,1)),shift:a=>i9(a,b=>af.cursor(a.lineBlockAt(b.head).from))},{key:"Ctrl-e",run:a=>iV(a,b=>af.cursor(a.lineBlockAt(b.head).to,-1)),shift:a=>i9(a,b=>af.cursor(a.lineBlockAt(b.head).to))},{key:"Ctrl-d",run:jt},{key:"Ctrl-h",run:js},{key:"Ctrl-k",run:a=>jp(a,b=>{let c=a.lineBlockAt(b.head).to;return b.head<c?c:Math.min(a.state.doc.length,b.head+1)})},{key:"Ctrl-Alt-h",run:jv},{key:"Ctrl-o",run:({state:a,dispatch:b})=>{if(a.readOnly)return!1;let c=a.changeByRange(a=>({changes:{from:a.from,to:a.to,insert:J.of(["",""])},range:af.cursor(a.from)}));return b(a.update(c,{scrollIntoView:!0,userEvent:"input"})),!0}},{key:"Ctrl-t",run:({state:a,dispatch:b})=>{if(a.readOnly)return!1;let c=a.changeByRange(b=>{if(!b.empty||0==b.from||b.from==a.doc.length)return{range:b};let c=b.from,d=a.doc.lineAt(c),e=c==d.from?c-1:S(d.text,c-d.from,!1)+d.from,f=c==d.to?c+1:S(d.text,c-d.from,!0)+d.from;return{changes:{from:e,to:f,insert:a.doc.slice(c,f).append(a.doc.slice(e,c))},range:af.cursor(f)}});return!c.changes.empty&&(b(a.update(c,{scrollIntoView:!0,userEvent:"move.character"})),!0)}},{key:"Ctrl-v",run:i7}],jE=[{key:"Alt-ArrowLeft",mac:"Ctrl-ArrowLeft",run:a=>iV(a,b=>i0(a.state,b,!iY(a))),shift:a=>i9(a,b=>i0(a.state,b,!iY(a)))},{key:"Alt-ArrowRight",mac:"Ctrl-ArrowRight",run:a=>iV(a,b=>i0(a.state,b,iY(a))),shift:a=>i9(a,b=>i0(a.state,b,iY(a)))},{key:"Alt-ArrowUp",run:({state:a,dispatch:b})=>jx(a,b,!1)},{key:"Shift-Alt-ArrowUp",run:({state:a,dispatch:b})=>jy(a,b,!1)},{key:"Alt-ArrowDown",run:({state:a,dispatch:b})=>jx(a,b,!0)},{key:"Shift-Alt-ArrowDown",run:({state:a,dispatch:b})=>jy(a,b,!0)},{key:"Mod-Alt-ArrowUp",run:a=>jo(a,!1)},{key:"Mod-Alt-ArrowDown",run:a=>jo(a,!0)},{key:"Escape",run:({state:a,dispatch:b})=>{let c=a.selection,d=null;return c.ranges.length>1?d=af.create([c.main]):c.main.empty||(d=af.create([af.cursor(c.main.head)])),!!d&&(b(iU(a,d)),!0)}},{key:"Mod-Enter",run:jA},{key:"Alt-l",mac:"Ctrl-l",run:({state:a,dispatch:b})=>{let c=jw(a).map(({from:b,to:c})=>af.range(b,Math.min(c+1,a.doc.length)));return b(a.update({selection:af.create(c),userEvent:"select"})),!0}},{key:"Mod-i",run:({state:a,dispatch:b})=>{let c=iT(a.selection,b=>{let c=f1(a),d=c.resolveStack(b.from,1);if(b.empty){let a=c.resolveStack(b.from,-1);a.node.from>=d.node.from&&a.node.to<=d.node.to&&(d=a)}for(let a=d;a;a=a.next){let{node:c}=a;if((c.from<b.from&&c.to>=b.to||c.to>b.to&&c.from<=b.from)&&a.next)return af.range(c.to,c.from)}return b});return!c.eq(a.selection)&&(b(iU(a,c)),!0)},preventDefault:!0},{key:"Mod-[",run:({state:a,dispatch:b})=>!a.readOnly&&(b(a.update(jC(a,(b,c)=>{let d=/^\s*/.exec(b.text)[0];if(!d)return;let e=a5(d,a.tabSize),f=0,g=gf(a,Math.max(0,e-ge(a)));for(;f<d.length&&f<g.length&&d.charCodeAt(f)==g.charCodeAt(f);)f++;c.push({from:b.from+f,to:b.from+d.length,insert:g.slice(f)})}),{userEvent:"delete.dedent"})),!0)},{key:"Mod-]",run:({state:a,dispatch:b})=>!a.readOnly&&(b(a.update(jC(a,(b,c)=>{c.push({from:b.from,insert:a.facet(gd)})}),{userEvent:"input.indent"})),!0)},{key:"Mod-Alt-\\",run:({state:a,dispatch:b})=>{if(a.readOnly)return!1;let c=Object.create(null),d=new gh(a,{overrideIndentation:a=>{let b=c[a];return null==b?-1:b}}),e=jC(a,(b,e,f)=>{let g=gg(d,b.from);if(null==g)return;/\S/.test(b.text)||(g=0);let h=/^\s*/.exec(b.text)[0],i=gf(a,g);(h!=i||f.from<b.from+h.length)&&(c[b.from]=g,e.push({from:b.from,to:b.from+h.length,insert:i}))});return e.changes.empty||b(a.update(e,{userEvent:"indent"})),!0}},{key:"Shift-Mod-k",run:a=>{if(a.state.readOnly)return!1;let{state:b}=a,c=b.changes(jw(b).map(({from:a,to:c})=>(a>0?a--:c<b.doc.length&&c++,{from:a,to:c}))),d=iT(b.selection,b=>{let c;if(a.lineWrapping){let d=a.lineBlockAt(b.head),e=a.coordsAtPos(b.head,b.assoc||1);e&&(c=d.bottom+a.documentTop-e.bottom+a.defaultLineHeight/2)}return a.moveVertically(b,!0,c)}).map(c);return a.dispatch({changes:c,selection:d,scrollIntoView:!0,userEvent:"delete.line"}),!0}},{key:"Shift-Mod-\\",run:({state:a,dispatch:b})=>{let c,d;return c=!1,d=iT(a.selection,b=>{let d=gJ(a,b.head,-1)||gJ(a,b.head,1)||b.head>0&&gJ(a,b.head-1,1)||b.head<a.doc.length&&gJ(a,b.head+1,-1);if(!d||!d.end)return b;c=!0;let e=d.start.from==b.head?d.end.to:d.end.from;return af.cursor(e)}),!!c&&(b(iU(a,d)),!0)}},{key:"Mod-/",run:a=>{let{state:b}=a,c=b.doc.lineAt(b.selection.main.from),d=iy(a.state,c.from);return d.line?iv(a):!!d.block&&ix(a)}},{key:"Alt-A",run:iw},{key:"Ctrl-m",mac:"Shift-Alt-m",run:a=>(a.setTabFocusMode(),!0)}].concat([{key:"ArrowLeft",run:iZ,shift:jb,preventDefault:!0},{key:"Mod-ArrowLeft",mac:"Alt-ArrowLeft",run:a=>i_(a,!iY(a)),shift:a=>jd(a,!iY(a)),preventDefault:!0},{mac:"Cmd-ArrowLeft",run:a=>iV(a,b=>i8(a,b,!iY(a))),shift:a=>i9(a,b=>i8(a,b,!iY(a))),preventDefault:!0},{key:"ArrowRight",run:i$,shift:jc,preventDefault:!0},{key:"Mod-ArrowRight",mac:"Alt-ArrowRight",run:a=>i_(a,iY(a)),shift:a=>jd(a,iY(a)),preventDefault:!0},{mac:"Cmd-ArrowRight",run:a=>iV(a,b=>i8(a,b,iY(a))),shift:a=>i9(a,b=>i8(a,b,iY(a))),preventDefault:!0},{key:"ArrowUp",run:i2,shift:jf,preventDefault:!0},{mac:"Cmd-ArrowUp",run:jk,shift:jm},{mac:"Ctrl-ArrowUp",run:i6,shift:ji},{key:"ArrowDown",run:i3,shift:jg,preventDefault:!0},{mac:"Cmd-ArrowDown",run:jl,shift:jn},{mac:"Ctrl-ArrowDown",run:i7,shift:jj},{key:"PageUp",run:i6,shift:ji},{key:"PageDown",run:i7,shift:jj},{key:"Home",run:a=>iV(a,b=>i8(a,b,!1)),shift:a=>i9(a,b=>i8(a,b,!1)),preventDefault:!0},{key:"Mod-Home",run:jk,shift:jm},{key:"End",run:a=>iV(a,b=>i8(a,b,!0)),shift:a=>i9(a,b=>i8(a,b,!0)),preventDefault:!0},{key:"Mod-End",run:jl,shift:jn},{key:"Enter",run:jz,shift:jz},{key:"Mod-a",run:({state:a,dispatch:b})=>(b(a.update({selection:{anchor:0,head:a.doc.length},userEvent:"select"})),!0)},{key:"Backspace",run:js,shift:js,preventDefault:!0},{key:"Delete",run:jt,preventDefault:!0},{key:"Mod-Backspace",mac:"Alt-Backspace",run:jv,preventDefault:!0},{key:"Mod-Delete",mac:"Alt-Delete",run:a=>ju(a,!0),preventDefault:!0},{mac:"Mod-Backspace",run:a=>jp(a,b=>{let c=a.moveToLineBoundary(b,!1).head;return b.head>c?c:Math.max(0,b.head-1)}),preventDefault:!0},{mac:"Mod-Delete",run:a=>jp(a,b=>{let c=a.moveToLineBoundary(b,!0).head;return b.head<c?c:Math.min(a.state.doc.length,b.head+1)}),preventDefault:!0}].concat(jD.map(a=>({mac:a.key,run:a.run,shift:a.shift})))),jF=["SELECT","FROM","WHERE","INSERT","UPDATE","DELETE","CREATE","DROP","ALTER","TABLE","INDEX","VIEW","INTO","VALUES","SET","AND","OR","NOT","NULL","IS","IN","LIKE","BETWEEN","ORDER","BY","GROUP","HAVING","LIMIT","OFFSET","JOIN","INNER","LEFT","RIGHT","OUTER","ON","AS","DISTINCT","COUNT","SUM","AVG","MIN","MAX","CASE","WHEN","THEN","ELSE","END","UNION","INTERSECT","EXCEPT","BEGIN","COMMIT","ROLLBACK","TRANSACTION","PRIMARY","KEY","FOREIGN","REFERENCES","UNIQUE","CHECK","DEFAULT","AUTO_INCREMENT","INTEGER","TEXT","REAL","BLOB","NUMERIC","VARCHAR","CHAR","DATE","DATETIME","TIMESTAMP","BOOLEAN","AUTOINCREMENT","CASCADE","RESTRICT","NO","ACTION"],jG=["COUNT","SUM","AVG","MIN","MAX","LENGTH","SUBSTR","UPPER","LOWER","TRIM","LTRIM","RTRIM","REPLACE","ROUND","ABS","RANDOM","DATE","TIME","DATETIME","JULIANDAY","STRFTIME","COALESCE","IFNULL","NULLIF","CAST","TYPEOF","PRINTF","QUOTE","SOUNDEX","TOTAL","GROUP_CONCAT"];async function jH(a){let b={tables:[],columns:{}};try{let c=await a("SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite_%' ORDER BY name");if(c&&c.rows)for(let d of(b.tables=c.rows.map(a=>Array.isArray(a.values)&&a.values[0]?.value!==void 0?a.values[0].value:a[0]),b.tables)){let c=await a(`PRAGMA table_info(${d})`);c&&c.rows&&(b.columns[d]=c.rows.map(a=>Array.isArray(a.values)&&a.values[1]?.value!==void 0?a.values[1].value:a[1]))}}catch(a){console.error("Error fetching schema info for autocomplete:",a)}return b}function jI({value:a,onChange:b,placeholder:c,onExecute:d}){let e=(0,w.useRef)(null),f=(0,w.useRef)(null),g=(0,w.useRef)(null),h=(0,w.useRef)(0),i=(0,w.useRef)(d);return(0,w.useEffect)(()=>{i.current=d},[d]),(0,w.useEffect)(()=>{let c,d;if(!e.current)return;let j=async()=>{let a=Date.now();if(g.current&&a-h.current<5e3)return g.current;if(i.current)try{let b=await jH(i.current);return g.current=b,h.current=a,b}catch(a){console.error("Failed to fetch schema for autocomplete:",a)}return{tables:[],columns:{}}},k=aP.create({doc:a,extensions:[function(a={}){return[e0.of(a),[eU],e3]}(),function(a={}){return[iE,iD.of(a),em.domEventHandlers({beforeinput(a,b){let c="historyUndo"==a.inputType?iG:"historyRedo"==a.inputType?iH:null;return!!c&&(a.preventDefault(),c(b))}})]}(),eu.of([...jE,...iS,...h$]),function(a={}){var b,c,d,e,f,g,h;let i,j,k=a.dialect||it;return new gb(k.language,[a.schema?(a.dialect||it).language.data.of({autocomplete:a.schema?(b=a.schema,c=a.tables,d=a.schemas,e=a.defaultTable,f=a.defaultSchema,i=new im((null==(h=null==(g=a.dialect||it)?void 0:g.spec.identifierQuotes)?void 0:h[0])||'"',!!(null==g?void 0:g.spec.caseInsensitiveIdentifiers)),j=f?i.child(f):null,i.addNamespace(b),c&&(j||i).addCompletions(c),d&&i.addCompletions(d),j&&i.addCompletions(j.list),e&&i.addCompletions((j||i).child(e).list),a=>{var b,c;let d,f,{parents:g,from:h,quoted:k,empty:l,aliases:m}=(b=a.state,c=a.pos,d=f1(b).resolveInner(c,-1),f=function(a,b){let c;for(let a=b;!c;a=a.parent){if(!a)return null;"Statement"==a.name&&(c=a)}let d=null;for(let b=c.firstChild,e=!1,f=null;b;b=b.nextSibling){let c="Keyword"==b.name?a.sliceString(b.from,b.to).toLowerCase():null,g=null;if(e)if("as"==c&&f&&ig(b.nextSibling))g=ie(a,b.nextSibling);else if(c&&ii.has(c))break;else f&&ig(b)&&(g=ie(a,b));else e="from"==c;g&&(d||(d=Object.create(null)),d[g]=function(a,b){if("CompositeIdentifier"==b.name){let c=[];for(let d=b.firstChild;d;d=d.nextSibling)ig(d)&&c.push(ie(a,d));return c}return[ie(a,b)]}(a,f)),f=/Identifier$/.test(b.name)?b:null}return d}(b.doc,d),"Identifier"==d.name||"QuotedIdentifier"==d.name||"Keyword"==d.name?{from:d.from,quoted:"QuotedIdentifier"==d.name?b.doc.sliceString(d.from,d.from+1):null,parents:ih(b.doc,id(d)),aliases:f}:"."==d.name?{from:c,quoted:null,parents:ih(b.doc,d),aliases:f}:{from:c,quoted:null,parents:[],empty:!0,aliases:f});if(l&&!a.explicit)return null;m&&1==g.length&&(g=m[g[0]]||g);let n=i;for(let a of g){for(;!n.children||!n.children[a];)if(n==i&&j)n=j;else{if(n!=j||!e)return null;n=n.child(e)}let b=n.maybeChild(a);if(!b)return null;n=b}let o=n.list;if(n==i&&m&&(o=o.concat(Object.keys(m).map(a=>({label:a,type:"constant"})))),!k)return{from:h,options:o,validFor:ij};{let b=k[0],c=ip(b);return{from:h,to:a.state.sliceDoc(a.pos,a.pos+1)==c?a.pos+1:void 0,options:o.map(a=>({...a,label:a.label[0]==b?a.label:b+a.label+c,apply:void 0})),validFor:ik}}}):()=>null}):[],k.language.data.of({autocomplete:function(a,b=!1,c){var d,e,f,g;return d=a.dialect.words,e=c||is,f=["QuotedIdentifier","String","LineComment","BlockComment","."],g=hd(Object.keys(d).map(a=>{var c;return e(b?a.toUpperCase():a,21==(c=d[a])?"type":20==c?"keyword":"variable")})),a=>{for(let b=f1(a.state).resolveInner(a.pos,-1);b;b=b.parent){if(f.indexOf(b.name)>-1)return null;if(b.type.isTop)break}return g(a)}}(k,a.upperCaseKeywords,a.keywordCompletion)})])}(),function(a={}){return[hN,hF,ho.of(a),hL,h_,hO]}({override:[async function(a){let b,c=a.matchBefore(/\w*/);if(!c||c.from===c.to&&!a.explicit)return null;let d=a.state.doc.lineAt(a.pos),e=d.text.slice(0,a.pos-d.from).toLowerCase();try{b=await j()}catch(a){console.error("Failed to get schema for autocomplete:",a),b={tables:[],columns:{}}}let f=[],g=/\b(from|join)\s+\w*$/i.test(e),h=/\bselect\s+(?!.*\bfrom\b)/i.test(e),i=/\bwhere\s+(?:.*\b(and|or)\s+)?\w*$/i.test(e),k=/\binsert\s+into\s+\w*$/i.test(e),l=/\bupdate\s+\w*$/i.test(e);if((g||k||l)&&b.tables.forEach(a=>{f.push({label:a,type:"type",info:"Table",boost:99})}),h||i||!g){let a=new Set;Object.values(b.columns).forEach(b=>{b.forEach(b=>a.add(b))}),a.forEach(a=>{f.push({label:a,type:"property",info:"Column",boost:h||i?98:50})})}let m=g||h?30:80;jF.forEach(a=>{f.push({label:a,type:"keyword",boost:m})}),jG.forEach(a=>{f.push({label:a,type:"function",apply:a+"()",detail:"function",boost:40})});let n=c.text.toLowerCase(),o=f.filter(a=>a.label.toLowerCase().startsWith(n));return 0===o.length?null:(o.sort((a,b)=>{let c=(b.boost||0)-(a.boost||0);return 0!==c?c:a.label.localeCompare(b.label)}),{from:c.from,options:o,validFor:/^\w*$/})}],activateOnTyping:!0,maxRenderedOptions:20}),(c=[gC],gD instanceof gy&&(gD.module&&c.push(em.styleModule.of(gD.module)),d=gD.themeType),d?c.push(gz.computeN([em.darkTheme],a=>a.facet(em.darkTheme)==("dark"==d)?[gD]:[])):c.push(gz.of(gD)),c),em.updateListener.of(a=>{a.docChanged&&b(a.state.doc.toString())}),em.theme({"&":{height:"200px",border:"1px solid #e5e7eb",borderRadius:"0.375rem"},".cm-scroller":{overflow:"auto",fontFamily:"ui-monospace, monospace"},".cm-content":{minHeight:"200px"}})]}),l=new em({state:k,parent:e.current});return f.current=l,()=>{l.destroy()}},[]),(0,w.useEffect)(()=>{f.current&&a!==f.current.state.doc.toString()&&f.current.dispatch({changes:{from:0,to:f.current.state.doc.length,insert:a}})},[a]),(0,v.jsx)("div",{ref:e})}var jJ=a.i(37811),jK=a.i(88762),jL=a.i(41313),jM=a.i(82995),jN=a.i(2719),jO=a.i(5193);let jP="queries",jQ=new class{db=null;async init(){if(!this.db)return new Promise((a,b)=>{let c=indexedDB.open("absurder-sql-bookmarks",1);c.onerror=()=>{console.error("[QueryBookmarksDB] Error opening database:",c.error),b(c.error)},c.onsuccess=()=>{this.db=c.result,console.log("[QueryBookmarksDB] Database opened successfully"),a()},c.onupgradeneeded=a=>{let b=a.target.result;if(!b.objectStoreNames.contains(jP)){let a=b.createObjectStore(jP,{keyPath:"id"});a.createIndex("name","name",{unique:!1}),a.createIndex("tags","tags",{unique:!1,multiEntry:!0}),a.createIndex("created_at","created_at",{unique:!1}),a.createIndex("updated_at","updated_at",{unique:!1}),console.log("[QueryBookmarksDB] Object store created")}}})}async saveBookmark(a){if(await this.init(),!this.db)throw Error("Database not initialized");let b=Date.now(),c={id:`bookmark-${b}-${Math.random().toString(36).substr(2,9)}`,...a,created_at:b,updated_at:b};return new Promise((a,b)=>{let d=this.db.transaction([jP],"readwrite").objectStore(jP).add(c);d.onsuccess=()=>{console.log("[QueryBookmarksDB] Bookmark saved:",c.id),a(c)},d.onerror=()=>{console.error("[QueryBookmarksDB] Error saving bookmark:",d.error),b(d.error)}})}async updateBookmark(a,b){if(await this.init(),!this.db)throw Error("Database not initialized");let c=await this.getBookmark(a);if(!c)throw Error("Bookmark not found");let d={...c,...b,id:c.id,created_at:c.created_at,updated_at:Date.now()};return new Promise((b,c)=>{let e=this.db.transaction([jP],"readwrite").objectStore(jP).put(d);e.onsuccess=()=>{console.log("[QueryBookmarksDB] Bookmark updated:",a),b(d)},e.onerror=()=>{console.error("[QueryBookmarksDB] Error updating bookmark:",e.error),c(e.error)}})}async getBookmark(a){if(await this.init(),!this.db)throw Error("Database not initialized");return new Promise((b,c)=>{let d=this.db.transaction([jP],"readonly").objectStore(jP).get(a);d.onsuccess=()=>{b(d.result||null)},d.onerror=()=>{console.error("[QueryBookmarksDB] Error getting bookmark:",d.error),c(d.error)}})}async getAllBookmarks(){if(await this.init(),!this.db)throw Error("Database not initialized");return new Promise((a,b)=>{let c=this.db.transaction([jP],"readonly").objectStore(jP).getAll();c.onsuccess=()=>{let b=c.result||[];b.sort((a,b)=>b.updated_at-a.updated_at),a(b)},c.onerror=()=>{console.error("[QueryBookmarksDB] Error getting all bookmarks:",c.error),b(c.error)}})}async deleteBookmark(a){if(await this.init(),!this.db)throw Error("Database not initialized");return new Promise((b,c)=>{let d=this.db.transaction([jP],"readwrite").objectStore(jP).delete(a);d.onsuccess=()=>{console.log("[QueryBookmarksDB] Bookmark deleted:",a),b()},d.onerror=()=>{console.error("[QueryBookmarksDB] Error deleting bookmark:",d.error),c(d.error)}})}async searchBookmarks(a){let b=await this.getAllBookmarks(),c=a.toLowerCase();return b.filter(a=>a.name.toLowerCase().includes(c)||a.description?.toLowerCase().includes(c)||a.sql.toLowerCase().includes(c))}async filterByTags(a){return(await this.getAllBookmarks()).filter(b=>a.some(a=>b.tags.includes(a)))}async exportAll(){return JSON.stringify(await this.getAllBookmarks(),null,2)}async importBookmarks(a){let b;if(await this.init(),!this.db)throw Error("Database not initialized");try{b=JSON.parse(a)}catch(a){throw Error("Invalid JSON format")}if(!Array.isArray(b))throw Error("Import data must be an array");return new Promise((a,c)=>{let d=this.db.transaction([jP],"readwrite").objectStore(jP),e=0,f=b.length;if(0===f)return void a();for(let g of b){if(!g.id||!g.name||!g.sql){console.warn("[QueryBookmarksDB] Skipping invalid bookmark:",g),++e===f&&a();continue}let b=d.put(g);b.onsuccess=()=>{++e===f&&(console.log("[QueryBookmarksDB] Import completed:",f),a())},b.onerror=()=>{console.error("[QueryBookmarksDB] Error importing bookmark:",b.error),c(b.error)}}})}async clearAll(){if(await this.init(),!this.db)throw Error("Database not initialized");return new Promise((a,b)=>{let c=this.db.transaction([jP],"readwrite").objectStore(jP).clear();c.onsuccess=()=>{console.log("[QueryBookmarksDB] All bookmarks cleared"),a()},c.onerror=()=>{console.error("[QueryBookmarksDB] Error clearing bookmarks:",c.error),b(c.error)}})}},jR="queries",jS=new class{db=null;async init(){if(!this.db)return new Promise((a,b)=>{let c=indexedDB.open("absurder-sql-performance",1);c.onerror=()=>{console.error("[QueryPerformanceDB] Error opening database:",c.error),b(c.error)},c.onsuccess=()=>{this.db=c.result,console.log("[QueryPerformanceDB] Database opened successfully"),a()},c.onupgradeneeded=a=>{let b=a.target.result;if(!b.objectStoreNames.contains(jR)){let a=b.createObjectStore(jR,{keyPath:"id"});a.createIndex("sql","sql",{unique:!1}),a.createIndex("avgTime","avgTime",{unique:!1}),a.createIndex("executionCount","executionCount",{unique:!1}),a.createIndex("lastExecuted","lastExecuted",{unique:!1}),console.log("[QueryPerformanceDB] Object store created")}}})}normalizeSQL(a){return a.trim().replace(/\s+/g," ").toLowerCase()}async recordExecution(a,b){if(await this.init(),!this.db)throw Error("Database not initialized");let c=this.normalizeSQL(a),d={timestamp:Date.now(),duration:b},e=await this.getPerformanceRecord(c);if(e){let a=[...e.executions,d].slice(-50),f=e.totalTime+b,g=e.executionCount+1,h={...e,executionCount:g,totalTime:f,minTime:Math.min(e.minTime,b),maxTime:Math.max(e.maxTime,b),avgTime:f/g,lastExecuted:d.timestamp,executions:a};return new Promise((a,b)=>{let d=this.db.transaction([jR],"readwrite").objectStore(jR).put(h);d.onsuccess=()=>{console.log("[QueryPerformanceDB] Performance record updated:",c),a()},d.onerror=()=>{console.error("[QueryPerformanceDB] Error updating record:",d.error),b(d.error)}})}{let a=Date.now(),e={id:`perf-${a}-${Math.random().toString(36).substr(2,9)}`,sql:c,executionCount:1,totalTime:b,minTime:b,maxTime:b,avgTime:b,lastExecuted:d.timestamp,createdAt:a,executions:[d]};return new Promise((a,b)=>{let d=this.db.transaction([jR],"readwrite").objectStore(jR).add(e);d.onsuccess=()=>{console.log("[QueryPerformanceDB] New performance record created:",c),a()},d.onerror=()=>{console.error("[QueryPerformanceDB] Error creating record:",d.error),b(d.error)}})}}async getPerformanceRecord(a){if(await this.init(),!this.db)throw Error("Database not initialized");return new Promise((b,c)=>{let d=this.db.transaction([jR],"readonly").objectStore(jR).index("sql").get(a);d.onsuccess=()=>{b(d.result||null)},d.onerror=()=>{console.error("[QueryPerformanceDB] Error getting record:",d.error),c(d.error)}})}async getAllRecords(){if(await this.init(),!this.db)throw Error("Database not initialized");return new Promise((a,b)=>{let c=this.db.transaction([jR],"readonly").objectStore(jR).getAll();c.onsuccess=()=>{let b=c.result||[];b.sort((a,b)=>b.lastExecuted-a.lastExecuted),a(b)},c.onerror=()=>{console.error("[QueryPerformanceDB] Error getting all records:",c.error),b(c.error)}})}async getSlowQueries(a=1e3){return(await this.getAllRecords()).filter(b=>b.avgTime>a||b.maxTime>a)}async getTopSlowQueries(a=10){return(await this.getAllRecords()).sort((a,b)=>b.avgTime-a.avgTime).slice(0,a)}async getStats(){let a=await this.getAllRecords(),b=a.length,c=a.reduce((a,b)=>a+b.executionCount,0),d=a.filter(a=>a.avgTime>1e3).length,e=a.reduce((a,b)=>a+b.totalTime,0);return{totalQueries:b,totalExecutions:c,slowQueries:d,avgExecutionTime:c>0?e/c:0}}async clearAll(){if(await this.init(),!this.db)throw Error("Database not initialized");return new Promise((a,b)=>{let c=this.db.transaction([jR],"readwrite").objectStore(jR).clear();c.onsuccess=()=>{console.log("[QueryPerformanceDB] All performance data cleared"),a()},c.onerror=()=>{console.error("[QueryPerformanceDB] Error clearing data:",c.error),b(c.error)}})}async exportAll(){return JSON.stringify(await this.getAllRecords(),null,2)}async deleteRecord(a){if(await this.init(),!this.db)throw Error("Database not initialized");return new Promise((b,c)=>{let d=this.db.transaction([jR],"readwrite").objectStore(jR).delete(a);d.onsuccess=()=>{console.log("[QueryPerformanceDB] Record deleted:",a),b()},d.onerror=()=>{console.error("[QueryPerformanceDB] Error deleting record:",d.error),c(d.error)}})}};var jT=a.i(28927);a.s([],48029),a.i(48029);let jU=a=>j0(jW(a)).map(jV),jV=a=>a.replace(/ +/g," ").trim(),jW=a=>({type:"mandatory_block",items:jX(a,0)[0]}),jX=(a,b,c)=>{let d=[];for(;a[b];){let[e,f]=jY(a,b);if(d.push(e),"|"===a[b=f])b++;else if("}"===a[b]||"]"===a[b]){if(c!==a[b])throw Error(`Unbalanced parenthesis in: ${a}`);b++;break}else if(b===a.length){if(c)throw Error(`Unbalanced parenthesis in: ${a}`);break}else throw Error(`Unexpected "${a[b]}"`)}return[d,b]},jY=(a,b)=>{let c=[];for(;;){let[d,e]=jZ(a,b);if(d)c.push(d),b=e;else break}return 1===c.length?[c[0],b]:[{type:"concatenation",items:c},b]},jZ=(a,b)=>{if("{"===a[b])return j$(a,b+1);{if("["===a[b])return j_(a,b+1);let c="";for(;a[b]&&/[A-Za-z0-9_ ]/.test(a[b]);)c+=a[b],b++;return[c,b]}},j$=(a,b)=>{let[c,d]=jX(a,b,"}");return[{type:"mandatory_block",items:c},d]},j_=(a,b)=>{let[c,d]=jX(a,b,"]");return[{type:"optional_block",items:c},d]},j0=a=>{if("string"==typeof a)return[a];if("concatenation"===a.type)return a.items.map(j0).reduce(j1,[""]);if("mandatory_block"===a.type)return a.items.flatMap(j0);if("optional_block"===a.type)return["",...a.items.flatMap(j0)];throw Error(`Unknown node type: ${a}`)},j1=(a,b)=>{let c=[];for(let d of a)for(let a of b)c.push(d+a);return c};(n=s=s||(s={})).QUOTED_IDENTIFIER="QUOTED_IDENTIFIER",n.IDENTIFIER="IDENTIFIER",n.STRING="STRING",n.VARIABLE="VARIABLE",n.RESERVED_DATA_TYPE="RESERVED_DATA_TYPE",n.RESERVED_PARAMETERIZED_DATA_TYPE="RESERVED_PARAMETERIZED_DATA_TYPE",n.RESERVED_KEYWORD="RESERVED_KEYWORD",n.RESERVED_FUNCTION_NAME="RESERVED_FUNCTION_NAME",n.RESERVED_KEYWORD_PHRASE="RESERVED_KEYWORD_PHRASE",n.RESERVED_DATA_TYPE_PHRASE="RESERVED_DATA_TYPE_PHRASE",n.RESERVED_SET_OPERATION="RESERVED_SET_OPERATION",n.RESERVED_CLAUSE="RESERVED_CLAUSE",n.RESERVED_SELECT="RESERVED_SELECT",n.RESERVED_JOIN="RESERVED_JOIN",n.ARRAY_IDENTIFIER="ARRAY_IDENTIFIER",n.ARRAY_KEYWORD="ARRAY_KEYWORD",n.CASE="CASE",n.END="END",n.WHEN="WHEN",n.ELSE="ELSE",n.THEN="THEN",n.LIMIT="LIMIT",n.BETWEEN="BETWEEN",n.AND="AND",n.OR="OR",n.XOR="XOR",n.OPERATOR="OPERATOR",n.COMMA="COMMA",n.ASTERISK="ASTERISK",n.PROPERTY_ACCESS_OPERATOR="PROPERTY_ACCESS_OPERATOR",n.OPEN_PAREN="OPEN_PAREN",n.CLOSE_PAREN="CLOSE_PAREN",n.LINE_COMMENT="LINE_COMMENT",n.BLOCK_COMMENT="BLOCK_COMMENT",n.DISABLE_COMMENT="DISABLE_COMMENT",n.NUMBER="NUMBER",n.NAMED_PARAMETER="NAMED_PARAMETER",n.QUOTED_PARAMETER="QUOTED_PARAMETER",n.NUMBERED_PARAMETER="NUMBERED_PARAMETER",n.POSITIONAL_PARAMETER="POSITIONAL_PARAMETER",n.CUSTOM_PARAMETER="CUSTOM_PARAMETER",n.DELIMITER="DELIMITER",n.EOF="EOF";let j2=a=>({type:s.EOF,raw:"«EOF»",text:"«EOF»",start:a}),j3=j2(1/0),j4=a=>b=>b.type===a.type&&b.text===a.text,j5={ARRAY:j4({text:"ARRAY",type:s.RESERVED_DATA_TYPE}),BY:j4({text:"BY",type:s.RESERVED_KEYWORD}),SET:j4({text:"SET",type:s.RESERVED_CLAUSE}),STRUCT:j4({text:"STRUCT",type:s.RESERVED_DATA_TYPE}),WINDOW:j4({text:"WINDOW",type:s.RESERVED_CLAUSE}),VALUES:j4({text:"VALUES",type:s.RESERVED_CLAUSE})},j6=a=>a===s.RESERVED_DATA_TYPE||a===s.RESERVED_KEYWORD||a===s.RESERVED_FUNCTION_NAME||a===s.RESERVED_KEYWORD_PHRASE||a===s.RESERVED_DATA_TYPE_PHRASE||a===s.RESERVED_CLAUSE||a===s.RESERVED_SELECT||a===s.RESERVED_SET_OPERATION||a===s.RESERVED_JOIN||a===s.ARRAY_KEYWORD||a===s.CASE||a===s.END||a===s.WHEN||a===s.ELSE||a===s.THEN||a===s.LIMIT||a===s.BETWEEN||a===s.AND||a===s.OR||a===s.XOR,j7=["SELECT [ALL | DISTINCT] [AS STRUCT | AS VALUE]"].flatMap(jU),j8=["WITH [RECURSIVE]","FROM","WHERE","GROUP BY","HAVING","QUALIFY","WINDOW","PARTITION BY","ORDER BY","LIMIT","OFFSET","OMIT RECORD IF","INSERT [INTO]","VALUES","SET","MERGE [INTO]","WHEN [NOT] MATCHED [BY SOURCE | BY TARGET] [THEN]","UPDATE SET","CLUSTER BY","FOR SYSTEM_TIME AS OF","WITH CONNECTION","WITH PARTITION COLUMNS","REMOTE WITH CONNECTION"].flatMap(jU),j9=["CREATE [OR REPLACE] [TEMP|TEMPORARY|SNAPSHOT|EXTERNAL] TABLE [IF NOT EXISTS]"].flatMap(jU),ka=["CREATE [OR REPLACE] [MATERIALIZED] VIEW [IF NOT EXISTS]","UPDATE","DELETE [FROM]","DROP [SNAPSHOT | EXTERNAL] TABLE [IF EXISTS]","ALTER TABLE [IF EXISTS]","ADD COLUMN [IF NOT EXISTS]","DROP COLUMN [IF EXISTS]","RENAME TO","ALTER COLUMN [IF EXISTS]","SET DEFAULT COLLATE","SET OPTIONS","DROP NOT NULL","SET DATA TYPE","ALTER SCHEMA [IF EXISTS]","ALTER [MATERIALIZED] VIEW [IF EXISTS]","ALTER BI_CAPACITY","TRUNCATE TABLE","CREATE SCHEMA [IF NOT EXISTS]","DEFAULT COLLATE","CREATE [OR REPLACE] [TEMP|TEMPORARY|TABLE] FUNCTION [IF NOT EXISTS]","CREATE [OR REPLACE] PROCEDURE [IF NOT EXISTS]","CREATE [OR REPLACE] ROW ACCESS POLICY [IF NOT EXISTS]","GRANT TO","FILTER USING","CREATE CAPACITY","AS JSON","CREATE RESERVATION","CREATE ASSIGNMENT","CREATE SEARCH INDEX [IF NOT EXISTS]","DROP SCHEMA [IF EXISTS]","DROP [MATERIALIZED] VIEW [IF EXISTS]","DROP [TABLE] FUNCTION [IF EXISTS]","DROP PROCEDURE [IF EXISTS]","DROP ROW ACCESS POLICY","DROP ALL ROW ACCESS POLICIES","DROP CAPACITY [IF EXISTS]","DROP RESERVATION [IF EXISTS]","DROP ASSIGNMENT [IF EXISTS]","DROP SEARCH INDEX [IF EXISTS]","DROP [IF EXISTS]","GRANT","REVOKE","DECLARE","EXECUTE IMMEDIATE","LOOP","END LOOP","REPEAT","END REPEAT","WHILE","END WHILE","BREAK","LEAVE","CONTINUE","ITERATE","FOR","END FOR","BEGIN","BEGIN TRANSACTION","COMMIT TRANSACTION","ROLLBACK TRANSACTION","RAISE","RETURN","CALL","ASSERT","EXPORT DATA"].flatMap(jU),kb={name:"bigquery",tokenizerOptions:{reservedSelect:j7,reservedClauses:[...j8,...ka,...j9],reservedSetOperations:["UNION {ALL | DISTINCT}","EXCEPT DISTINCT","INTERSECT DISTINCT"].flatMap(jU),reservedJoins:["JOIN","{LEFT | RIGHT | FULL} [OUTER] JOIN","{INNER | CROSS} JOIN"].flatMap(jU),reservedKeywordPhrases:["TABLESAMPLE SYSTEM","ANY TYPE","ALL COLUMNS","NOT DETERMINISTIC","{ROWS | RANGE} BETWEEN","IS [NOT] DISTINCT FROM"].flatMap(jU),reservedDataTypePhrases:[].flatMap(jU),reservedKeywords:["ALL","AND","ANY","AS","ASC","ASSERT_ROWS_MODIFIED","AT","BETWEEN","BY","CASE","CAST","COLLATE","CONTAINS","CREATE","CROSS","CUBE","CURRENT","DEFAULT","DEFINE","DESC","DISTINCT","ELSE","END","ENUM","ESCAPE","EXCEPT","EXCLUDE","EXISTS","EXTRACT","FALSE","FETCH","FOLLOWING","FOR","FROM","FULL","GROUP","GROUPING","GROUPS","HASH","HAVING","IF","IGNORE","IN","INNER","INTERSECT","INTO","IS","JOIN","LATERAL","LEFT","LIMIT","LOOKUP","MERGE","NATURAL","NEW","NO","NOT","NULL","NULLS","OF","ON","OR","ORDER","OUTER","OVER","PARTITION","PRECEDING","PROTO","RANGE","RECURSIVE","RESPECT","RIGHT","ROLLUP","ROWS","SELECT","SET","SOME","TABLE","TABLESAMPLE","THEN","TO","TREAT","TRUE","UNBOUNDED","UNION","UNNEST","USING","WHEN","WHERE","WINDOW","WITH","WITHIN","SAFE","LIKE","COPY","CLONE","IN","OUT","INOUT","RETURNS","LANGUAGE","CASCADE","RESTRICT","DETERMINISTIC"],reservedDataTypes:["ARRAY","BOOL","BYTES","DATE","DATETIME","GEOGRAPHY","INTERVAL","INT64","INT","SMALLINT","INTEGER","BIGINT","TINYINT","BYTEINT","NUMERIC","DECIMAL","BIGNUMERIC","BIGDECIMAL","FLOAT64","STRING","STRUCT","TIME","TIMEZONE"],reservedFunctionNames:["KEYS.NEW_KEYSET","KEYS.ADD_KEY_FROM_RAW_BYTES","AEAD.DECRYPT_BYTES","AEAD.DECRYPT_STRING","AEAD.ENCRYPT","KEYS.KEYSET_CHAIN","KEYS.KEYSET_FROM_JSON","KEYS.KEYSET_TO_JSON","KEYS.ROTATE_KEYSET","KEYS.KEYSET_LENGTH","ANY_VALUE","ARRAY_AGG","AVG","CORR","COUNT","COUNTIF","COVAR_POP","COVAR_SAMP","MAX","MIN","ST_CLUSTERDBSCAN","STDDEV_POP","STDDEV_SAMP","STRING_AGG","SUM","VAR_POP","VAR_SAMP","ANY_VALUE","ARRAY_AGG","ARRAY_CONCAT_AGG","AVG","BIT_AND","BIT_OR","BIT_XOR","COUNT","COUNTIF","LOGICAL_AND","LOGICAL_OR","MAX","MIN","STRING_AGG","SUM","APPROX_COUNT_DISTINCT","APPROX_QUANTILES","APPROX_TOP_COUNT","APPROX_TOP_SUM","ARRAY_CONCAT","ARRAY_LENGTH","ARRAY_TO_STRING","GENERATE_ARRAY","GENERATE_DATE_ARRAY","GENERATE_TIMESTAMP_ARRAY","ARRAY_REVERSE","OFFSET","SAFE_OFFSET","ORDINAL","SAFE_ORDINAL","BIT_COUNT","PARSE_BIGNUMERIC","PARSE_NUMERIC","SAFE_CAST","CURRENT_DATE","EXTRACT","DATE","DATE_ADD","DATE_SUB","DATE_DIFF","DATE_TRUNC","DATE_FROM_UNIX_DATE","FORMAT_DATE","LAST_DAY","PARSE_DATE","UNIX_DATE","CURRENT_DATETIME","DATETIME","EXTRACT","DATETIME_ADD","DATETIME_SUB","DATETIME_DIFF","DATETIME_TRUNC","FORMAT_DATETIME","LAST_DAY","PARSE_DATETIME","ERROR","EXTERNAL_QUERY","S2_CELLIDFROMPOINT","S2_COVERINGCELLIDS","ST_ANGLE","ST_AREA","ST_ASBINARY","ST_ASGEOJSON","ST_ASTEXT","ST_AZIMUTH","ST_BOUNDARY","ST_BOUNDINGBOX","ST_BUFFER","ST_BUFFERWITHTOLERANCE","ST_CENTROID","ST_CENTROID_AGG","ST_CLOSESTPOINT","ST_CLUSTERDBSCAN","ST_CONTAINS","ST_CONVEXHULL","ST_COVEREDBY","ST_COVERS","ST_DIFFERENCE","ST_DIMENSION","ST_DISJOINT","ST_DISTANCE","ST_DUMP","ST_DWITHIN","ST_ENDPOINT","ST_EQUALS","ST_EXTENT","ST_EXTERIORRING","ST_GEOGFROM","ST_GEOGFROMGEOJSON","ST_GEOGFROMTEXT","ST_GEOGFROMWKB","ST_GEOGPOINT","ST_GEOGPOINTFROMGEOHASH","ST_GEOHASH","ST_GEOMETRYTYPE","ST_INTERIORRINGS","ST_INTERSECTION","ST_INTERSECTS","ST_INTERSECTSBOX","ST_ISCOLLECTION","ST_ISEMPTY","ST_LENGTH","ST_MAKELINE","ST_MAKEPOLYGON","ST_MAKEPOLYGONORIENTED","ST_MAXDISTANCE","ST_NPOINTS","ST_NUMGEOMETRIES","ST_NUMPOINTS","ST_PERIMETER","ST_POINTN","ST_SIMPLIFY","ST_SNAPTOGRID","ST_STARTPOINT","ST_TOUCHES","ST_UNION","ST_UNION_AGG","ST_WITHIN","ST_X","ST_Y","FARM_FINGERPRINT","MD5","SHA1","SHA256","SHA512","HLL_COUNT.INIT","HLL_COUNT.MERGE","HLL_COUNT.MERGE_PARTIAL","HLL_COUNT.EXTRACT","MAKE_INTERVAL","EXTRACT","JUSTIFY_DAYS","JUSTIFY_HOURS","JUSTIFY_INTERVAL","JSON_EXTRACT","JSON_QUERY","JSON_EXTRACT_SCALAR","JSON_VALUE","JSON_EXTRACT_ARRAY","JSON_QUERY_ARRAY","JSON_EXTRACT_STRING_ARRAY","JSON_VALUE_ARRAY","TO_JSON_STRING","ABS","SIGN","IS_INF","IS_NAN","IEEE_DIVIDE","RAND","SQRT","POW","POWER","EXP","LN","LOG","LOG10","GREATEST","LEAST","DIV","SAFE_DIVIDE","SAFE_MULTIPLY","SAFE_NEGATE","SAFE_ADD","SAFE_SUBTRACT","MOD","ROUND","TRUNC","CEIL","CEILING","FLOOR","COS","COSH","ACOS","ACOSH","SIN","SINH","ASIN","ASINH","TAN","TANH","ATAN","ATANH","ATAN2","RANGE_BUCKET","FIRST_VALUE","LAST_VALUE","NTH_VALUE","LEAD","LAG","PERCENTILE_CONT","PERCENTILE_DISC","NET.IP_FROM_STRING","NET.SAFE_IP_FROM_STRING","NET.IP_TO_STRING","NET.IP_NET_MASK","NET.IP_TRUNC","NET.IPV4_FROM_INT64","NET.IPV4_TO_INT64","NET.HOST","NET.PUBLIC_SUFFIX","NET.REG_DOMAIN","RANK","DENSE_RANK","PERCENT_RANK","CUME_DIST","NTILE","ROW_NUMBER","SESSION_USER","CORR","COVAR_POP","COVAR_SAMP","STDDEV_POP","STDDEV_SAMP","STDDEV","VAR_POP","VAR_SAMP","VARIANCE","ASCII","BYTE_LENGTH","CHAR_LENGTH","CHARACTER_LENGTH","CHR","CODE_POINTS_TO_BYTES","CODE_POINTS_TO_STRING","CONCAT","CONTAINS_SUBSTR","ENDS_WITH","FORMAT","FROM_BASE32","FROM_BASE64","FROM_HEX","INITCAP","INSTR","LEFT","LENGTH","LPAD","LOWER","LTRIM","NORMALIZE","NORMALIZE_AND_CASEFOLD","OCTET_LENGTH","REGEXP_CONTAINS","REGEXP_EXTRACT","REGEXP_EXTRACT_ALL","REGEXP_INSTR","REGEXP_REPLACE","REGEXP_SUBSTR","REPLACE","REPEAT","REVERSE","RIGHT","RPAD","RTRIM","SAFE_CONVERT_BYTES_TO_STRING","SOUNDEX","SPLIT","STARTS_WITH","STRPOS","SUBSTR","SUBSTRING","TO_BASE32","TO_BASE64","TO_CODE_POINTS","TO_HEX","TRANSLATE","TRIM","UNICODE","UPPER","CURRENT_TIME","TIME","EXTRACT","TIME_ADD","TIME_SUB","TIME_DIFF","TIME_TRUNC","FORMAT_TIME","PARSE_TIME","CURRENT_TIMESTAMP","EXTRACT","STRING","TIMESTAMP","TIMESTAMP_ADD","TIMESTAMP_SUB","TIMESTAMP_DIFF","TIMESTAMP_TRUNC","FORMAT_TIMESTAMP","PARSE_TIMESTAMP","TIMESTAMP_SECONDS","TIMESTAMP_MILLIS","TIMESTAMP_MICROS","UNIX_SECONDS","UNIX_MILLIS","UNIX_MICROS","GENERATE_UUID","COALESCE","IF","IFNULL","NULLIF","AVG","BIT_AND","BIT_OR","BIT_XOR","CORR","COUNT","COVAR_POP","COVAR_SAMP","EXACT_COUNT_DISTINCT","FIRST","GROUP_CONCAT","GROUP_CONCAT_UNQUOTED","LAST","MAX","MIN","NEST","NTH","QUANTILES","STDDEV","STDDEV_POP","STDDEV_SAMP","SUM","TOP","UNIQUE","VARIANCE","VAR_POP","VAR_SAMP","BIT_COUNT","BOOLEAN","BYTES","CAST","FLOAT","HEX_STRING","INTEGER","STRING","COALESCE","GREATEST","IFNULL","IS_INF","IS_NAN","IS_EXPLICITLY_DEFINED","LEAST","NVL","CURRENT_DATE","CURRENT_TIME","CURRENT_TIMESTAMP","DATE","DATE_ADD","DATEDIFF","DAY","DAYOFWEEK","DAYOFYEAR","FORMAT_UTC_USEC","HOUR","MINUTE","MONTH","MSEC_TO_TIMESTAMP","NOW","PARSE_UTC_USEC","QUARTER","SEC_TO_TIMESTAMP","SECOND","STRFTIME_UTC_USEC","TIME","TIMESTAMP","TIMESTAMP_TO_MSEC","TIMESTAMP_TO_SEC","TIMESTAMP_TO_USEC","USEC_TO_TIMESTAMP","UTC_USEC_TO_DAY","UTC_USEC_TO_HOUR","UTC_USEC_TO_MONTH","UTC_USEC_TO_WEEK","UTC_USEC_TO_YEAR","WEEK","YEAR","FORMAT_IP","PARSE_IP","FORMAT_PACKED_IP","PARSE_PACKED_IP","JSON_EXTRACT","JSON_EXTRACT_SCALAR","ABS","ACOS","ACOSH","ASIN","ASINH","ATAN","ATANH","ATAN2","CEIL","COS","COSH","DEGREES","EXP","FLOOR","LN","LOG","LOG2","LOG10","PI","POW","RADIANS","RAND","ROUND","SIN","SINH","SQRT","TAN","TANH","REGEXP_MATCH","REGEXP_EXTRACT","REGEXP_REPLACE","CONCAT","INSTR","LEFT","LENGTH","LOWER","LPAD","LTRIM","REPLACE","RIGHT","RPAD","RTRIM","SPLIT","SUBSTR","UPPER","TABLE_DATE_RANGE","TABLE_DATE_RANGE_STRICT","TABLE_QUERY","HOST","DOMAIN","TLD","AVG","COUNT","MAX","MIN","STDDEV","SUM","CUME_DIST","DENSE_RANK","FIRST_VALUE","LAG","LAST_VALUE","LEAD","NTH_VALUE","NTILE","PERCENT_RANK","PERCENTILE_CONT","PERCENTILE_DISC","RANK","RATIO_TO_REPORT","ROW_NUMBER","CURRENT_USER","EVERY","FROM_BASE64","HASH","FARM_FINGERPRINT","IF","POSITION","SHA1","SOME","TO_BASE64","BQ.JOBS.CANCEL","BQ.REFRESH_MATERIALIZED_VIEW","OPTIONS","PIVOT","UNPIVOT"],extraParens:["[]"],stringTypes:[{quote:'""".."""',prefixes:["R","B","RB","BR"]},{quote:"'''..'''",prefixes:["R","B","RB","BR"]},'""-bs',"''-bs",{quote:'""-raw',prefixes:["R","B","RB","BR"],requirePrefix:!0},{quote:"''-raw",prefixes:["R","B","RB","BR"],requirePrefix:!0}],identTypes:["``"],identChars:{dashes:!0},paramTypes:{positional:!0,named:["@"],quoted:["@"]},variableTypes:[{regex:String.raw`@@\w+`}],lineCommentTypes:["--","#"],operators:["&","|","^","~",">>","<<","||","=>"],postProcess:function(a){var b;let c;return b=function(a){var b;let c=[];for(let d=0;d<a.length;d++){let e=a[d];if((j5.ARRAY(e)||j5.STRUCT(e))&&(null==(b=a[d+1])?void 0:b.text)==="<"){let b=function(a,b){let c=0;for(let d=b;d<a.length;d++){let b=a[d];if("<"===b.text?c++:">"===b.text?c--:">>"===b.text&&(c-=2),0===c)return d}return a.length-1}(a,d+1),f=a.slice(d,b+1);c.push({type:s.IDENTIFIER,raw:f.map(kc("raw")).join(""),text:f.map(kc("text")).join(""),start:e.start}),d=b}else c.push(e)}return c}(a),c=j3,b.map(a=>"OFFSET"===a.text&&"["===c.text?(c=a,Object.assign(Object.assign({},a),{type:s.RESERVED_FUNCTION_NAME})):(c=a,a))}},formatOptions:{onelineClauses:[...j9,...ka],tabularOnelineClauses:ka}},kc=a=>b=>b.type===s.IDENTIFIER||b.type===s.COMMA?b[a]+" ":b[a],kd=["SELECT [ALL | DISTINCT]"].flatMap(jU),ke=["WITH","FROM","WHERE","GROUP BY","HAVING","PARTITION BY","ORDER BY [INPUT SEQUENCE]","LIMIT","OFFSET","FETCH NEXT","FOR UPDATE [OF]","FOR {READ | FETCH} ONLY","FOR {RR | CS | UR | RS} [USE AND KEEP {SHARE | UPDATE | EXCLUSIVE} LOCKS]","WAIT FOR OUTCOME","SKIP LOCKED DATA","INTO","INSERT INTO","VALUES","SET","MERGE INTO","WHEN [NOT] MATCHED [THEN]","UPDATE SET","INSERT"].flatMap(jU),kf=["CREATE [GLOBAL TEMPORARY | EXTERNAL] TABLE [IF NOT EXISTS]"].flatMap(jU),kg=["CREATE [OR REPLACE] VIEW","UPDATE","WHERE CURRENT OF","WITH {RR | RS | CS | UR}","DELETE FROM","DROP TABLE [IF EXISTS]","ALTER TABLE","ADD [COLUMN]","DROP [COLUMN]","RENAME COLUMN","ALTER [COLUMN]","SET DATA TYPE","SET NOT NULL","DROP {DEFAULT | GENERATED | NOT NULL}","TRUNCATE [TABLE]","ALLOCATE","ALTER AUDIT POLICY","ALTER BUFFERPOOL","ALTER DATABASE PARTITION GROUP","ALTER DATABASE","ALTER EVENT MONITOR","ALTER FUNCTION","ALTER HISTOGRAM TEMPLATE","ALTER INDEX","ALTER MASK","ALTER METHOD","ALTER MODULE","ALTER NICKNAME","ALTER PACKAGE","ALTER PERMISSION","ALTER PROCEDURE","ALTER SCHEMA","ALTER SECURITY LABEL COMPONENT","ALTER SECURITY POLICY","ALTER SEQUENCE","ALTER SERVER","ALTER SERVICE CLASS","ALTER STOGROUP","ALTER TABLESPACE","ALTER THRESHOLD","ALTER TRIGGER","ALTER TRUSTED CONTEXT","ALTER TYPE","ALTER USAGE LIST","ALTER USER MAPPING","ALTER VIEW","ALTER WORK ACTION SET","ALTER WORK CLASS SET","ALTER WORKLOAD","ALTER WRAPPER","ALTER XSROBJECT","ALTER STOGROUP","ALTER TABLESPACE","ALTER TRIGGER","ALTER TRUSTED CONTEXT","ALTER VIEW","ASSOCIATE [RESULT SET] {LOCATOR | LOCATORS}","AUDIT","BEGIN DECLARE SECTION","CALL","CLOSE","COMMENT ON","COMMIT [WORK]","CONNECT","CREATE [OR REPLACE] [PUBLIC] ALIAS","CREATE AUDIT POLICY","CREATE BUFFERPOOL","CREATE DATABASE PARTITION GROUP","CREATE EVENT MONITOR","CREATE [OR REPLACE] FUNCTION","CREATE FUNCTION MAPPING","CREATE HISTOGRAM TEMPLATE","CREATE [UNIQUE] INDEX","CREATE INDEX EXTENSION","CREATE [OR REPLACE] MASK","CREATE [SPECIFIC] METHOD","CREATE [OR REPLACE] MODULE","CREATE [OR REPLACE] NICKNAME","CREATE [OR REPLACE] PERMISSION","CREATE [OR REPLACE] PROCEDURE","CREATE ROLE","CREATE SCHEMA","CREATE SECURITY LABEL [COMPONENT]","CREATE SECURITY POLICY","CREATE [OR REPLACE] SEQUENCE","CREATE SERVICE CLASS","CREATE SERVER","CREATE STOGROUP","CREATE SYNONYM","CREATE [LARGE | REGULAR | {SYSTEM | USER} TEMPORARY] TABLESPACE","CREATE THRESHOLD","CREATE {TRANSFORM | TRANSFORMS} FOR","CREATE [OR REPLACE] TRIGGER","CREATE TRUSTED CONTEXT","CREATE [OR REPLACE] TYPE","CREATE TYPE MAPPING","CREATE USAGE LIST","CREATE USER MAPPING FOR","CREATE [OR REPLACE] VARIABLE","CREATE WORK ACTION SET","CREATE WORK CLASS SET","CREATE WORKLOAD","CREATE WRAPPER","DECLARE","DECLARE GLOBAL TEMPORARY TABLE","DESCRIBE [INPUT | OUTPUT]","DISCONNECT","DROP [PUBLIC] ALIAS","DROP AUDIT POLICY","DROP BUFFERPOOL","DROP DATABASE PARTITION GROUP","DROP EVENT MONITOR","DROP [SPECIFIC] FUNCTION","DROP FUNCTION MAPPING","DROP HISTOGRAM TEMPLATE","DROP INDEX [EXTENSION]","DROP MASK","DROP [SPECIFIC] METHOD","DROP MODULE","DROP NICKNAME","DROP PACKAGE","DROP PERMISSION","DROP [SPECIFIC] PROCEDURE","DROP ROLE","DROP SCHEMA","DROP SECURITY LABEL [COMPONENT]","DROP SECURITY POLICY","DROP SEQUENCE","DROP SERVER","DROP SERVICE CLASS","DROP STOGROUP","DROP TABLE HIERARCHY","DROP {TABLESPACE | TABLESPACES}","DROP {TRANSFORM | TRANSFORMS}","DROP THRESHOLD","DROP TRIGGER","DROP TRUSTED CONTEXT","DROP TYPE [MAPPING]","DROP USAGE LIST","DROP USER MAPPING FOR","DROP VARIABLE","DROP VIEW [HIERARCHY]","DROP WORK {ACTION | CLASS} SET","DROP WORKLOAD","DROP WRAPPER","DROP XSROBJECT","END DECLARE SECTION","EXECUTE [IMMEDIATE]","EXPLAIN {PLAN [SECTION] | ALL}","FETCH [FROM]","FLUSH {BUFFERPOOL | BUFFERPOOLS} ALL","FLUSH EVENT MONITOR","FLUSH FEDERATED CACHE","FLUSH OPTIMIZATION PROFILE CACHE","FLUSH PACKAGE CACHE [DYNAMIC]","FLUSH AUTHENTICATION CACHE [FOR ALL]","FREE LOCATOR","GET DIAGNOSTICS","GOTO","GRANT","INCLUDE","ITERATE","LEAVE","LOCK TABLE","LOOP","OPEN","PIPE","PREPARE","REFRESH TABLE","RELEASE","RELEASE [TO] SAVEPOINT","RENAME [TABLE | INDEX | STOGROUP | TABLESPACE]","REPEAT","RESIGNAL","RETURN","REVOKE","ROLLBACK [WORK] [TO SAVEPOINT]","SAVEPOINT","SET COMPILATION ENVIRONMENT","SET CONNECTION","SET CURRENT","SET ENCRYPTION PASSWORD","SET EVENT MONITOR STATE","SET INTEGRITY","SET PASSTHRU","SET PATH","SET ROLE","SET SCHEMA","SET SERVER OPTION","SET {SESSION AUTHORIZATION | SESSION_USER}","SET USAGE LIST","SIGNAL","TRANSFER OWNERSHIP OF","WHENEVER {NOT FOUND | SQLERROR | SQLWARNING}","WHILE"].flatMap(jU),kh={name:"db2",tokenizerOptions:{reservedSelect:kd,reservedClauses:[...ke,...kf,...kg],reservedSetOperations:["UNION [ALL]","EXCEPT [ALL]","INTERSECT [ALL]"].flatMap(jU),reservedJoins:["JOIN","{LEFT | RIGHT | FULL} [OUTER] JOIN","{INNER | CROSS} JOIN"].flatMap(jU),reservedKeywordPhrases:["ON DELETE","ON UPDATE","SET NULL","{ROWS | RANGE} BETWEEN"].flatMap(jU),reservedDataTypePhrases:[].flatMap(jU),reservedKeywords:["ACTIVATE","ADD","AFTER","ALIAS","ALL","ALLOCATE","ALLOW","ALTER","AND","ANY","AS","ASENSITIVE","ASSOCIATE","ASUTIME","AT","ATTRIBUTES","AUDIT","AUTHORIZATION","AUX","AUXILIARY","BEFORE","BEGIN","BETWEEN","BINARY","BUFFERPOOL","BY","CACHE","CALL","CALLED","CAPTURE","CARDINALITY","CASCADED","CASE","CAST","CHECK","CLONE","CLOSE","CLUSTER","COLLECTION","COLLID","COLUMN","COMMENT","COMMIT","CONCAT","CONDITION","CONNECT","CONNECTION","CONSTRAINT","CONTAINS","CONTINUE","COUNT","COUNT_BIG","CREATE","CROSS","CURRENT","CURRENT_DATE","CURRENT_LC_CTYPE","CURRENT_PATH","CURRENT_SCHEMA","CURRENT_SERVER","CURRENT_TIME","CURRENT_TIMESTAMP","CURRENT_TIMEZONE","CURRENT_USER","CURSOR","CYCLE","DATA","DATABASE","DATAPARTITIONNAME","DATAPARTITIONNUM","DAY","DAYS","DB2GENERAL","DB2GENRL","DB2SQL","DBINFO","DBPARTITIONNAME","DBPARTITIONNUM","DEALLOCATE","DECLARE","DEFAULT","DEFAULTS","DEFINITION","DELETE","DENSERANK","DENSE_RANK","DESCRIBE","DESCRIPTOR","DETERMINISTIC","DIAGNOSTICS","DISABLE","DISALLOW","DISCONNECT","DISTINCT","DO","DOCUMENT","DROP","DSSIZE","DYNAMIC","EACH","EDITPROC","ELSE","ELSEIF","ENABLE","ENCODING","ENCRYPTION","END","END-EXEC","ENDING","ERASE","ESCAPE","EVERY","EXCEPT","EXCEPTION","EXCLUDING","EXCLUSIVE","EXECUTE","EXISTS","EXIT","EXPLAIN","EXTENDED","EXTERNAL","EXTRACT","FENCED","FETCH","FIELDPROC","FILE","FINAL","FIRST1","FOR","FOREIGN","FREE","FROM","FULL","FUNCTION","GENERAL","GENERATED","GET","GLOBAL","GO","GOTO","GRANT","GRAPHIC","GROUP","HANDLER","HASH","HASHED_VALUE","HAVING","HINT","HOLD","HOUR","HOURS","IDENTITY","IF","IMMEDIATE","IMPORT","IN","INCLUDING","INCLUSIVE","INCREMENT","INDEX","INDICATOR","INDICATORS","INF","INFINITY","INHERIT","INNER","INOUT","INSENSITIVE","INSERT","INTEGRITY","INTERSECT","INTO","IS","ISNULL","ISOBID","ISOLATION","ITERATE","JAR","JAVA","JOIN","KEEP","KEY","LABEL","LANGUAGE","LAST3","LATERAL","LC_CTYPE","LEAVE","LEFT","LIKE","LIMIT","LINKTYPE","LOCAL","LOCALDATE","LOCALE","LOCALTIME","LOCALTIMESTAMP","LOCATOR","LOCATORS","LOCK","LOCKMAX","LOCKSIZE","LOOP","MAINTAINED","MATERIALIZED","MAXVALUE","MICROSECOND","MICROSECONDS","MINUTE","MINUTES","MINVALUE","MODE","MODIFIES","MONTH","MONTHS","NAN","NEW","NEW_TABLE","NEXTVAL","NO","NOCACHE","NOCYCLE","NODENAME","NODENUMBER","NOMAXVALUE","NOMINVALUE","NONE","NOORDER","NORMALIZED","NOT2","NOTNULL","NULL","NULLS","NUMPARTS","OBID","OF","OFF","OFFSET","OLD","OLD_TABLE","ON","OPEN","OPTIMIZATION","OPTIMIZE","OPTION","OR","ORDER","OUT","OUTER","OVER","OVERRIDING","PACKAGE","PADDED","PAGESIZE","PARAMETER","PART","PARTITION","PARTITIONED","PARTITIONING","PARTITIONS","PASSWORD","PATH","PERCENT","PIECESIZE","PLAN","POSITION","PRECISION","PREPARE","PREVVAL","PRIMARY","PRIQTY","PRIVILEGES","PROCEDURE","PROGRAM","PSID","PUBLIC","QUERY","QUERYNO","RANGE","RANK","READ","READS","RECOVERY","REFERENCES","REFERENCING","REFRESH","RELEASE","RENAME","REPEAT","RESET","RESIGNAL","RESTART","RESTRICT","RESULT","RESULT_SET_LOCATOR","RETURN","RETURNS","REVOKE","RIGHT","ROLE","ROLLBACK","ROUND_CEILING","ROUND_DOWN","ROUND_FLOOR","ROUND_HALF_DOWN","ROUND_HALF_EVEN","ROUND_HALF_UP","ROUND_UP","ROUTINE","ROW","ROWNUMBER","ROWS","ROWSET","ROW_NUMBER","RRN","RUN","SAVEPOINT","SCHEMA","SCRATCHPAD","SCROLL","SEARCH","SECOND","SECONDS","SECQTY","SECURITY","SELECT","SENSITIVE","SEQUENCE","SESSION","SESSION_USER","SET","SIGNAL","SIMPLE","SNAN","SOME","SOURCE","SPECIFIC","SQL","SQLID","STACKED","STANDARD","START","STARTING","STATEMENT","STATIC","STATMENT","STAY","STOGROUP","STORES","STYLE","SUBSTRING","SUMMARY","SYNONYM","SYSFUN","SYSIBM","SYSPROC","SYSTEM","SYSTEM_USER","TABLE","TABLESPACE","THEN","TO","TRANSACTION","TRIGGER","TRIM","TRUNCATE","TYPE","UNDO","UNION","UNIQUE","UNTIL","UPDATE","USAGE","USER","USING","VALIDPROC","VALUE","VALUES","VARIABLE","VARIANT","VCAT","VERSION","VIEW","VOLATILE","VOLUMES","WHEN","WHENEVER","WHERE","WHILE","WITH","WITHOUT","WLM","WRITE","XMLELEMENT","XMLEXISTS","XMLNAMESPACES","YEAR","YEARS"],reservedDataTypes:["ARRAY","BIGINT","BINARY","BLOB","BOOLEAN","CCSID","CHAR","CHARACTER","CLOB","DATE","DATETIME","DBCLOB","DEC","DECIMAL","DOUBLE","DOUBLE PRECISION","FLOAT","FLOAT4","FLOAT8","GRAPHIC","INT","INT2","INT4","INT8","INTEGER","INTERVAL","LONG VARCHAR","LONG VARGRAPHIC","NCHAR","NCHR","NCLOB","NVARCHAR","NUMERIC","SMALLINT","REAL","TIME","TIMESTAMP","VARBINARY","VARCHAR","VARGRAPHIC"],reservedFunctionNames:["ARRAY_AGG","AVG","CORRELATION","COUNT","COUNT_BIG","COVARIANCE","COVARIANCE_SAMP","CUME_DIST","GROUPING","LISTAGG","MAX","MEDIAN","MIN","PERCENTILE_CONT","PERCENTILE_DISC","PERCENT_RANK","REGR_AVGX","REGR_AVGY","REGR_COUNT","REGR_INTERCEPT","REGR_ICPT","REGR_R2","REGR_SLOPE","REGR_SXX","REGR_SXY","REGR_SYY","STDDEV","STDDEV_SAMP","SUM","VARIANCE","VARIANCE_SAMP","XMLAGG","XMLGROUP","ABS","ABSVAL","ACOS","ADD_DAYS","ADD_HOURS","ADD_MINUTES","ADD_MONTHS","ADD_SECONDS","ADD_YEARS","AGE","ARRAY_DELETE","ARRAY_FIRST","ARRAY_LAST","ARRAY_NEXT","ARRAY_PRIOR","ASCII","ASCII_STR","ASIN","ATAN","ATAN2","ATANH","BITAND","BITANDNOT","BITOR","BITXOR","BITNOT","BPCHAR","BSON_TO_JSON","BTRIM","CARDINALITY","CEILING","CEIL","CHARACTER_LENGTH","CHR","COALESCE","COLLATION_KEY","COLLATION_KEY_BIT","COMPARE_DECFLOAT","CONCAT","COS","COSH","COT","CURSOR_ROWCOUNT","DATAPARTITIONNUM","DATE_PART","DATE_TRUNC","DAY","DAYNAME","DAYOFMONTH","DAYOFWEEK","DAYOFWEEK_ISO","DAYOFYEAR","DAYS","DAYS_BETWEEN","DAYS_TO_END_OF_MONTH","DBPARTITIONNUM","DECFLOAT","DECFLOAT_FORMAT","DECODE","DECRYPT_BIN","DECRYPT_CHAR","DEGREES","DEREF","DIFFERENCE","DIGITS","DOUBLE_PRECISION","EMPTY_BLOB","EMPTY_CLOB","EMPTY_DBCLOB","EMPTY_NCLOB","ENCRYPT","EVENT_MON_STATE","EXP","EXTRACT","FIRST_DAY","FLOOR","FROM_UTC_TIMESTAMP","GENERATE_UNIQUE","GETHINT","GREATEST","HASH","HASH4","HASH8","HASHEDVALUE","HEX","HEXTORAW","HOUR","HOURS_BETWEEN","IDENTITY_VAL_LOCAL","IFNULL","INITCAP","INSERT","INSTR","INSTR2","INSTR4","INSTRB","INTNAND","INTNOR","INTNXOR","INTNNOT","ISNULL","JSON_ARRAY","JSON_OBJECT","JSON_QUERY","JSON_TO_BSON","JSON_VALUE","JULIAN_DAY","LAST_DAY","LCASE","LEAST","LEFT","LENGTH","LENGTH2","LENGTH4","LENGTHB","LN","LOCATE","LOCATE_IN_STRING","LOG10","LONG_VARCHAR","LONG_VARGRAPHIC","LOWER","LPAD","LTRIM","MAX","MAX_CARDINALITY","MICROSECOND","MIDNIGHT_SECONDS","MIN","MINUTE","MINUTES_BETWEEN","MOD","MONTH","MONTHNAME","MONTHS_BETWEEN","MULTIPLY_ALT","NEXT_DAY","NEXT_MONTH","NEXT_QUARTER","NEXT_WEEK","NEXT_YEAR","NORMALIZE_DECFLOAT","NOW","NULLIF","NVL","NVL2","OCTET_LENGTH","OVERLAY","PARAMETER","POSITION","POSSTR","POW","POWER","QUANTIZE","QUARTER","QUOTE_IDENT","QUOTE_LITERAL","RADIANS","RAISE_ERROR","RAND","RANDOM","RAWTOHEX","REC2XML","REGEXP_COUNT","REGEXP_EXTRACT","REGEXP_INSTR","REGEXP_LIKE","REGEXP_MATCH_COUNT","REGEXP_REPLACE","REGEXP_SUBSTR","REPEAT","REPLACE","RID","RID_BIT","RIGHT","ROUND","ROUND_TIMESTAMP","RPAD","RTRIM","SECLABEL","SECLABEL_BY_NAME","SECLABEL_TO_CHAR","SECOND","SECONDS_BETWEEN","SIGN","SIN","SINH","SOUNDEX","SPACE","SQRT","STRIP","STRLEFT","STRPOS","STRRIGHT","SUBSTR","SUBSTR2","SUBSTR4","SUBSTRB","SUBSTRING","TABLE_NAME","TABLE_SCHEMA","TAN","TANH","THIS_MONTH","THIS_QUARTER","THIS_WEEK","THIS_YEAR","TIMESTAMP_FORMAT","TIMESTAMP_ISO","TIMESTAMPDIFF","TIMEZONE","TO_CHAR","TO_CLOB","TO_DATE","TO_HEX","TO_MULTI_BYTE","TO_NCHAR","TO_NCLOB","TO_NUMBER","TO_SINGLE_BYTE","TO_TIMESTAMP","TO_UTC_TIMESTAMP","TOTALORDER","TRANSLATE","TRIM","TRIM_ARRAY","TRUNC_TIMESTAMP","TRUNCATE","TRUNC","TYPE_ID","TYPE_NAME","TYPE_SCHEMA","UCASE","UNICODE_STR","UPPER","VALUE","VARCHAR_BIT_FORMAT","VARCHAR_FORMAT","VARCHAR_FORMAT_BIT","VERIFY_GROUP_FOR_USER","VERIFY_ROLE_FOR_USER","VERIFY_TRUSTED_CONTEXT_ROLE_FOR_USER","WEEK","WEEK_ISO","WEEKS_BETWEEN","WIDTH_BUCKET","XMLATTRIBUTES","XMLCOMMENT","XMLCONCAT","XMLDOCUMENT","XMLELEMENT","XMLFOREST","XMLNAMESPACES","XMLPARSE","XMLPI","XMLQUERY","XMLROW","XMLSERIALIZE","XMLTEXT","XMLVALIDATE","XMLXSROBJECTID","XSLTRANSFORM","YEAR","YEARS_BETWEEN","YMD_BETWEEN","BASE_TABLE","JSON_TABLE","UNNEST","XMLTABLE","RANK","DENSE_RANK","NTILE","LAG","LEAD","ROW_NUMBER","FIRST_VALUE","LAST_VALUE","NTH_VALUE","RATIO_TO_REPORT","CAST"],extraParens:["[]"],stringTypes:[{quote:"''-qq",prefixes:["G","N","U&"]},{quote:"''-raw",prefixes:["X","BX","GX","UX"],requirePrefix:!0}],identTypes:['""-qq'],identChars:{first:"@#$",rest:"@#$"},paramTypes:{positional:!0,named:[":"]},paramChars:{first:"@#$",rest:"@#$"},operators:["**","%","|","&","^","~","¬=","¬>","¬<","!>","!<","^=","^>","^<","||","->","=>"]},formatOptions:{onelineClauses:[...kf,...kg],tabularOnelineClauses:kg}},ki=["SELECT [ALL | DISTINCT]"].flatMap(jU),kj=["WITH [RECURSIVE]","INTO","FROM","WHERE","GROUP BY","HAVING","PARTITION BY","ORDER [SIBLINGS] BY [INPUT SEQUENCE]","LIMIT","OFFSET","FETCH {FIRST | NEXT}","FOR UPDATE [OF]","FOR READ ONLY","OPTIMIZE FOR","INSERT INTO","VALUES","SET","MERGE INTO","WHEN [NOT] MATCHED [THEN]","UPDATE SET","DELETE","INSERT","FOR SYSTEM NAME"].flatMap(jU),kk=["CREATE [OR REPLACE] TABLE"].flatMap(jU),kl=["CREATE [OR REPLACE] [RECURSIVE] VIEW","UPDATE","WHERE CURRENT OF","WITH {NC | RR | RS | CS | UR}","DELETE FROM","DROP TABLE","ALTER TABLE","ADD [COLUMN]","ALTER [COLUMN]","DROP [COLUMN]","SET DATA TYPE","SET {GENERATED ALWAYS | GENERATED BY DEFAULT}","SET NOT NULL","SET {NOT HIDDEN | IMPLICITLY HIDDEN}","SET FIELDPROC","DROP {DEFAULT | NOT NULL | GENERATED | IDENTITY | ROW CHANGE TIMESTAMP | FIELDPROC}","TRUNCATE [TABLE]","SET [CURRENT] SCHEMA","SET CURRENT_SCHEMA","ALLOCATE CURSOR","ALLOCATE [SQL] DESCRIPTOR [LOCAL | GLOBAL] SQL","ALTER [SPECIFIC] {FUNCTION | PROCEDURE}","ALTER {MASK | PERMISSION | SEQUENCE | TRIGGER}","ASSOCIATE [RESULT SET] {LOCATOR | LOCATORS}","BEGIN DECLARE SECTION","CALL","CLOSE","COMMENT ON {ALIAS | COLUMN | CONSTRAINT | INDEX | MASK | PACKAGE | PARAMETER | PERMISSION | SEQUENCE | TABLE | TRIGGER | VARIABLE | XSROBJECT}","COMMENT ON [SPECIFIC] {FUNCTION | PROCEDURE | ROUTINE}","COMMENT ON PARAMETER SPECIFIC {FUNCTION | PROCEDURE | ROUTINE}","COMMENT ON [TABLE FUNCTION] RETURN COLUMN","COMMENT ON [TABLE FUNCTION] RETURN COLUMN SPECIFIC [PROCEDURE | ROUTINE]","COMMIT [WORK] [HOLD]","CONNECT [TO | RESET] USER","CREATE [OR REPLACE] {ALIAS | FUNCTION | MASK | PERMISSION | PROCEDURE | SEQUENCE | TRIGGER | VARIABLE}","CREATE [ENCODED VECTOR] INDEX","CREATE UNIQUE [WHERE NOT NULL] INDEX","CREATE SCHEMA","CREATE TYPE","DEALLOCATE [SQL] DESCRIPTOR [LOCAL | GLOBAL]","DECLARE CURSOR","DECLARE GLOBAL TEMPORARY TABLE","DECLARE","DESCRIBE CURSOR","DESCRIBE INPUT","DESCRIBE [OUTPUT]","DESCRIBE {PROCEDURE | ROUTINE}","DESCRIBE TABLE","DISCONNECT ALL [SQL]","DISCONNECT [CURRENT]","DROP {ALIAS | INDEX | MASK | PACKAGE | PERMISSION | SCHEMA | SEQUENCE | TABLE | TYPE | VARIABLE | XSROBJECT} [IF EXISTS]","DROP [SPECIFIC] {FUNCTION | PROCEDURE | ROUTINE} [IF EXISTS]","END DECLARE SECTION","EXECUTE [IMMEDIATE]","FREE LOCATOR","GET [SQL] DESCRIPTOR [LOCAL | GLOBAL]","GET [CURRENT | STACKED] DIAGNOSTICS","GRANT {ALL [PRIVILEGES] | ALTER | EXECUTE} ON {FUNCTION | PROCEDURE | ROUTINE | PACKAGE | SCHEMA | SEQUENCE | TABLE | TYPE | VARIABLE | XSROBJECT}","HOLD LOCATOR","INCLUDE","LABEL ON {ALIAS | COLUMN | CONSTRAINT | INDEX | MASK | PACKAGE | PERMISSION | SEQUENCE | TABLE | TRIGGER | VARIABLE | XSROBJECT}","LABEL ON [SPECIFIC] {FUNCTION | PROCEDURE | ROUTINE}","LOCK TABLE","OPEN","PREPARE","REFRESH TABLE","RELEASE","RELEASE [TO] SAVEPOINT","RENAME [TABLE | INDEX] TO","REVOKE {ALL [PRIVILEGES] | ALTER | EXECUTE} ON {FUNCTION | PROCEDURE | ROUTINE | PACKAGE | SCHEMA | SEQUENCE | TABLE | TYPE | VARIABLE | XSROBJECT}","ROLLBACK [WORK] [HOLD | TO SAVEPOINT]","SAVEPOINT","SET CONNECTION","SET CURRENT {DEBUG MODE | DECFLOAT ROUNDING MODE | DEGREE | IMPLICIT XMLPARSE OPTION | TEMPORAL SYSTEM_TIME}","SET [SQL] DESCRIPTOR [LOCAL | GLOBAL]","SET ENCRYPTION PASSWORD","SET OPTION","SET {[CURRENT [FUNCTION]] PATH | CURRENT_PATH}","SET RESULT SETS [WITH RETURN [TO CALLER | TO CLIENT]]","SET SESSION AUTHORIZATION","SET SESSION_USER","SET TRANSACTION","SIGNAL SQLSTATE [VALUE]","TAG","TRANSFER OWNERSHIP OF","WHENEVER {NOT FOUND | SQLERROR | SQLWARNING}"].flatMap(jU),km={name:"db2i",tokenizerOptions:{reservedSelect:ki,reservedClauses:[...kj,...kk,...kl],reservedSetOperations:["UNION [ALL]","EXCEPT [ALL]","INTERSECT [ALL]"].flatMap(jU),reservedJoins:["JOIN","{LEFT | RIGHT | FULL} [OUTER] JOIN","[LEFT | RIGHT] EXCEPTION JOIN","{INNER | CROSS} JOIN"].flatMap(jU),reservedKeywordPhrases:["ON DELETE","ON UPDATE","SET NULL","{ROWS | RANGE} BETWEEN"].flatMap(jU),reservedDataTypePhrases:[].flatMap(jU),reservedKeywords:["ABSENT","ACCORDING","ACCTNG","ACTION","ACTIVATE","ADD","ALIAS","ALL","ALLOCATE","ALLOW","ALTER","AND","ANY","APPEND","APPLNAME","ARRAY","ARRAY_AGG","ARRAY_TRIM","AS","ASC","ASENSITIVE","ASSOCIATE","ATOMIC","ATTACH","ATTRIBUTES","AUTHORIZATION","AUTONOMOUS","BEFORE","BEGIN","BETWEEN","BIND","BSON","BUFFERPOOL","BY","CACHE","CALL","CALLED","CARDINALITY","CASE","CAST","CHECK","CL","CLOSE","CLUSTER","COLLECT","COLLECTION","COLUMN","COMMENT","COMMIT","COMPACT","COMPARISONS","COMPRESS","CONCAT","CONCURRENT","CONDITION","CONNECT","CONNECT_BY_ROOT","CONNECTION","CONSTANT","CONSTRAINT","CONTAINS","CONTENT","CONTINUE","COPY","COUNT","COUNT_BIG","CREATE","CREATEIN","CROSS","CUBE","CUME_DIST","CURRENT","CURRENT_DATE","CURRENT_PATH","CURRENT_SCHEMA","CURRENT_SERVER","CURRENT_TIME","CURRENT_TIMESTAMP","CURRENT_TIMEZONE","CURRENT_USER","CURSOR","CYCLE","DATABASE","DATAPARTITIONNAME","DATAPARTITIONNUM","DAY","DAYS","DB2GENERAL","DB2GENRL","DB2SQL","DBINFO","DBPARTITIONNAME","DBPARTITIONNUM","DEACTIVATE","DEALLOCATE","DECLARE","DEFAULT","DEFAULTS","DEFER","DEFINE","DEFINITION","DELETE","DELETING","DENSE_RANK","DENSERANK","DESC","DESCRIBE","DESCRIPTOR","DETACH","DETERMINISTIC","DIAGNOSTICS","DISABLE","DISALLOW","DISCONNECT","DISTINCT","DO","DOCUMENT","DROP","DYNAMIC","EACH","ELSE","ELSEIF","EMPTY","ENABLE","ENCODING","ENCRYPTION","END","END-EXEC","ENDING","ENFORCED","ERROR","ESCAPE","EVERY","EXCEPT","EXCEPTION","EXCLUDING","EXCLUSIVE","EXECUTE","EXISTS","EXIT","EXTEND","EXTERNAL","EXTRACT","FALSE","FENCED","FETCH","FIELDPROC","FILE","FINAL","FIRST_VALUE","FOR","FOREIGN","FORMAT","FREE","FREEPAGE","FROM","FULL","FUNCTION","GBPCACHE","GENERAL","GENERATED","GET","GLOBAL","GO","GOTO","GRANT","GROUP","HANDLER","HASH","HASH_ROW","HASHED_VALUE","HAVING","HINT","HOLD","HOUR","HOURS","IDENTITY","IF","IGNORE","IMMEDIATE","IMPLICITLY","IN","INCLUDE","INCLUDING","INCLUSIVE","INCREMENT","INDEX","INDEXBP","INDICATOR","INF","INFINITY","INHERIT","INLINE","INNER","INOUT","INSENSITIVE","INSERT","INSERTING","INTEGRITY","INTERPRET","INTERSECT","INTO","IS","ISNULL","ISOLATION","ITERATE","JAVA","JOIN","JSON","JSON_ARRAY","JSON_ARRAYAGG","JSON_EXISTS","JSON_OBJECT","JSON_OBJECTAGG","JSON_QUERY","JSON_TABLE","JSON_VALUE","KEEP","KEY","KEYS","LABEL","LAG","LANGUAGE","LAST_VALUE","LATERAL","LEAD","LEAVE","LEFT","LEVEL2","LIKE","LIMIT","LINKTYPE","LISTAGG","LOCAL","LOCALDATE","LOCALTIME","LOCALTIMESTAMP","LOCATION","LOCATOR","LOCK","LOCKSIZE","LOG","LOGGED","LOOP","MAINTAINED","MASK","MATCHED","MATERIALIZED","MAXVALUE","MERGE","MICROSECOND","MICROSECONDS","MINPCTUSED","MINUTE","MINUTES","MINVALUE","MIRROR","MIXED","MODE","MODIFIES","MONTH","MONTHS","NAMESPACE","NAN","NATIONAL","NCHAR","NCLOB","NESTED","NEW","NEW_TABLE","NEXTVAL","NO","NOCACHE","NOCYCLE","NODENAME","NODENUMBER","NOMAXVALUE","NOMINVALUE","NONE","NOORDER","NORMALIZED","NOT","NOTNULL","NTH_VALUE","NTILE","NULL","NULLS","NVARCHAR","OBID","OBJECT","OF","OFF","OFFSET","OLD","OLD_TABLE","OMIT","ON","ONLY","OPEN","OPTIMIZE","OPTION","OR","ORDER","ORDINALITY","ORGANIZE","OUT","OUTER","OVER","OVERLAY","OVERRIDING","PACKAGE","PADDED","PAGE","PAGESIZE","PARAMETER","PART","PARTITION","PARTITIONED","PARTITIONING","PARTITIONS","PASSING","PASSWORD","PATH","PCTFREE","PERCENT_RANK","PERCENTILE_CONT","PERCENTILE_DISC","PERIOD","PERMISSION","PIECESIZE","PIPE","PLAN","POSITION","PREPARE","PREVVAL","PRIMARY","PRIOR","PRIQTY","PRIVILEGES","PROCEDURE","PROGRAM","PROGRAMID","QUERY","RANGE","RANK","RATIO_TO_REPORT","RCDFMT","READ","READS","RECOVERY","REFERENCES","REFERENCING","REFRESH","REGEXP_LIKE","RELEASE","RENAME","REPEAT","RESET","RESIGNAL","RESTART","RESULT","RESULT_SET_LOCATOR","RETURN","RETURNING","RETURNS","REVOKE","RID","RIGHT","ROLLBACK","ROLLUP","ROUTINE","ROW","ROW_NUMBER","ROWNUMBER","ROWS","RRN","RUN","SAVEPOINT","SBCS","SCALAR","SCHEMA","SCRATCHPAD","SCROLL","SEARCH","SECOND","SECONDS","SECQTY","SECURED","SELECT","SENSITIVE","SEQUENCE","SESSION","SESSION_USER","SET","SIGNAL","SIMPLE","SKIP","SNAN","SOME","SOURCE","SPECIFIC","SQL","SQLID","SQLIND_DEFAULT","SQLIND_UNASSIGNED","STACKED","START","STARTING","STATEMENT","STATIC","STOGROUP","SUBSTRING","SUMMARY","SYNONYM","SYSTEM_TIME","SYSTEM_USER","TABLE","TABLESPACE","TABLESPACES","TAG","THEN","THREADSAFE","TO","TRANSACTION","TRANSFER","TRIGGER","TRIM","TRIM_ARRAY","TRUE","TRUNCATE","TRY_CAST","TYPE","UNDO","UNION","UNIQUE","UNIT","UNKNOWN","UNNEST","UNTIL","UPDATE","UPDATING","URI","USAGE","USE","USER","USERID","USING","VALUE","VALUES","VARIABLE","VARIANT","VCAT","VERSION","VERSIONING","VIEW","VOLATILE","WAIT","WHEN","WHENEVER","WHERE","WHILE","WITH","WITHIN","WITHOUT","WRAPPED","WRAPPER","WRITE","WRKSTNNAME","XMLAGG","XMLATTRIBUTES","XMLCAST","XMLCOMMENT","XMLCONCAT","XMLDOCUMENT","XMLELEMENT","XMLFOREST","XMLGROUP","XMLNAMESPACES","XMLPARSE","XMLPI","XMLROW","XMLSERIALIZE","XMLTABLE","XMLTEXT","XMLVALIDATE","XSLTRANSFORM","XSROBJECT","YEAR","YEARS","YES","ZONE"],reservedDataTypes:["ARRAY","BIGINT","BINARY","BIT","BLOB","BOOLEAN","CCSID","CHAR","CHARACTER","CLOB","DATA","DATALINK","DATE","DBCLOB","DECFLOAT","DECIMAL","DEC","DOUBLE","DOUBLE PRECISION","FLOAT","GRAPHIC","INT","INTEGER","LONG","NUMERIC","REAL","ROWID","SMALLINT","TIME","TIMESTAMP","VARBINARY","VARCHAR","VARGRAPHIC","XML"],reservedFunctionNames:["ARRAY_AGG","AVG","CORR","CORRELATION","COUNT","COUNT_BIG","COVAR_POP","COVARIANCE","COVAR","COVAR_SAMP","COVARIANCE_SAMP","EVERY","GROUPING","JSON_ARRAYAGG","JSON_OBJECTAGG","LISTAGG","MAX","MEDIAN","MIN","PERCENTILE_CONT","PERCENTILE_DISC","REGR_AVGX","REGR_AVGY","REGR_COUNT","REGR_INTERCEPT","REGR_R2","REGR_SLOPE","REGR_SXX","REGR_SXY","REGR_SYY","SOME","STDDEV_POP","STDDEV","STDDEV_SAMP","SUM","VAR_POP","VARIANCE","VAR","VAR_SAMP","VARIANCE_SAMP","XMLAGG","XMLGROUP","ABS","ABSVAL","ACOS","ADD_DAYS","ADD_HOURS","ADD_MINUTES","ADD_MONTHS","ADD_SECONDS","ADD_YEARS","ANTILOG","ARRAY_MAX_CARDINALITY","ARRAY_TRIM","ASCII","ASIN","ATAN","ATAN2","ATANH","BASE64_DECODE","BASE64_ENCODE","BIT_LENGTH","BITAND","BITANDNOT","BITNOT","BITOR","BITXOR","BSON_TO_JSON","CARDINALITY","CEIL","CEILING","CHAR_LENGTH","CHARACTER_LENGTH","CHR","COALESCE","COMPARE_DECFLOAT","CONCAT","CONTAINS","COS","COSH","COT","CURDATE","CURTIME","DATABASE","DATAPARTITIONNAME","DATAPARTITIONNUM","DAY","DAYNAME","DAYOFMONTH","DAYOFWEEK_ISO","DAYOFWEEK","DAYOFYEAR","DAYS","DBPARTITIONNAME","DBPARTITIONNUM","DECFLOAT_FORMAT","DECFLOAT_SORTKEY","DECRYPT_BINARY","DECRYPT_BIT","DECRYPT_CHAR","DECRYPT_DB","DEGREES","DIFFERENCE","DIGITS","DLCOMMENT","DLLINKTYPE","DLURLCOMPLETE","DLURLPATH","DLURLPATHONLY","DLURLSCHEME","DLURLSERVER","DLVALUE","DOUBLE_PRECISION","DOUBLE","ENCRPYT","ENCRYPT_AES","ENCRYPT_AES256","ENCRYPT_RC2","ENCRYPT_TDES","EXP","EXTRACT","FIRST_DAY","FLOOR","GENERATE_UNIQUE","GET_BLOB_FROM_FILE","GET_CLOB_FROM_FILE","GET_DBCLOB_FROM_FILE","GET_XML_FILE","GETHINT","GREATEST","HASH_MD5","HASH_ROW","HASH_SHA1","HASH_SHA256","HASH_SHA512","HASH_VALUES","HASHED_VALUE","HEX","HEXTORAW","HOUR","HTML_ENTITY_DECODE","HTML_ENTITY_ENCODE","HTTP_DELETE_BLOB","HTTP_DELETE","HTTP_GET_BLOB","HTTP_GET","HTTP_PATCH_BLOB","HTTP_PATCH","HTTP_POST_BLOB","HTTP_POST","HTTP_PUT_BLOB","HTTP_PUT","IDENTITY_VAL_LOCAL","IFNULL","INSERT","INSTR","INTERPRET","ISFALSE","ISNOTFALSE","ISNOTTRUE","ISTRUE","JSON_ARRAY","JSON_OBJECT","JSON_QUERY","JSON_TO_BSON","JSON_UPDATE","JSON_VALUE","JULIAN_DAY","LAND","LAST_DAY","LCASE","LEAST","LEFT","LENGTH","LN","LNOT","LOCATE_IN_STRING","LOCATE","LOG10","LOR","LOWER","LPAD","LTRIM","MAX_CARDINALITY","MAX","MICROSECOND","MIDNIGHT_SECONDS","MIN","MINUTE","MOD","MONTH","MONTHNAME","MONTHS_BETWEEN","MQREAD","MQREADCLOB","MQRECEIVE","MQRECEIVECLOB","MQSEND","MULTIPLY_ALT","NEXT_DAY","NORMALIZE_DECFLOAT","NOW","NULLIF","NVL","OCTET_LENGTH","OVERLAY","PI","POSITION","POSSTR","POW","POWER","QUANTIZE","QUARTER","RADIANS","RAISE_ERROR","RANDOM","RAND","REGEXP_COUNT","REGEXP_INSTR","REGEXP_REPLACE","REGEXP_SUBSTR","REPEAT","REPLACE","RID","RIGHT","ROUND_TIMESTAMP","ROUND","RPAD","RRN","RTRIM","SCORE","SECOND","SIGN","SIN","SINH","SOUNDEX","SPACE","SQRT","STRIP","STRLEFT","STRPOS","STRRIGHT","SUBSTR","SUBSTRING","TABLE_NAME","TABLE_SCHEMA","TAN","TANH","TIMESTAMP_FORMAT","TIMESTAMP_ISO","TIMESTAMPDIFF_BIG","TIMESTAMPDIFF","TO_CHAR","TO_CLOB","TO_DATE","TO_NUMBER","TO_TIMESTAMP","TOTALORDER","TRANSLATE","TRIM_ARRAY","TRIM","TRUNC_TIMESTAMP","TRUNC","TRUNCATE","UCASE","UPPER","URL_DECODE","URL_ENCODE","VALUE","VARBINARY_FORMAT","VARCHAR_BIT_FORMAT","VARCHAR_FORMAT_BINARY","VARCHAR_FORMAT","VERIFY_GROUP_FOR_USER","WEEK_ISO","WEEK","WRAP","XMLATTRIBUTES","XMLCOMMENT","XMLCONCAT","XMLDOCUMENT","XMLELEMENT","XMLFOREST","XMLNAMESPACES","XMLPARSE","XMLPI","XMLROW","XMLSERIALIZE","XMLTEXT","XMLVALIDATE","XOR","XSLTRANSFORM","YEAR","ZONED","BASE_TABLE","HTTP_DELETE_BLOB_VERBOSE","HTTP_DELETE_VERBOSE","HTTP_GET_BLOB_VERBOSE","HTTP_GET_VERBOSE","HTTP_PATCH_BLOB_VERBOSE","HTTP_PATCH_VERBOSE","HTTP_POST_BLOB_VERBOSE","HTTP_POST_VERBOSE","HTTP_PUT_BLOB_VERBOSE","HTTP_PUT_VERBOSE","JSON_TABLE","MQREADALL","MQREADALLCLOB","MQRECEIVEALL","MQRECEIVEALLCLOB","XMLTABLE","UNPACK","CUME_DIST","DENSE_RANK","FIRST_VALUE","LAG","LAST_VALUE","LEAD","NTH_VALUE","NTILE","PERCENT_RANK","RANK","RATIO_TO_REPORT","ROW_NUMBER","CAST"],nestedBlockComments:!0,extraParens:["[]"],stringTypes:[{quote:"''-qq",prefixes:["G","N"]},{quote:"''-raw",prefixes:["X","BX","GX","UX"],requirePrefix:!0}],identTypes:['""-qq'],identChars:{first:"@#$",rest:"@#$"},paramTypes:{positional:!0,named:[":"]},paramChars:{first:"@#$",rest:"@#$"},operators:["**","¬=","¬>","¬<","!>","!<","||","=>"]},formatOptions:{onelineClauses:[...kk,...kl],tabularOnelineClauses:kl}},kn=["SELECT [ALL | DISTINCT]"].flatMap(jU),ko=["WITH [RECURSIVE]","FROM","WHERE","GROUP BY [ALL]","HAVING","WINDOW","PARTITION BY","ORDER BY [ALL]","LIMIT","OFFSET","USING SAMPLE","QUALIFY","INSERT [OR REPLACE] INTO","VALUES","DEFAULT VALUES","SET","RETURNING"].flatMap(jU),kp=["CREATE [OR REPLACE] [TEMPORARY | TEMP] TABLE [IF NOT EXISTS]"].flatMap(jU),kq=["UPDATE","ON CONFLICT","DELETE FROM","DROP TABLE [IF EXISTS]","TRUNCATE","ALTER TABLE","ADD [COLUMN] [IF NOT EXISTS]","ADD PRIMARY KEY","DROP [COLUMN] [IF EXISTS]","ALTER [COLUMN]","RENAME [COLUMN]","RENAME TO","SET [DATA] TYPE","{SET | DROP} DEFAULT","{SET | DROP} NOT NULL","CREATE [OR REPLACE] [TEMPORARY | TEMP] {MACRO | FUNCTION}","DROP MACRO [TABLE] [IF EXISTS]","DROP FUNCTION [IF EXISTS]","CREATE [UNIQUE] INDEX [IF NOT EXISTS]","DROP INDEX [IF EXISTS]","CREATE [OR REPLACE] SCHEMA [IF NOT EXISTS]","DROP SCHEMA [IF EXISTS]","CREATE [OR REPLACE] [PERSISTENT | TEMPORARY] SECRET [IF NOT EXISTS]","DROP [PERSISTENT | TEMPORARY] SECRET [IF EXISTS]","CREATE [OR REPLACE] [TEMPORARY | TEMP] SEQUENCE","DROP SEQUENCE [IF EXISTS]","CREATE [OR REPLACE] [TEMPORARY | TEMP] VIEW [IF NOT EXISTS]","DROP VIEW [IF EXISTS]","ALTER VIEW","CREATE TYPE","DROP TYPE [IF EXISTS]","ANALYZE","ATTACH [DATABASE] [IF NOT EXISTS]","DETACH [DATABASE] [IF EXISTS]","CALL","[FORCE] CHECKPOINT","COMMENT ON [TABLE | COLUMN | VIEW | INDEX | SEQUENCE | TYPE | MACRO | MACRO TABLE]","COPY [FROM DATABASE]","DESCRIBE","EXPORT DATABASE","IMPORT DATABASE","INSTALL","LOAD","PIVOT","PIVOT_WIDER","UNPIVOT","EXPLAIN [ANALYZE]","SET {LOCAL | SESSION | GLOBAL}","RESET [LOCAL | SESSION | GLOBAL]","{SET | RESET} VARIABLE","SUMMARIZE","BEGIN TRANSACTION","ROLLBACK","COMMIT","ABORT","USE","VACUUM [ANALYZE]","PREPARE","EXECUTE","DEALLOCATE [PREPARE]"].flatMap(jU),kr={name:"duckdb",tokenizerOptions:{reservedSelect:kn,reservedClauses:[...ko,...kp,...kq],reservedSetOperations:["UNION [ALL | BY NAME]","EXCEPT [ALL]","INTERSECT [ALL]"].flatMap(jU),reservedJoins:["JOIN","{LEFT | RIGHT | FULL} [OUTER] JOIN","{INNER | CROSS} JOIN","{NATURAL | ASOF} [INNER] JOIN","{NATURAL | ASOF} {LEFT | RIGHT | FULL} [OUTER] JOIN","POSITIONAL JOIN","ANTI JOIN","SEMI JOIN"].flatMap(jU),reservedKeywordPhrases:["{ROWS | RANGE | GROUPS} BETWEEN","SIMILAR TO","IS [NOT] DISTINCT FROM"].flatMap(jU),reservedDataTypePhrases:["TIMESTAMP WITH TIME ZONE"].flatMap(jU),supportsXor:!0,reservedKeywords:["ALL","ANALYSE","ANALYZE","AND","ANY","AS","ASC","ATTACH","ASYMMETRIC","BOTH","CASE","CAST","CHECK","COLLATE","COLUMN","CONSTRAINT","CREATE","DEFAULT","DEFERRABLE","DESC","DESCRIBE","DETACH","DISTINCT","DO","ELSE","END","EXCEPT","FALSE","FETCH","FOR","FOREIGN","FROM","GRANT","GROUP","HAVING","IN","INITIALLY","INTERSECT","INTO","IS","LATERAL","LEADING","LIMIT","NOT","NULL","OFFSET","ON","ONLY","OR","ORDER","PIVOT","PIVOT_LONGER","PIVOT_WIDER","PLACING","PRIMARY","REFERENCES","RETURNING","SELECT","SHOW","SOME","SUMMARIZE","SYMMETRIC","TABLE","THEN","TO","TRAILING","TRUE","UNION","UNIQUE","UNPIVOT","USING","VARIADIC","WHEN","WHERE","WINDOW","WITH"],reservedDataTypes:["ARRAY","BIGINT","BINARY","BIT","BITSTRING","BLOB","BOOL","BOOLEAN","BPCHAR","BYTEA","CHAR","DATE","DATETIME","DEC","DECIMAL","DOUBLE","ENUM","FLOAT","FLOAT4","FLOAT8","GUID","HUGEINT","INET","INT","INT1","INT128","INT16","INT2","INT32","INT4","INT64","INT8","INTEGER","INTEGRAL","INTERVAL","JSON","LIST","LOGICAL","LONG","MAP","NUMERIC","NVARCHAR","OID","REAL","ROW","SHORT","SIGNED","SMALLINT","STRING","STRUCT","TEXT","TIME","TIMESTAMP_MS","TIMESTAMP_NS","TIMESTAMP_S","TIMESTAMP_US","TIMESTAMP","TIMESTAMPTZ","TIMETZ","TINYINT","UBIGINT","UHUGEINT","UINT128","UINT16","UINT32","UINT64","UINT8","UINTEGER","UNION","USMALLINT","UTINYINT","UUID","VARBINARY","VARCHAR"],reservedFunctionNames:["ABS","ACOS","ADD","ADD_PARQUET_KEY","AGE","AGGREGATE","ALIAS","ALL_PROFILING_OUTPUT","ANY_VALUE","APPLY","APPROX_COUNT_DISTINCT","APPROX_QUANTILE","ARBITRARY","ARGMAX","ARGMIN","ARG_MAX","ARG_MAX_NULL","ARG_MIN","ARG_MIN_NULL","ARRAY_AGG","ARRAY_AGGR","ARRAY_AGGREGATE","ARRAY_APPEND","ARRAY_APPLY","ARRAY_CAT","ARRAY_CONCAT","ARRAY_CONTAINS","ARRAY_COSINE_SIMILARITY","ARRAY_CROSS_PRODUCT","ARRAY_DISTANCE","ARRAY_DISTINCT","ARRAY_DOT_PRODUCT","ARRAY_EXTRACT","ARRAY_FILTER","ARRAY_GRADE_UP","ARRAY_HAS","ARRAY_HAS_ALL","ARRAY_HAS_ANY","ARRAY_INDEXOF","ARRAY_INNER_PRODUCT","ARRAY_INTERSECT","ARRAY_LENGTH","ARRAY_POP_BACK","ARRAY_POP_FRONT","ARRAY_POSITION","ARRAY_PREPEND","ARRAY_PUSH_BACK","ARRAY_PUSH_FRONT","ARRAY_REDUCE","ARRAY_RESIZE","ARRAY_REVERSE","ARRAY_REVERSE_SORT","ARRAY_SELECT","ARRAY_SLICE","ARRAY_SORT","ARRAY_TO_JSON","ARRAY_TO_STRING","ARRAY_TRANSFORM","ARRAY_UNIQUE","ARRAY_VALUE","ARRAY_WHERE","ARRAY_ZIP","ARROW_SCAN","ARROW_SCAN_DUMB","ASCII","ASIN","ATAN","ATAN2","AVG","BASE64","BIN","BITSTRING","BITSTRING_AGG","BIT_AND","BIT_COUNT","BIT_LENGTH","BIT_OR","BIT_POSITION","BIT_XOR","BOOL_AND","BOOL_OR","CARDINALITY","CBRT","CEIL","CEILING","CENTURY","CHECKPOINT","CHR","COLLATIONS","COL_DESCRIPTION","COMBINE","CONCAT","CONCAT_WS","CONSTANT_OR_NULL","CONTAINS","COPY_DATABASE","CORR","COS","COT","COUNT","COUNT_IF","COUNT_STAR","COVAR_POP","COVAR_SAMP","CREATE_SORT_KEY","CURRENT_CATALOG","CURRENT_DATABASE","CURRENT_DATE","CURRENT_LOCALTIME","CURRENT_LOCALTIMESTAMP","CURRENT_QUERY","CURRENT_ROLE","CURRENT_SCHEMA","CURRENT_SCHEMAS","CURRENT_SETTING","CURRENT_USER","CURRVAL","DAMERAU_LEVENSHTEIN","DATABASE_LIST","DATABASE_SIZE","DATEDIFF","DATEPART","DATESUB","DATETRUNC","DATE_ADD","DATE_DIFF","DATE_PART","DATE_SUB","DATE_TRUNC","DAY","DAYNAME","DAYOFMONTH","DAYOFWEEK","DAYOFYEAR","DECADE","DECODE","DEGREES","DISABLE_CHECKPOINT_ON_SHUTDOWN","DISABLE_OBJECT_CACHE","DISABLE_OPTIMIZER","DISABLE_PRINT_PROGRESS_BAR","DISABLE_PROFILE","DISABLE_PROFILING","DISABLE_PROGRESS_BAR","DISABLE_VERIFICATION","DISABLE_VERIFY_EXTERNAL","DISABLE_VERIFY_FETCH_ROW","DISABLE_VERIFY_PARALLELISM","DISABLE_VERIFY_SERIALIZER","DIVIDE","DUCKDB_COLUMNS","DUCKDB_CONSTRAINTS","DUCKDB_DATABASES","DUCKDB_DEPENDENCIES","DUCKDB_EXTENSIONS","DUCKDB_FUNCTIONS","DUCKDB_INDEXES","DUCKDB_KEYWORDS","DUCKDB_MEMORY","DUCKDB_OPTIMIZERS","DUCKDB_SCHEMAS","DUCKDB_SECRETS","DUCKDB_SEQUENCES","DUCKDB_SETTINGS","DUCKDB_TABLES","DUCKDB_TEMPORARY_FILES","DUCKDB_TYPES","DUCKDB_VIEWS","EDIT","EDITDIST3","ELEMENT_AT","ENABLE_CHECKPOINT_ON_SHUTDOWN","ENABLE_OBJECT_CACHE","ENABLE_OPTIMIZER","ENABLE_PRINT_PROGRESS_BAR","ENABLE_PROFILE","ENABLE_PROFILING","ENABLE_PROGRESS_BAR","ENABLE_VERIFICATION","ENCODE","ENDS_WITH","ENTROPY","ENUM_CODE","ENUM_FIRST","ENUM_LAST","ENUM_RANGE","ENUM_RANGE_BOUNDARY","EPOCH","EPOCH_MS","EPOCH_NS","EPOCH_US","ERA","ERROR","EVEN","EXP","FACTORIAL","FAVG","FDIV","FILTER","FINALIZE","FIRST","FLATTEN","FLOOR","FMOD","FORCE_CHECKPOINT","FORMAT","FORMATREADABLEDECIMALSIZE","FORMATREADABLESIZE","FORMAT_BYTES","FORMAT_PG_TYPE","FORMAT_TYPE","FROM_BASE64","FROM_BINARY","FROM_HEX","FROM_JSON","FROM_JSON_STRICT","FSUM","FUNCTIONS","GAMMA","GCD","GENERATE_SERIES","GENERATE_SUBSCRIPTS","GEN_RANDOM_UUID","GEOMEAN","GEOMETRIC_MEAN","GETENV","GET_BIT","GET_BLOCK_SIZE","GET_CURRENT_TIME","GET_CURRENT_TIMESTAMP","GLOB","GRADE_UP","GREATEST","GREATEST_COMMON_DIVISOR","GROUP_CONCAT","HAMMING","HASH","HAS_ANY_COLUMN_PRIVILEGE","HAS_COLUMN_PRIVILEGE","HAS_DATABASE_PRIVILEGE","HAS_FOREIGN_DATA_WRAPPER_PRIVILEGE","HAS_FUNCTION_PRIVILEGE","HAS_LANGUAGE_PRIVILEGE","HAS_SCHEMA_PRIVILEGE","HAS_SEQUENCE_PRIVILEGE","HAS_SERVER_PRIVILEGE","HAS_TABLESPACE_PRIVILEGE","HAS_TABLE_PRIVILEGE","HEX","HISTOGRAM","HOUR","ICU_CALENDAR_NAMES","ICU_SORT_KEY","ILIKE_ESCAPE","IMPORT_DATABASE","INDEX_SCAN","INET_CLIENT_ADDR","INET_CLIENT_PORT","INET_SERVER_ADDR","INET_SERVER_PORT","INSTR","IN_SEARCH_PATH","ISFINITE","ISINF","ISNAN","ISODOW","ISOYEAR","JACCARD","JARO_SIMILARITY","JARO_WINKLER_SIMILARITY","JSON_ARRAY","JSON_ARRAY_LENGTH","JSON_CONTAINS","JSON_DESERIALIZE_SQL","JSON_EXECUTE_SERIALIZED_SQL","JSON_EXTRACT","JSON_EXTRACT_PATH","JSON_EXTRACT_PATH_TEXT","JSON_EXTRACT_STRING","JSON_GROUP_ARRAY","JSON_GROUP_OBJECT","JSON_GROUP_STRUCTURE","JSON_KEYS","JSON_MERGE_PATCH","JSON_OBJECT","JSON_QUOTE","JSON_SERIALIZE_PLAN","JSON_SERIALIZE_SQL","JSON_STRUCTURE","JSON_TRANSFORM","JSON_TRANSFORM_STRICT","JSON_TYPE","JSON_VALID","JULIAN","KAHAN_SUM","KURTOSIS","KURTOSIS_POP","LAST","LAST_DAY","LCASE","LCM","LEAST","LEAST_COMMON_MULTIPLE","LEFT","LEFT_GRAPHEME","LEN","LENGTH","LENGTH_GRAPHEME","LEVENSHTEIN","LGAMMA","LIKE_ESCAPE","LIST","LISTAGG","LIST_AGGR","LIST_AGGREGATE","LIST_ANY_VALUE","LIST_APPEND","LIST_APPLY","LIST_APPROX_COUNT_DISTINCT","LIST_AVG","LIST_BIT_AND","LIST_BIT_OR","LIST_BIT_XOR","LIST_BOOL_AND","LIST_BOOL_OR","LIST_CAT","LIST_CONCAT","LIST_CONTAINS","LIST_COSINE_SIMILARITY","LIST_COUNT","LIST_DISTANCE","LIST_DISTINCT","LIST_DOT_PRODUCT","LIST_ELEMENT","LIST_ENTROPY","LIST_EXTRACT","LIST_FILTER","LIST_FIRST","LIST_GRADE_UP","LIST_HAS","LIST_HAS_ALL","LIST_HAS_ANY","LIST_HISTOGRAM","LIST_INDEXOF","LIST_INNER_PRODUCT","LIST_INTERSECT","LIST_KURTOSIS","LIST_KURTOSIS_POP","LIST_LAST","LIST_MAD","LIST_MAX","LIST_MEDIAN","LIST_MIN","LIST_MODE","LIST_PACK","LIST_POSITION","LIST_PREPEND","LIST_PRODUCT","LIST_REDUCE","LIST_RESIZE","LIST_REVERSE","LIST_REVERSE_SORT","LIST_SELECT","LIST_SEM","LIST_SKEWNESS","LIST_SLICE","LIST_SORT","LIST_STDDEV_POP","LIST_STDDEV_SAMP","LIST_STRING_AGG","LIST_SUM","LIST_TRANSFORM","LIST_UNIQUE","LIST_VALUE","LIST_VAR_POP","LIST_VAR_SAMP","LIST_WHERE","LIST_ZIP","LN","LOG","LOG10","LOG2","LOWER","LPAD","LSMODE","LTRIM","MAD","MAKE_DATE","MAKE_TIME","MAKE_TIMESTAMP","MAKE_TIMESTAMPTZ","MAP","MAP_CONCAT","MAP_ENTRIES","MAP_EXTRACT","MAP_FROM_ENTRIES","MAP_KEYS","MAP_VALUES","MAX","MAX_BY","MD5","MD5_NUMBER","MD5_NUMBER_LOWER","MD5_NUMBER_UPPER","MEAN","MEDIAN","METADATA_INFO","MICROSECOND","MILLENNIUM","MILLISECOND","MIN","MINUTE","MIN_BY","MISMATCHES","MOD","MODE","MONTH","MONTHNAME","MULTIPLY","NEXTAFTER","NEXTVAL","NFC_NORMALIZE","NOT_ILIKE_ESCAPE","NOT_LIKE_ESCAPE","NOW","NULLIF","OBJ_DESCRIPTION","OCTET_LENGTH","ORD","PARQUET_FILE_METADATA","PARQUET_KV_METADATA","PARQUET_METADATA","PARQUET_SCAN","PARQUET_SCHEMA","PARSE_DIRNAME","PARSE_DIRPATH","PARSE_FILENAME","PARSE_PATH","PG_COLLATION_IS_VISIBLE","PG_CONF_LOAD_TIME","PG_CONVERSION_IS_VISIBLE","PG_FUNCTION_IS_VISIBLE","PG_GET_CONSTRAINTDEF","PG_GET_EXPR","PG_GET_VIEWDEF","PG_HAS_ROLE","PG_IS_OTHER_TEMP_SCHEMA","PG_MY_TEMP_SCHEMA","PG_OPCLASS_IS_VISIBLE","PG_OPERATOR_IS_VISIBLE","PG_OPFAMILY_IS_VISIBLE","PG_POSTMASTER_START_TIME","PG_SIZE_PRETTY","PG_TABLE_IS_VISIBLE","PG_TIMEZONE_NAMES","PG_TS_CONFIG_IS_VISIBLE","PG_TS_DICT_IS_VISIBLE","PG_TS_PARSER_IS_VISIBLE","PG_TS_TEMPLATE_IS_VISIBLE","PG_TYPEOF","PG_TYPE_IS_VISIBLE","PI","PLATFORM","POSITION","POW","POWER","PRAGMA_COLLATIONS","PRAGMA_DATABASE_SIZE","PRAGMA_METADATA_INFO","PRAGMA_PLATFORM","PRAGMA_SHOW","PRAGMA_STORAGE_INFO","PRAGMA_TABLE_INFO","PRAGMA_USER_AGENT","PRAGMA_VERSION","PREFIX","PRINTF","PRODUCT","QUANTILE","QUANTILE_CONT","QUANTILE_DISC","QUARTER","RADIANS","RANDOM","RANGE","READFILE","READ_BLOB","READ_CSV","READ_CSV_AUTO","READ_JSON","READ_JSON_AUTO","READ_JSON_OBJECTS","READ_JSON_OBJECTS_AUTO","READ_NDJSON","READ_NDJSON_AUTO","READ_NDJSON_OBJECTS","READ_PARQUET","READ_TEXT","REDUCE","REGEXP_ESCAPE","REGEXP_EXTRACT","REGEXP_EXTRACT_ALL","REGEXP_FULL_MATCH","REGEXP_MATCHES","REGEXP_REPLACE","REGEXP_SPLIT_TO_ARRAY","REGEXP_SPLIT_TO_TABLE","REGR_AVGX","REGR_AVGY","REGR_COUNT","REGR_INTERCEPT","REGR_R2","REGR_SLOPE","REGR_SXX","REGR_SXY","REGR_SYY","REPEAT","REPEAT_ROW","REPLACE","RESERVOIR_QUANTILE","REVERSE","RIGHT","RIGHT_GRAPHEME","ROUND","ROUNDBANKERS","ROUND_EVEN","ROW","ROW_TO_JSON","RPAD","RTRIM","SECOND","SEM","SEQ_SCAN","SESSION_USER","SETSEED","SET_BIT","SHA256","SHA3","SHELL_ADD_SCHEMA","SHELL_ESCAPE_CRNL","SHELL_IDQUOTE","SHELL_MODULE_SCHEMA","SHELL_PUTSNL","SHOBJ_DESCRIPTION","SHOW","SHOW_DATABASES","SHOW_TABLES","SHOW_TABLES_EXPANDED","SIGN","SIGNBIT","SIN","SKEWNESS","SNIFF_CSV","SPLIT","SPLIT_PART","SQL_AUTO_COMPLETE","SQRT","STARTS_WITH","STATS","STDDEV","STDDEV_POP","STDDEV_SAMP","STORAGE_INFO","STRFTIME","STRING_AGG","STRING_SPLIT","STRING_SPLIT_REGEX","STRING_TO_ARRAY","STRIP_ACCENTS","STRLEN","STRPOS","STRPTIME","STRUCT_EXTRACT","STRUCT_INSERT","STRUCT_PACK","STR_SPLIT","STR_SPLIT_REGEX","SUBSTR","SUBSTRING","SUBSTRING_GRAPHEME","SUBTRACT","SUFFIX","SUM","SUMKAHAN","SUMMARY","SUM_NO_OVERFLOW","TABLE_INFO","TAN","TEST_ALL_TYPES","TEST_VECTOR_TYPES","TIMEZONE","TIMEZONE_HOUR","TIMEZONE_MINUTE","TIME_BUCKET","TODAY","TO_BASE","TO_BASE64","TO_BINARY","TO_CENTURIES","TO_DAYS","TO_DECADES","TO_HEX","TO_HOURS","TO_JSON","TO_MICROSECONDS","TO_MILLENNIA","TO_MILLISECONDS","TO_MINUTES","TO_MONTHS","TO_SECONDS","TO_TIMESTAMP","TO_WEEKS","TO_YEARS","TRANSACTION_TIMESTAMP","TRANSLATE","TRIM","TRUNC","TRY_STRPTIME","TXID_CURRENT","TYPEOF","UCASE","UNBIN","UNHEX","UNICODE","UNION_EXTRACT","UNION_TAG","UNION_VALUE","UNNEST","UNPIVOT_LIST","UPPER","USER","USER_AGENT","UUID","VARIANCE","VAR_POP","VAR_SAMP","VECTOR_TYPE","VERIFY_EXTERNAL","VERIFY_FETCH_ROW","VERIFY_PARALLELISM","VERIFY_SERIALIZER","VERSION","WEEK","WEEKDAY","WEEKOFYEAR","WHICH_SECRET","WRITEFILE","XOR","YEAR","YEARWEEK","CAST","COALESCE","RANK","ROW_NUMBER"],nestedBlockComments:!0,extraParens:["[]","{}"],underscoresInNumbers:!0,stringTypes:["$$","''-qq",{quote:"''-qq-bs",prefixes:["E"],requirePrefix:!0},{quote:"''-raw",prefixes:["B","X"],requirePrefix:!0}],identTypes:['""-qq'],identChars:{rest:"$"},paramTypes:{positional:!0,numbered:["$"],quoted:["$"]},operators:["//","%","**","^","!","&","|","~","<<",">>","::","==","->","->>",":",":=","=>","~~","!~~","~~*","!~~*","~~~","~","!~","~*","!~*","^@","||",">>=","<<="]},formatOptions:{alwaysDenseOperators:["::"],onelineClauses:[...kp,...kq],tabularOnelineClauses:kq}},ks=["SELECT [ALL | DISTINCT]"].flatMap(jU),kt=["WITH","FROM","WHERE","GROUP BY","HAVING","WINDOW","PARTITION BY","ORDER BY","SORT BY","CLUSTER BY","DISTRIBUTE BY","LIMIT","INSERT INTO [TABLE]","VALUES","SET","MERGE INTO","WHEN [NOT] MATCHED [THEN]","UPDATE SET","INSERT [VALUES]","INSERT OVERWRITE [LOCAL] DIRECTORY","LOAD DATA [LOCAL] INPATH","[OVERWRITE] INTO TABLE"].flatMap(jU),ku=["CREATE [TEMPORARY] [EXTERNAL] TABLE [IF NOT EXISTS]"].flatMap(jU),kv=["CREATE [MATERIALIZED] VIEW [IF NOT EXISTS]","UPDATE","DELETE FROM","DROP TABLE [IF EXISTS]","ALTER TABLE","RENAME TO","TRUNCATE [TABLE]","ALTER","CREATE","USE","DESCRIBE","DROP","FETCH","SHOW","STORED AS","STORED BY","ROW FORMAT"].flatMap(jU),kw={name:"hive",tokenizerOptions:{reservedSelect:ks,reservedClauses:[...kt,...ku,...kv],reservedSetOperations:["UNION [ALL | DISTINCT]"].flatMap(jU),reservedJoins:["JOIN","{LEFT | RIGHT | FULL} [OUTER] JOIN","{INNER | CROSS} JOIN","LEFT SEMI JOIN"].flatMap(jU),reservedKeywordPhrases:["{ROWS | RANGE} BETWEEN"].flatMap(jU),reservedDataTypePhrases:[].flatMap(jU),reservedKeywords:["ADD","ADMIN","AFTER","ANALYZE","ARCHIVE","ASC","BEFORE","BUCKET","BUCKETS","CASCADE","CHANGE","CLUSTER","CLUSTERED","CLUSTERSTATUS","COLLECTION","COLUMNS","COMMENT","COMPACT","COMPACTIONS","COMPUTE","CONCATENATE","CONTINUE","DATA","DATABASES","DATETIME","DAY","DBPROPERTIES","DEFERRED","DEFINED","DELIMITED","DEPENDENCY","DESC","DIRECTORIES","DIRECTORY","DISABLE","DISTRIBUTE","ELEM_TYPE","ENABLE","ESCAPED","EXCLUSIVE","EXPLAIN","EXPORT","FIELDS","FILE","FILEFORMAT","FIRST","FORMAT","FORMATTED","FUNCTIONS","HOLD_DDLTIME","HOUR","IDXPROPERTIES","IGNORE","INDEX","INDEXES","INPATH","INPUTDRIVER","INPUTFORMAT","ITEMS","JAR","KEYS","KEY_TYPE","LIMIT","LINES","LOAD","LOCATION","LOCK","LOCKS","LOGICAL","LONG","MAPJOIN","MATERIALIZED","METADATA","MINUS","MINUTE","MONTH","MSCK","NOSCAN","NO_DROP","OFFLINE","OPTION","OUTPUTDRIVER","OUTPUTFORMAT","OVERWRITE","OWNER","PARTITIONED","PARTITIONS","PLUS","PRETTY","PRINCIPALS","PROTECTION","PURGE","READ","READONLY","REBUILD","RECORDREADER","RECORDWRITER","RELOAD","RENAME","REPAIR","REPLACE","REPLICATION","RESTRICT","REWRITE","ROLE","ROLES","SCHEMA","SCHEMAS","SECOND","SEMI","SERDE","SERDEPROPERTIES","SERVER","SETS","SHARED","SHOW","SHOW_DATABASE","SKEWED","SORT","SORTED","SSL","STATISTICS","STORED","STREAMTABLE","STRING","TABLES","TBLPROPERTIES","TEMPORARY","TERMINATED","TINYINT","TOUCH","TRANSACTIONS","UNARCHIVE","UNDO","UNIONTYPE","UNLOCK","UNSET","UNSIGNED","URI","USE","UTC","UTCTIMESTAMP","VALUE_TYPE","VIEW","WHILE","YEAR","AUTOCOMMIT","ISOLATION","LEVEL","OFFSET","SNAPSHOT","TRANSACTION","WORK","WRITE","ABORT","KEY","LAST","NORELY","NOVALIDATE","NULLS","RELY","VALIDATE","DETAIL","DOW","EXPRESSION","OPERATOR","QUARTER","SUMMARY","VECTORIZATION","WEEK","YEARS","MONTHS","WEEKS","DAYS","HOURS","MINUTES","SECONDS","TIMESTAMPTZ","ZONE","ALL","ALTER","AND","AS","AUTHORIZATION","BETWEEN","BOTH","BY","CASE","CAST","COLUMN","CONF","CREATE","CROSS","CUBE","CURRENT","CURRENT_DATE","CURRENT_TIMESTAMP","CURSOR","DATABASE","DELETE","DESCRIBE","DISTINCT","DROP","ELSE","END","EXCHANGE","EXISTS","EXTENDED","EXTERNAL","FALSE","FETCH","FOLLOWING","FOR","FROM","FULL","FUNCTION","GRANT","GROUP","GROUPING","HAVING","IF","IMPORT","IN","INNER","INSERT","INTERSECT","INTO","IS","JOIN","LATERAL","LEFT","LESS","LIKE","LOCAL","MACRO","MORE","NONE","NOT","NULL","OF","ON","OR","ORDER","OUT","OUTER","OVER","PARTIALSCAN","PARTITION","PERCENT","PRECEDING","PRESERVE","PROCEDURE","RANGE","READS","REDUCE","REVOKE","RIGHT","ROLLUP","ROW","ROWS","SELECT","SET","TABLE","TABLESAMPLE","THEN","TO","TRANSFORM","TRIGGER","TRUE","TRUNCATE","UNBOUNDED","UNION","UNIQUEJOIN","UPDATE","USER","USING","UTC_TMESTAMP","VALUES","WHEN","WHERE","WINDOW","WITH","COMMIT","ONLY","REGEXP","RLIKE","ROLLBACK","START","CACHE","CONSTRAINT","FOREIGN","PRIMARY","REFERENCES","DAYOFWEEK","EXTRACT","FLOOR","VIEWS","TIME","SYNC","TEXTFILE","SEQUENCEFILE","ORC","CSV","TSV","PARQUET","AVRO","RCFILE","JSONFILE","INPUTFORMAT","OUTPUTFORMAT"],reservedDataTypes:["ARRAY","BIGINT","BINARY","BOOLEAN","CHAR","DATE","DECIMAL","DOUBLE","FLOAT","INT","INTEGER","INTERVAL","MAP","NUMERIC","PRECISION","SMALLINT","STRUCT","TIMESTAMP","VARCHAR"],reservedFunctionNames:["ABS","ACOS","ASIN","ATAN","BIN","BROUND","CBRT","CEIL","CEILING","CONV","COS","DEGREES","EXP","FACTORIAL","FLOOR","GREATEST","HEX","LEAST","LN","LOG","LOG10","LOG2","NEGATIVE","PI","PMOD","POSITIVE","POW","POWER","RADIANS","RAND","ROUND","SHIFTLEFT","SHIFTRIGHT","SHIFTRIGHTUNSIGNED","SIGN","SIN","SQRT","TAN","UNHEX","WIDTH_BUCKET","ARRAY_CONTAINS","MAP_KEYS","MAP_VALUES","SIZE","SORT_ARRAY","BINARY","CAST","ADD_MONTHS","DATE","DATE_ADD","DATE_FORMAT","DATE_SUB","DATEDIFF","DAY","DAYNAME","DAYOFMONTH","DAYOFYEAR","EXTRACT","FROM_UNIXTIME","FROM_UTC_TIMESTAMP","HOUR","LAST_DAY","MINUTE","MONTH","MONTHS_BETWEEN","NEXT_DAY","QUARTER","SECOND","TIMESTAMP","TO_DATE","TO_UTC_TIMESTAMP","TRUNC","UNIX_TIMESTAMP","WEEKOFYEAR","YEAR","ASSERT_TRUE","COALESCE","IF","ISNOTNULL","ISNULL","NULLIF","NVL","ASCII","BASE64","CHARACTER_LENGTH","CHR","CONCAT","CONCAT_WS","CONTEXT_NGRAMS","DECODE","ELT","ENCODE","FIELD","FIND_IN_SET","FORMAT_NUMBER","GET_JSON_OBJECT","IN_FILE","INITCAP","INSTR","LCASE","LENGTH","LEVENSHTEIN","LOCATE","LOWER","LPAD","LTRIM","NGRAMS","OCTET_LENGTH","PARSE_URL","PRINTF","QUOTE","REGEXP_EXTRACT","REGEXP_REPLACE","REPEAT","REVERSE","RPAD","RTRIM","SENTENCES","SOUNDEX","SPACE","SPLIT","STR_TO_MAP","SUBSTR","SUBSTRING","TRANSLATE","TRIM","UCASE","UNBASE64","UPPER","MASK","MASK_FIRST_N","MASK_HASH","MASK_LAST_N","MASK_SHOW_FIRST_N","MASK_SHOW_LAST_N","AES_DECRYPT","AES_ENCRYPT","CRC32","CURRENT_DATABASE","CURRENT_USER","HASH","JAVA_METHOD","LOGGED_IN_USER","MD5","REFLECT","SHA","SHA1","SHA2","SURROGATE_KEY","VERSION","AVG","COLLECT_LIST","COLLECT_SET","CORR","COUNT","COVAR_POP","COVAR_SAMP","HISTOGRAM_NUMERIC","MAX","MIN","NTILE","PERCENTILE","PERCENTILE_APPROX","REGR_AVGX","REGR_AVGY","REGR_COUNT","REGR_INTERCEPT","REGR_R2","REGR_SLOPE","REGR_SXX","REGR_SXY","REGR_SYY","STDDEV_POP","STDDEV_SAMP","SUM","VAR_POP","VAR_SAMP","VARIANCE","EXPLODE","INLINE","JSON_TUPLE","PARSE_URL_TUPLE","POSEXPLODE","STACK","LEAD","LAG","FIRST_VALUE","LAST_VALUE","RANK","ROW_NUMBER","DENSE_RANK","CUME_DIST","PERCENT_RANK","NTILE"],extraParens:["[]"],stringTypes:['""-bs',"''-bs"],identTypes:["``"],variableTypes:[{quote:"{}",prefixes:["$"],requirePrefix:!0}],operators:["%","~","^","|","&","<=>","==","!","||"]},formatOptions:{onelineClauses:[...ku,...kv],tabularOnelineClauses:kv}};function kx(a){return a.map((b,c)=>{let d=a[c+1]||j3;if(j5.SET(b)&&"("===d.text)return Object.assign(Object.assign({},b),{type:s.RESERVED_FUNCTION_NAME});let e=a[c-1]||j3;return j5.VALUES(b)&&"="===e.text?Object.assign(Object.assign({},b),{type:s.RESERVED_FUNCTION_NAME}):b})}let ky=["SELECT [ALL | DISTINCT | DISTINCTROW]"].flatMap(jU),kz=["WITH [RECURSIVE]","FROM","WHERE","GROUP BY","HAVING","PARTITION BY","ORDER BY","LIMIT","OFFSET","FETCH {FIRST | NEXT}","INSERT [LOW_PRIORITY | DELAYED | HIGH_PRIORITY] [IGNORE] [INTO]","REPLACE [LOW_PRIORITY | DELAYED] [INTO]","VALUES","ON DUPLICATE KEY UPDATE","SET","RETURNING"].flatMap(jU),kA=["CREATE [OR REPLACE] [TEMPORARY] TABLE [IF NOT EXISTS]"].flatMap(jU),kB=["CREATE [OR REPLACE] [SQL SECURITY DEFINER | SQL SECURITY INVOKER] VIEW [IF NOT EXISTS]","UPDATE [LOW_PRIORITY] [IGNORE]","DELETE [LOW_PRIORITY] [QUICK] [IGNORE] FROM","DROP [TEMPORARY] TABLE [IF EXISTS]","ALTER [ONLINE] [IGNORE] TABLE [IF EXISTS]","ADD [COLUMN] [IF NOT EXISTS]","{CHANGE | MODIFY} [COLUMN] [IF EXISTS]","DROP [COLUMN] [IF EXISTS]","RENAME [TO]","RENAME COLUMN","ALTER [COLUMN]","{SET | DROP} DEFAULT","SET {VISIBLE | INVISIBLE}","TRUNCATE [TABLE]","ALTER DATABASE","ALTER DATABASE COMMENT","ALTER EVENT","ALTER FUNCTION","ALTER PROCEDURE","ALTER SCHEMA","ALTER SCHEMA COMMENT","ALTER SEQUENCE","ALTER SERVER","ALTER USER","ALTER VIEW","ANALYZE","ANALYZE TABLE","BACKUP LOCK","BACKUP STAGE","BACKUP UNLOCK","BEGIN","BINLOG","CACHE INDEX","CALL","CHANGE MASTER TO","CHECK TABLE","CHECK VIEW","CHECKSUM TABLE","COMMIT","CREATE AGGREGATE FUNCTION","CREATE DATABASE","CREATE EVENT","CREATE FUNCTION","CREATE INDEX","CREATE PROCEDURE","CREATE ROLE","CREATE SEQUENCE","CREATE SERVER","CREATE SPATIAL INDEX","CREATE TRIGGER","CREATE UNIQUE INDEX","CREATE USER","DEALLOCATE PREPARE","DESCRIBE","DROP DATABASE","DROP EVENT","DROP FUNCTION","DROP INDEX","DROP PREPARE","DROP PROCEDURE","DROP ROLE","DROP SEQUENCE","DROP SERVER","DROP TRIGGER","DROP USER","DROP VIEW","EXECUTE","EXPLAIN","FLUSH","GET DIAGNOSTICS","GET DIAGNOSTICS CONDITION","GRANT","HANDLER","HELP","INSTALL PLUGIN","INSTALL SONAME","KILL","LOAD DATA INFILE","LOAD INDEX INTO CACHE","LOAD XML INFILE","LOCK TABLE","OPTIMIZE TABLE","PREPARE","PURGE BINARY LOGS","PURGE MASTER LOGS","RELEASE SAVEPOINT","RENAME TABLE","RENAME USER","REPAIR TABLE","REPAIR VIEW","RESET MASTER","RESET QUERY CACHE","RESET REPLICA","RESET SLAVE","RESIGNAL","REVOKE","ROLLBACK","SAVEPOINT","SET CHARACTER SET","SET DEFAULT ROLE","SET GLOBAL TRANSACTION","SET NAMES","SET PASSWORD","SET ROLE","SET STATEMENT","SET TRANSACTION","SHOW","SHOW ALL REPLICAS STATUS","SHOW ALL SLAVES STATUS","SHOW AUTHORS","SHOW BINARY LOGS","SHOW BINLOG EVENTS","SHOW BINLOG STATUS","SHOW CHARACTER SET","SHOW CLIENT_STATISTICS","SHOW COLLATION","SHOW COLUMNS","SHOW CONTRIBUTORS","SHOW CREATE DATABASE","SHOW CREATE EVENT","SHOW CREATE FUNCTION","SHOW CREATE PACKAGE","SHOW CREATE PACKAGE BODY","SHOW CREATE PROCEDURE","SHOW CREATE SEQUENCE","SHOW CREATE TABLE","SHOW CREATE TRIGGER","SHOW CREATE USER","SHOW CREATE VIEW","SHOW DATABASES","SHOW ENGINE","SHOW ENGINE INNODB STATUS","SHOW ENGINES","SHOW ERRORS","SHOW EVENTS","SHOW EXPLAIN","SHOW FUNCTION CODE","SHOW FUNCTION STATUS","SHOW GRANTS","SHOW INDEX","SHOW INDEXES","SHOW INDEX_STATISTICS","SHOW KEYS","SHOW LOCALES","SHOW MASTER LOGS","SHOW MASTER STATUS","SHOW OPEN TABLES","SHOW PACKAGE BODY CODE","SHOW PACKAGE BODY STATUS","SHOW PACKAGE STATUS","SHOW PLUGINS","SHOW PLUGINS SONAME","SHOW PRIVILEGES","SHOW PROCEDURE CODE","SHOW PROCEDURE STATUS","SHOW PROCESSLIST","SHOW PROFILE","SHOW PROFILES","SHOW QUERY_RESPONSE_TIME","SHOW RELAYLOG EVENTS","SHOW REPLICA","SHOW REPLICA HOSTS","SHOW REPLICA STATUS","SHOW SCHEMAS","SHOW SLAVE","SHOW SLAVE HOSTS","SHOW SLAVE STATUS","SHOW STATUS","SHOW STORAGE ENGINES","SHOW TABLE STATUS","SHOW TABLES","SHOW TRIGGERS","SHOW USER_STATISTICS","SHOW VARIABLES","SHOW WARNINGS","SHOW WSREP_MEMBERSHIP","SHOW WSREP_STATUS","SHUTDOWN","SIGNAL","START ALL REPLICAS","START ALL SLAVES","START REPLICA","START SLAVE","START TRANSACTION","STOP ALL REPLICAS","STOP ALL SLAVES","STOP REPLICA","STOP SLAVE","UNINSTALL PLUGIN","UNINSTALL SONAME","UNLOCK TABLE","USE","XA BEGIN","XA COMMIT","XA END","XA PREPARE","XA RECOVER","XA ROLLBACK","XA START"].flatMap(jU),kC={name:"mariadb",tokenizerOptions:{reservedSelect:ky,reservedClauses:[...kz,...kA,...kB],reservedSetOperations:["UNION [ALL | DISTINCT]","EXCEPT [ALL | DISTINCT]","INTERSECT [ALL | DISTINCT]","MINUS [ALL | DISTINCT]"].flatMap(jU),reservedJoins:["JOIN","{LEFT | RIGHT} [OUTER] JOIN","{INNER | CROSS} JOIN","NATURAL JOIN","NATURAL {LEFT | RIGHT} [OUTER] JOIN","STRAIGHT_JOIN"].flatMap(jU),reservedKeywordPhrases:["ON {UPDATE | DELETE} [SET NULL | SET DEFAULT]","CHARACTER SET","{ROWS | RANGE} BETWEEN","IDENTIFIED BY"].flatMap(jU),reservedDataTypePhrases:[].flatMap(jU),supportsXor:!0,reservedKeywords:["ACCESSIBLE","ADD","ALL","ALTER","ANALYZE","AND","AS","ASC","ASENSITIVE","BEFORE","BETWEEN","BOTH","BY","CALL","CASCADE","CASE","CHANGE","CHECK","COLLATE","COLUMN","CONDITION","CONSTRAINT","CONTINUE","CONVERT","CREATE","CROSS","CURRENT_DATE","CURRENT_ROLE","CURRENT_TIME","CURRENT_TIMESTAMP","CURRENT_USER","CURSOR","DATABASE","DATABASES","DAY_HOUR","DAY_MICROSECOND","DAY_MINUTE","DAY_SECOND","DECLARE","DEFAULT","DELAYED","DELETE","DELETE_DOMAIN_ID","DESC","DESCRIBE","DETERMINISTIC","DISTINCT","DISTINCTROW","DIV","DO_DOMAIN_IDS","DROP","DUAL","EACH","ELSE","ELSEIF","ENCLOSED","ESCAPED","EXCEPT","EXISTS","EXIT","EXPLAIN","FALSE","FETCH","FOR","FORCE","FOREIGN","FROM","FULLTEXT","GENERAL","GRANT","GROUP","HAVING","HIGH_PRIORITY","HOUR_MICROSECOND","HOUR_MINUTE","HOUR_SECOND","IF","IGNORE","IGNORE_DOMAIN_IDS","IGNORE_SERVER_IDS","IN","INDEX","INFILE","INNER","INOUT","INSENSITIVE","INSERT","INTERSECT","INTERVAL","INTO","IS","ITERATE","JOIN","KEY","KEYS","KILL","LEADING","LEAVE","LEFT","LIKE","LIMIT","LINEAR","LINES","LOAD","LOCALTIME","LOCALTIMESTAMP","LOCK","LOOP","LOW_PRIORITY","MASTER_HEARTBEAT_PERIOD","MASTER_SSL_VERIFY_SERVER_CERT","MATCH","MAXVALUE","MINUTE_MICROSECOND","MINUTE_SECOND","MOD","MODIFIES","NATURAL","NOT","NO_WRITE_TO_BINLOG","NULL","OFFSET","ON","OPTIMIZE","OPTION","OPTIONALLY","OR","ORDER","OUT","OUTER","OUTFILE","OVER","PAGE_CHECKSUM","PARSE_VCOL_EXPR","PARTITION","POSITION","PRIMARY","PROCEDURE","PURGE","RANGE","READ","READS","READ_WRITE","RECURSIVE","REF_SYSTEM_ID","REFERENCES","REGEXP","RELEASE","RENAME","REPEAT","REPLACE","REQUIRE","RESIGNAL","RESTRICT","RETURN","RETURNING","REVOKE","RIGHT","RLIKE","ROW_NUMBER","ROWS","SCHEMA","SCHEMAS","SECOND_MICROSECOND","SELECT","SENSITIVE","SEPARATOR","SET","SHOW","SIGNAL","SLOW","SPATIAL","SPECIFIC","SQL","SQLEXCEPTION","SQLSTATE","SQLWARNING","SQL_BIG_RESULT","SQL_CALC_FOUND_ROWS","SQL_SMALL_RESULT","SSL","STARTING","STATS_AUTO_RECALC","STATS_PERSISTENT","STATS_SAMPLE_PAGES","STRAIGHT_JOIN","TABLE","TERMINATED","THEN","TO","TRAILING","TRIGGER","TRUE","UNDO","UNION","UNIQUE","UNLOCK","UNSIGNED","UPDATE","USAGE","USE","USING","UTC_DATE","UTC_TIME","UTC_TIMESTAMP","VALUES","WHEN","WHERE","WHILE","WINDOW","WITH","WRITE","XOR","YEAR_MONTH","ZEROFILL"],reservedDataTypes:["BIGINT","BINARY","BIT","BLOB","CHAR BYTE","CHAR","CHARACTER","DATETIME","DEC","DECIMAL","DOUBLE PRECISION","DOUBLE","ENUM","FIXED","FLOAT","FLOAT4","FLOAT8","INT","INT1","INT2","INT3","INT4","INT8","INTEGER","LONG","LONGBLOB","LONGTEXT","MEDIUMBLOB","MEDIUMINT","MEDIUMTEXT","MIDDLEINT","NATIONAL CHAR","NATIONAL VARCHAR","NUMERIC","PRECISION","REAL","SMALLINT","TEXT","TIMESTAMP","TINYBLOB","TINYINT","TINYTEXT","VARBINARY","VARCHAR","VARCHARACTER","VARYING","YEAR"],reservedFunctionNames:["ADDDATE","ADD_MONTHS","BIT_AND","BIT_OR","BIT_XOR","CAST","COUNT","CUME_DIST","CURDATE","CURTIME","DATE_ADD","DATE_SUB","DATE_FORMAT","DECODE","DENSE_RANK","EXTRACT","FIRST_VALUE","GROUP_CONCAT","JSON_ARRAYAGG","JSON_OBJECTAGG","LAG","LEAD","MAX","MEDIAN","MID","MIN","NOW","NTH_VALUE","NTILE","POSITION","PERCENT_RANK","PERCENTILE_CONT","PERCENTILE_DISC","RANK","ROW_NUMBER","SESSION_USER","STD","STDDEV","STDDEV_POP","STDDEV_SAMP","SUBDATE","SUBSTR","SUBSTRING","SUM","SYSTEM_USER","TRIM","TRIM_ORACLE","VARIANCE","VAR_POP","VAR_SAMP","ABS","ACOS","ADDTIME","AES_DECRYPT","AES_ENCRYPT","ASIN","ATAN","ATAN2","BENCHMARK","BIN","BINLOG_GTID_POS","BIT_COUNT","BIT_LENGTH","CEIL","CEILING","CHARACTER_LENGTH","CHAR_LENGTH","CHR","COERCIBILITY","COLUMN_CHECK","COLUMN_EXISTS","COLUMN_LIST","COLUMN_JSON","COMPRESS","CONCAT","CONCAT_OPERATOR_ORACLE","CONCAT_WS","CONNECTION_ID","CONV","CONVERT_TZ","COS","COT","CRC32","DATEDIFF","DAYNAME","DAYOFMONTH","DAYOFWEEK","DAYOFYEAR","DEGREES","DECODE_HISTOGRAM","DECODE_ORACLE","DES_DECRYPT","DES_ENCRYPT","ELT","ENCODE","ENCRYPT","EXP","EXPORT_SET","EXTRACTVALUE","FIELD","FIND_IN_SET","FLOOR","FORMAT","FOUND_ROWS","FROM_BASE64","FROM_DAYS","FROM_UNIXTIME","GET_LOCK","GREATEST","HEX","IFNULL","INSTR","ISNULL","IS_FREE_LOCK","IS_USED_LOCK","JSON_ARRAY","JSON_ARRAY_APPEND","JSON_ARRAY_INSERT","JSON_COMPACT","JSON_CONTAINS","JSON_CONTAINS_PATH","JSON_DEPTH","JSON_DETAILED","JSON_EXISTS","JSON_EXTRACT","JSON_INSERT","JSON_KEYS","JSON_LENGTH","JSON_LOOSE","JSON_MERGE","JSON_MERGE_PATCH","JSON_MERGE_PRESERVE","JSON_QUERY","JSON_QUOTE","JSON_OBJECT","JSON_REMOVE","JSON_REPLACE","JSON_SET","JSON_SEARCH","JSON_TYPE","JSON_UNQUOTE","JSON_VALID","JSON_VALUE","LAST_DAY","LAST_INSERT_ID","LCASE","LEAST","LENGTH","LENGTHB","LN","LOAD_FILE","LOCATE","LOG","LOG10","LOG2","LOWER","LPAD","LPAD_ORACLE","LTRIM","LTRIM_ORACLE","MAKEDATE","MAKETIME","MAKE_SET","MASTER_GTID_WAIT","MASTER_POS_WAIT","MD5","MONTHNAME","NAME_CONST","NVL","NVL2","OCT","OCTET_LENGTH","ORD","PERIOD_ADD","PERIOD_DIFF","PI","POW","POWER","QUOTE","REGEXP_INSTR","REGEXP_REPLACE","REGEXP_SUBSTR","RADIANS","RAND","RELEASE_ALL_LOCKS","RELEASE_LOCK","REPLACE_ORACLE","REVERSE","ROUND","RPAD","RPAD_ORACLE","RTRIM","RTRIM_ORACLE","SEC_TO_TIME","SHA","SHA1","SHA2","SIGN","SIN","SLEEP","SOUNDEX","SPACE","SQRT","STRCMP","STR_TO_DATE","SUBSTR_ORACLE","SUBSTRING_INDEX","SUBTIME","SYS_GUID","TAN","TIMEDIFF","TIME_FORMAT","TIME_TO_SEC","TO_BASE64","TO_CHAR","TO_DAYS","TO_SECONDS","UCASE","UNCOMPRESS","UNCOMPRESSED_LENGTH","UNHEX","UNIX_TIMESTAMP","UPDATEXML","UPPER","UUID","UUID_SHORT","VERSION","WEEKDAY","WEEKOFYEAR","WSREP_LAST_WRITTEN_GTID","WSREP_LAST_SEEN_GTID","WSREP_SYNC_WAIT_UPTO_GTID","YEARWEEK","COALESCE","NULLIF"],stringTypes:['""-qq-bs',"''-qq-bs",{quote:"''-raw",prefixes:["B","X"],requirePrefix:!0}],identTypes:["``"],identChars:{first:"$",rest:"$",allowFirstCharNumber:!0},variableTypes:[{regex:"@@?[A-Za-z0-9_.$]+"},{quote:'""-qq-bs',prefixes:["@"],requirePrefix:!0},{quote:"''-qq-bs",prefixes:["@"],requirePrefix:!0},{quote:"``",prefixes:["@"],requirePrefix:!0}],paramTypes:{positional:!0},lineCommentTypes:["--","#"],operators:["%",":=","&","|","^","~","<<",">>","<=>","&&","||","!","*.*"],postProcess:kx},formatOptions:{onelineClauses:[...kA,...kB],tabularOnelineClauses:kB}},kD=["SELECT [ALL | DISTINCT | DISTINCTROW]"].flatMap(jU),kE=["WITH [RECURSIVE]","FROM","WHERE","GROUP BY","HAVING","WINDOW","PARTITION BY","ORDER BY","LIMIT","OFFSET","INSERT [LOW_PRIORITY | DELAYED | HIGH_PRIORITY] [IGNORE] [INTO]","REPLACE [LOW_PRIORITY | DELAYED] [INTO]","VALUES","ON DUPLICATE KEY UPDATE","SET"].flatMap(jU),kF=["CREATE [TEMPORARY] TABLE [IF NOT EXISTS]"].flatMap(jU),kG=["CREATE [OR REPLACE] [SQL SECURITY DEFINER | SQL SECURITY INVOKER] VIEW [IF NOT EXISTS]","UPDATE [LOW_PRIORITY] [IGNORE]","DELETE [LOW_PRIORITY] [QUICK] [IGNORE] FROM","DROP [TEMPORARY] TABLE [IF EXISTS]","ALTER TABLE","ADD [COLUMN]","{CHANGE | MODIFY} [COLUMN]","DROP [COLUMN]","RENAME [TO | AS]","RENAME COLUMN","ALTER [COLUMN]","{SET | DROP} DEFAULT","TRUNCATE [TABLE]","ALTER DATABASE","ALTER EVENT","ALTER FUNCTION","ALTER INSTANCE","ALTER LOGFILE GROUP","ALTER PROCEDURE","ALTER RESOURCE GROUP","ALTER SERVER","ALTER TABLESPACE","ALTER USER","ALTER VIEW","ANALYZE TABLE","BINLOG","CACHE INDEX","CALL","CHANGE MASTER TO","CHANGE REPLICATION FILTER","CHANGE REPLICATION SOURCE TO","CHECK TABLE","CHECKSUM TABLE","CLONE","COMMIT","CREATE DATABASE","CREATE EVENT","CREATE FUNCTION","CREATE FUNCTION","CREATE INDEX","CREATE LOGFILE GROUP","CREATE PROCEDURE","CREATE RESOURCE GROUP","CREATE ROLE","CREATE SERVER","CREATE SPATIAL REFERENCE SYSTEM","CREATE TABLESPACE","CREATE TRIGGER","CREATE USER","DEALLOCATE PREPARE","DESCRIBE","DROP DATABASE","DROP EVENT","DROP FUNCTION","DROP FUNCTION","DROP INDEX","DROP LOGFILE GROUP","DROP PROCEDURE","DROP RESOURCE GROUP","DROP ROLE","DROP SERVER","DROP SPATIAL REFERENCE SYSTEM","DROP TABLESPACE","DROP TRIGGER","DROP USER","DROP VIEW","EXECUTE","EXPLAIN","FLUSH","GRANT","HANDLER","HELP","IMPORT TABLE","INSTALL COMPONENT","INSTALL PLUGIN","KILL","LOAD DATA","LOAD INDEX INTO CACHE","LOAD XML","LOCK INSTANCE FOR BACKUP","LOCK TABLES","MASTER_POS_WAIT","OPTIMIZE TABLE","PREPARE","PURGE BINARY LOGS","RELEASE SAVEPOINT","RENAME TABLE","RENAME USER","REPAIR TABLE","RESET","RESET MASTER","RESET PERSIST","RESET REPLICA","RESET SLAVE","RESTART","REVOKE","ROLLBACK","ROLLBACK TO SAVEPOINT","SAVEPOINT","SET CHARACTER SET","SET DEFAULT ROLE","SET NAMES","SET PASSWORD","SET RESOURCE GROUP","SET ROLE","SET TRANSACTION","SHOW","SHOW BINARY LOGS","SHOW BINLOG EVENTS","SHOW CHARACTER SET","SHOW COLLATION","SHOW COLUMNS","SHOW CREATE DATABASE","SHOW CREATE EVENT","SHOW CREATE FUNCTION","SHOW CREATE PROCEDURE","SHOW CREATE TABLE","SHOW CREATE TRIGGER","SHOW CREATE USER","SHOW CREATE VIEW","SHOW DATABASES","SHOW ENGINE","SHOW ENGINES","SHOW ERRORS","SHOW EVENTS","SHOW FUNCTION CODE","SHOW FUNCTION STATUS","SHOW GRANTS","SHOW INDEX","SHOW MASTER STATUS","SHOW OPEN TABLES","SHOW PLUGINS","SHOW PRIVILEGES","SHOW PROCEDURE CODE","SHOW PROCEDURE STATUS","SHOW PROCESSLIST","SHOW PROFILE","SHOW PROFILES","SHOW RELAYLOG EVENTS","SHOW REPLICA STATUS","SHOW REPLICAS","SHOW SLAVE","SHOW SLAVE HOSTS","SHOW STATUS","SHOW TABLE STATUS","SHOW TABLES","SHOW TRIGGERS","SHOW VARIABLES","SHOW WARNINGS","SHUTDOWN","SOURCE_POS_WAIT","START GROUP_REPLICATION","START REPLICA","START SLAVE","START TRANSACTION","STOP GROUP_REPLICATION","STOP REPLICA","STOP SLAVE","TABLE","UNINSTALL COMPONENT","UNINSTALL PLUGIN","UNLOCK INSTANCE","UNLOCK TABLES","USE","XA","ITERATE","LEAVE","LOOP","REPEAT","RETURN","WHILE"].flatMap(jU),kH={name:"mysql",tokenizerOptions:{reservedSelect:kD,reservedClauses:[...kE,...kF,...kG],reservedSetOperations:["UNION [ALL | DISTINCT]"].flatMap(jU),reservedJoins:["JOIN","{LEFT | RIGHT} [OUTER] JOIN","{INNER | CROSS} JOIN","NATURAL [INNER] JOIN","NATURAL {LEFT | RIGHT} [OUTER] JOIN","STRAIGHT_JOIN"].flatMap(jU),reservedKeywordPhrases:["ON {UPDATE | DELETE} [SET NULL]","CHARACTER SET","{ROWS | RANGE} BETWEEN","IDENTIFIED BY"].flatMap(jU),reservedDataTypePhrases:[].flatMap(jU),supportsXor:!0,reservedKeywords:["ACCESSIBLE","ADD","ALL","ALTER","ANALYZE","AND","AS","ASC","ASENSITIVE","BEFORE","BETWEEN","BOTH","BY","CALL","CASCADE","CASE","CHANGE","CHECK","COLLATE","COLUMN","CONDITION","CONSTRAINT","CONTINUE","CONVERT","CREATE","CROSS","CUBE","CUME_DIST","CURRENT_DATE","CURRENT_TIME","CURRENT_TIMESTAMP","CURRENT_USER","CURSOR","DATABASE","DATABASES","DAY_HOUR","DAY_MICROSECOND","DAY_MINUTE","DAY_SECOND","DECLARE","DEFAULT","DELAYED","DELETE","DENSE_RANK","DESC","DESCRIBE","DETERMINISTIC","DISTINCT","DISTINCTROW","DIV","DROP","DUAL","EACH","ELSE","ELSEIF","EMPTY","ENCLOSED","ESCAPED","EXCEPT","EXISTS","EXIT","EXPLAIN","FALSE","FETCH","FIRST_VALUE","FOR","FORCE","FOREIGN","FROM","FULLTEXT","FUNCTION","GENERATED","GET","GRANT","GROUP","GROUPING","GROUPS","HAVING","HIGH_PRIORITY","HOUR_MICROSECOND","HOUR_MINUTE","HOUR_SECOND","IF","IGNORE","IN","INDEX","INFILE","INNER","INOUT","INSENSITIVE","INSERT","IN","INTERSECT","INTERVAL","INTO","IO_AFTER_GTIDS","IO_BEFORE_GTIDS","IS","ITERATE","JOIN","JSON_TABLE","KEY","KEYS","KILL","LAG","LAST_VALUE","LATERAL","LEAD","LEADING","LEAVE","LEFT","LIKE","LIMIT","LINEAR","LINES","LOAD","LOCALTIME","LOCALTIMESTAMP","LOCK","LONG","LOOP","LOW_PRIORITY","MASTER_BIND","MASTER_SSL_VERIFY_SERVER_CERT","MATCH","MAXVALUE","MINUTE_MICROSECOND","MINUTE_SECOND","MOD","MODIFIES","NATURAL","NOT","NO_WRITE_TO_BINLOG","NTH_VALUE","NTILE","NULL","OF","ON","OPTIMIZE","OPTIMIZER_COSTS","OPTION","OPTIONALLY","OR","ORDER","OUT","OUTER","OUTFILE","OVER","PARTITION","PERCENT_RANK","PRIMARY","PROCEDURE","PURGE","RANGE","RANK","READ","READS","READ_WRITE","RECURSIVE","REFERENCES","REGEXP","RELEASE","RENAME","REPEAT","REPLACE","REQUIRE","RESIGNAL","RESTRICT","RETURN","REVOKE","RIGHT","RLIKE","ROW","ROWS","ROW_NUMBER","SCHEMA","SCHEMAS","SECOND_MICROSECOND","SELECT","SENSITIVE","SEPARATOR","SET","SHOW","SIGNAL","SPATIAL","SPECIFIC","SQL","SQLEXCEPTION","SQLSTATE","SQLWARNING","SQL_BIG_RESULT","SQL_CALC_FOUND_ROWS","SQL_SMALL_RESULT","SSL","STARTING","STORED","STRAIGHT_JOIN","SYSTEM","TABLE","TERMINATED","THEN","TO","TRAILING","TRIGGER","TRUE","UNDO","UNION","UNIQUE","UNLOCK","UNSIGNED","UPDATE","USAGE","USE","USING","UTC_DATE","UTC_TIME","UTC_TIMESTAMP","VALUES","VIRTUAL","WHEN","WHERE","WHILE","WINDOW","WITH","WRITE","XOR","YEAR_MONTH","ZEROFILL"],reservedDataTypes:["BIGINT","BINARY","BIT","BLOB","BOOL","BOOLEAN","CHAR","CHARACTER","DATE","DATETIME","DEC","DECIMAL","DOUBLE PRECISION","DOUBLE","ENUM","FIXED","FLOAT","FLOAT4","FLOAT8","INT","INT1","INT2","INT3","INT4","INT8","INTEGER","LONGBLOB","LONGTEXT","MEDIUMBLOB","MEDIUMINT","MEDIUMTEXT","MIDDLEINT","NATIONAL CHAR","NATIONAL VARCHAR","NUMERIC","PRECISION","REAL","SMALLINT","TEXT","TIME","TIMESTAMP","TINYBLOB","TINYINT","TINYTEXT","VARBINARY","VARCHAR","VARCHARACTER","VARYING","YEAR"],reservedFunctionNames:["ABS","ACOS","ADDDATE","ADDTIME","AES_DECRYPT","AES_ENCRYPT","ANY_VALUE","ASCII","ASIN","ATAN","ATAN2","AVG","BENCHMARK","BIN","BIN_TO_UUID","BINARY","BIT_AND","BIT_COUNT","BIT_LENGTH","BIT_OR","BIT_XOR","CAN_ACCESS_COLUMN","CAN_ACCESS_DATABASE","CAN_ACCESS_TABLE","CAN_ACCESS_USER","CAN_ACCESS_VIEW","CAST","CEIL","CEILING","CHAR","CHAR_LENGTH","CHARACTER_LENGTH","CHARSET","COALESCE","COERCIBILITY","COLLATION","COMPRESS","CONCAT","CONCAT_WS","CONNECTION_ID","CONV","CONVERT","CONVERT_TZ","COS","COT","COUNT","CRC32","CUME_DIST","CURDATE","CURRENT_DATE","CURRENT_ROLE","CURRENT_TIME","CURRENT_TIMESTAMP","CURRENT_USER","CURTIME","DATABASE","DATE","DATE_ADD","DATE_FORMAT","DATE_SUB","DATEDIFF","DAY","DAYNAME","DAYOFMONTH","DAYOFWEEK","DAYOFYEAR","DEFAULT","DEGREES","DENSE_RANK","DIV","ELT","EXP","EXPORT_SET","EXTRACT","EXTRACTVALUE","FIELD","FIND_IN_SET","FIRST_VALUE","FLOOR","FORMAT","FORMAT_BYTES","FORMAT_PICO_TIME","FOUND_ROWS","FROM_BASE64","FROM_DAYS","FROM_UNIXTIME","GEOMCOLLECTION","GEOMETRYCOLLECTION","GET_DD_COLUMN_PRIVILEGES","GET_DD_CREATE_OPTIONS","GET_DD_INDEX_SUB_PART_LENGTH","GET_FORMAT","GET_LOCK","GREATEST","GROUP_CONCAT","GROUPING","GTID_SUBSET","GTID_SUBTRACT","HEX","HOUR","ICU_VERSION","IF","IFNULL","INET_ATON","INET_NTOA","INET6_ATON","INET6_NTOA","INSERT","INSTR","INTERNAL_AUTO_INCREMENT","INTERNAL_AVG_ROW_LENGTH","INTERNAL_CHECK_TIME","INTERNAL_CHECKSUM","INTERNAL_DATA_FREE","INTERNAL_DATA_LENGTH","INTERNAL_DD_CHAR_LENGTH","INTERNAL_GET_COMMENT_OR_ERROR","INTERNAL_GET_ENABLED_ROLE_JSON","INTERNAL_GET_HOSTNAME","INTERNAL_GET_USERNAME","INTERNAL_GET_VIEW_WARNING_OR_ERROR","INTERNAL_INDEX_COLUMN_CARDINALITY","INTERNAL_INDEX_LENGTH","INTERNAL_IS_ENABLED_ROLE","INTERNAL_IS_MANDATORY_ROLE","INTERNAL_KEYS_DISABLED","INTERNAL_MAX_DATA_LENGTH","INTERNAL_TABLE_ROWS","INTERNAL_UPDATE_TIME","INTERVAL","IS","IS_FREE_LOCK","IS_IPV4","IS_IPV4_COMPAT","IS_IPV4_MAPPED","IS_IPV6","IS NOT","IS NOT NULL","IS NULL","IS_USED_LOCK","IS_UUID","ISNULL","JSON_ARRAY","JSON_ARRAY_APPEND","JSON_ARRAY_INSERT","JSON_ARRAYAGG","JSON_CONTAINS","JSON_CONTAINS_PATH","JSON_DEPTH","JSON_EXTRACT","JSON_INSERT","JSON_KEYS","JSON_LENGTH","JSON_MERGE","JSON_MERGE_PATCH","JSON_MERGE_PRESERVE","JSON_OBJECT","JSON_OBJECTAGG","JSON_OVERLAPS","JSON_PRETTY","JSON_QUOTE","JSON_REMOVE","JSON_REPLACE","JSON_SCHEMA_VALID","JSON_SCHEMA_VALIDATION_REPORT","JSON_SEARCH","JSON_SET","JSON_STORAGE_FREE","JSON_STORAGE_SIZE","JSON_TABLE","JSON_TYPE","JSON_UNQUOTE","JSON_VALID","JSON_VALUE","LAG","LAST_DAY","LAST_INSERT_ID","LAST_VALUE","LCASE","LEAD","LEAST","LEFT","LENGTH","LIKE","LINESTRING","LN","LOAD_FILE","LOCALTIME","LOCALTIMESTAMP","LOCATE","LOG","LOG10","LOG2","LOWER","LPAD","LTRIM","MAKE_SET","MAKEDATE","MAKETIME","MASTER_POS_WAIT","MATCH","MAX","MBRCONTAINS","MBRCOVEREDBY","MBRCOVERS","MBRDISJOINT","MBREQUALS","MBRINTERSECTS","MBROVERLAPS","MBRTOUCHES","MBRWITHIN","MD5","MEMBER OF","MICROSECOND","MID","MIN","MINUTE","MOD","MONTH","MONTHNAME","MULTILINESTRING","MULTIPOINT","MULTIPOLYGON","NAME_CONST","NOT","NOT IN","NOT LIKE","NOT REGEXP","NOW","NTH_VALUE","NTILE","NULLIF","OCT","OCTET_LENGTH","ORD","PERCENT_RANK","PERIOD_ADD","PERIOD_DIFF","PI","POINT","POLYGON","POSITION","POW","POWER","PS_CURRENT_THREAD_ID","PS_THREAD_ID","QUARTER","QUOTE","RADIANS","RAND","RANDOM_BYTES","RANK","REGEXP","REGEXP_INSTR","REGEXP_LIKE","REGEXP_REPLACE","REGEXP_SUBSTR","RELEASE_ALL_LOCKS","RELEASE_LOCK","REPEAT","REPLACE","REVERSE","RIGHT","RLIKE","ROLES_GRAPHML","ROUND","ROW_COUNT","ROW_NUMBER","RPAD","RTRIM","SCHEMA","SEC_TO_TIME","SECOND","SESSION_USER","SHA1","SHA2","SIGN","SIN","SLEEP","SOUNDEX","SOUNDS LIKE","SOURCE_POS_WAIT","SPACE","SQRT","ST_AREA","ST_ASBINARY","ST_ASGEOJSON","ST_ASTEXT","ST_BUFFER","ST_BUFFER_STRATEGY","ST_CENTROID","ST_COLLECT","ST_CONTAINS","ST_CONVEXHULL","ST_CROSSES","ST_DIFFERENCE","ST_DIMENSION","ST_DISJOINT","ST_DISTANCE","ST_DISTANCE_SPHERE","ST_ENDPOINT","ST_ENVELOPE","ST_EQUALS","ST_EXTERIORRING","ST_FRECHETDISTANCE","ST_GEOHASH","ST_GEOMCOLLFROMTEXT","ST_GEOMCOLLFROMWKB","ST_GEOMETRYN","ST_GEOMETRYTYPE","ST_GEOMFROMGEOJSON","ST_GEOMFROMTEXT","ST_GEOMFROMWKB","ST_HAUSDORFFDISTANCE","ST_INTERIORRINGN","ST_INTERSECTION","ST_INTERSECTS","ST_ISCLOSED","ST_ISEMPTY","ST_ISSIMPLE","ST_ISVALID","ST_LATFROMGEOHASH","ST_LATITUDE","ST_LENGTH","ST_LINEFROMTEXT","ST_LINEFROMWKB","ST_LINEINTERPOLATEPOINT","ST_LINEINTERPOLATEPOINTS","ST_LONGFROMGEOHASH","ST_LONGITUDE","ST_MAKEENVELOPE","ST_MLINEFROMTEXT","ST_MLINEFROMWKB","ST_MPOINTFROMTEXT","ST_MPOINTFROMWKB","ST_MPOLYFROMTEXT","ST_MPOLYFROMWKB","ST_NUMGEOMETRIES","ST_NUMINTERIORRING","ST_NUMPOINTS","ST_OVERLAPS","ST_POINTATDISTANCE","ST_POINTFROMGEOHASH","ST_POINTFROMTEXT","ST_POINTFROMWKB","ST_POINTN","ST_POLYFROMTEXT","ST_POLYFROMWKB","ST_SIMPLIFY","ST_SRID","ST_STARTPOINT","ST_SWAPXY","ST_SYMDIFFERENCE","ST_TOUCHES","ST_TRANSFORM","ST_UNION","ST_VALIDATE","ST_WITHIN","ST_X","ST_Y","STATEMENT_DIGEST","STATEMENT_DIGEST_TEXT","STD","STDDEV","STDDEV_POP","STDDEV_SAMP","STR_TO_DATE","STRCMP","SUBDATE","SUBSTR","SUBSTRING","SUBSTRING_INDEX","SUBTIME","SUM","SYSDATE","SYSTEM_USER","TAN","TIME","TIME_FORMAT","TIME_TO_SEC","TIMEDIFF","TIMESTAMP","TIMESTAMPADD","TIMESTAMPDIFF","TO_BASE64","TO_DAYS","TO_SECONDS","TRIM","TRUNCATE","UCASE","UNCOMPRESS","UNCOMPRESSED_LENGTH","UNHEX","UNIX_TIMESTAMP","UPDATEXML","UPPER","UTC_DATE","UTC_TIME","UTC_TIMESTAMP","UUID","UUID_SHORT","UUID_TO_BIN","VALIDATE_PASSWORD_STRENGTH","VALUES","VAR_POP","VAR_SAMP","VARIANCE","VERSION","WAIT_FOR_EXECUTED_GTID_SET","WAIT_UNTIL_SQL_THREAD_AFTER_GTIDS","WEEK","WEEKDAY","WEEKOFYEAR","WEIGHT_STRING","YEAR","YEARWEEK"],stringTypes:['""-qq-bs',{quote:"''-qq-bs",prefixes:["N"]},{quote:"''-raw",prefixes:["B","X"],requirePrefix:!0}],identTypes:["``"],identChars:{first:"$",rest:"$",allowFirstCharNumber:!0},variableTypes:[{regex:"@@?[A-Za-z0-9_.$]+"},{quote:'""-qq-bs',prefixes:["@"],requirePrefix:!0},{quote:"''-qq-bs",prefixes:["@"],requirePrefix:!0},{quote:"``",prefixes:["@"],requirePrefix:!0}],paramTypes:{positional:!0},lineCommentTypes:["--","#"],operators:["%",":=","&","|","^","~","<<",">>","<=>","->","->>","&&","||","!","*.*"],postProcess:kx},formatOptions:{onelineClauses:[...kF,...kG],tabularOnelineClauses:kG}},kI=["SELECT [ALL | DISTINCT | DISTINCTROW]"].flatMap(jU),kJ=["WITH [RECURSIVE]","FROM","WHERE","GROUP BY","HAVING","WINDOW","PARTITION BY","ORDER BY","LIMIT","OFFSET","INSERT [LOW_PRIORITY | DELAYED | HIGH_PRIORITY] [IGNORE] [INTO]","REPLACE [LOW_PRIORITY | DELAYED] [INTO]","VALUES","ON DUPLICATE KEY UPDATE","SET"].flatMap(jU),kK=["CREATE [TEMPORARY] TABLE [IF NOT EXISTS]"].flatMap(jU),kL=["CREATE [OR REPLACE] [SQL SECURITY DEFINER | SQL SECURITY INVOKER] VIEW [IF NOT EXISTS]","UPDATE [LOW_PRIORITY] [IGNORE]","DELETE [LOW_PRIORITY] [QUICK] [IGNORE] FROM","DROP [TEMPORARY] TABLE [IF EXISTS]","ALTER TABLE","ADD [COLUMN]","{CHANGE | MODIFY} [COLUMN]","DROP [COLUMN]","RENAME [TO | AS]","RENAME COLUMN","ALTER [COLUMN]","{SET | DROP} DEFAULT","TRUNCATE [TABLE]","ALTER DATABASE","ALTER INSTANCE","ALTER RESOURCE GROUP","ALTER SEQUENCE","ALTER USER","ALTER VIEW","ANALYZE TABLE","CHECK TABLE","CHECKSUM TABLE","COMMIT","CREATE DATABASE","CREATE INDEX","CREATE RESOURCE GROUP","CREATE ROLE","CREATE SEQUENCE","CREATE USER","DEALLOCATE PREPARE","DESCRIBE","DROP DATABASE","DROP INDEX","DROP RESOURCE GROUP","DROP ROLE","DROP TABLESPACE","DROP USER","DROP VIEW","EXPLAIN","FLUSH","GRANT","IMPORT TABLE","INSTALL COMPONENT","INSTALL PLUGIN","KILL","LOAD DATA","LOCK INSTANCE FOR BACKUP","LOCK TABLES","OPTIMIZE TABLE","PREPARE","RELEASE SAVEPOINT","RENAME TABLE","RENAME USER","REPAIR TABLE","RESET","REVOKE","ROLLBACK","ROLLBACK TO SAVEPOINT","SAVEPOINT","SET CHARACTER SET","SET DEFAULT ROLE","SET NAMES","SET PASSWORD","SET RESOURCE GROUP","SET ROLE","SET TRANSACTION","SHOW","SHOW BINARY LOGS","SHOW BINLOG EVENTS","SHOW CHARACTER SET","SHOW COLLATION","SHOW COLUMNS","SHOW CREATE DATABASE","SHOW CREATE TABLE","SHOW CREATE USER","SHOW CREATE VIEW","SHOW DATABASES","SHOW ENGINE","SHOW ENGINES","SHOW ERRORS","SHOW EVENTS","SHOW GRANTS","SHOW INDEX","SHOW MASTER STATUS","SHOW OPEN TABLES","SHOW PLUGINS","SHOW PRIVILEGES","SHOW PROCESSLIST","SHOW PROFILE","SHOW PROFILES","SHOW STATUS","SHOW TABLE STATUS","SHOW TABLES","SHOW TRIGGERS","SHOW VARIABLES","SHOW WARNINGS","TABLE","UNINSTALL COMPONENT","UNINSTALL PLUGIN","UNLOCK INSTANCE","UNLOCK TABLES","USE"].flatMap(jU),kM={name:"tidb",tokenizerOptions:{reservedSelect:kI,reservedClauses:[...kJ,...kK,...kL],reservedSetOperations:["UNION [ALL | DISTINCT]"].flatMap(jU),reservedJoins:["JOIN","{LEFT | RIGHT} [OUTER] JOIN","{INNER | CROSS} JOIN","NATURAL [INNER] JOIN","NATURAL {LEFT | RIGHT} [OUTER] JOIN","STRAIGHT_JOIN"].flatMap(jU),reservedKeywordPhrases:["ON {UPDATE | DELETE} [SET NULL]","CHARACTER SET","{ROWS | RANGE} BETWEEN","IDENTIFIED BY"].flatMap(jU),reservedDataTypePhrases:[].flatMap(jU),supportsXor:!0,reservedKeywords:["ADD","ALL","ALTER","ANALYZE","AND","ARRAY","AS","ASC","BETWEEN","BOTH","BY","CALL","CASCADE","CASE","CHANGE","CHECK","COLLATE","COLUMN","CONSTRAINT","CONTINUE","CONVERT","CREATE","CROSS","CURRENT_DATE","CURRENT_ROLE","CURRENT_TIME","CURRENT_TIMESTAMP","CURRENT_USER","CURSOR","DATABASE","DATABASES","DAY_HOUR","DAY_MICROSECOND","DAY_MINUTE","DAY_SECOND","DEFAULT","DELAYED","DELETE","DESC","DESCRIBE","DISTINCT","DISTINCTROW","DIV","DOUBLE","DROP","DUAL","ELSE","ELSEIF","ENCLOSED","ESCAPED","EXCEPT","EXISTS","EXIT","EXPLAIN","FALSE","FETCH","FOR","FORCE","FOREIGN","FROM","FULLTEXT","GENERATED","GRANT","GROUP","GROUPS","HAVING","HIGH_PRIORITY","HOUR_MICROSECOND","HOUR_MINUTE","HOUR_SECOND","IF","IGNORE","ILIKE","IN","INDEX","INFILE","INNER","INOUT","INSERT","INTERSECT","INTERVAL","INTO","IS","ITERATE","JOIN","KEY","KEYS","KILL","LEADING","LEAVE","LEFT","LIKE","LIMIT","LINEAR","LINES","LOAD","LOCALTIME","LOCALTIMESTAMP","LOCK","LONG","LOW_PRIORITY","MATCH","MAXVALUE","MINUTE_MICROSECOND","MINUTE_SECOND","MOD","NATURAL","NOT","NO_WRITE_TO_BINLOG","NULL","OF","ON","OPTIMIZE","OPTION","OPTIONALLY","OR","ORDER","OUT","OUTER","OUTFILE","OVER","PARTITION","PRIMARY","PROCEDURE","RANGE","READ","RECURSIVE","REFERENCES","REGEXP","RELEASE","RENAME","REPEAT","REPLACE","REQUIRE","RESTRICT","REVOKE","RIGHT","RLIKE","ROW","ROWS","SECOND_MICROSECOND","SELECT","SET","SHOW","SPATIAL","SQL","SQLEXCEPTION","SQLSTATE","SQLWARNING","SQL_BIG_RESULT","SQL_CALC_FOUND_ROWS","SQL_SMALL_RESULT","SSL","STARTING","STATS_EXTENDED","STORED","STRAIGHT_JOIN","TABLE","TABLESAMPLE","TERMINATED","THEN","TO","TRAILING","TRIGGER","TRUE","TiDB_CURRENT_TSO","UNION","UNIQUE","UNLOCK","UNSIGNED","UNTIL","UPDATE","USAGE","USE","USING","UTC_DATE","UTC_TIME","UTC_TIMESTAMP","VALUES","VIRTUAL","WHEN","WHERE","WHILE","WINDOW","WITH","WRITE","XOR","YEAR_MONTH","ZEROFILL"],reservedDataTypes:["BIGINT","BINARY","BIT","BLOB","BOOL","BOOLEAN","CHAR","CHARACTER","DATE","DATETIME","DEC","DECIMAL","DOUBLE PRECISION","DOUBLE","ENUM","FIXED","INT","INT1","INT2","INT3","INT4","INT8","INTEGER","LONGBLOB","LONGTEXT","MEDIUMBLOB","MEDIUMINT","MIDDLEINT","NATIONAL CHAR","NATIONAL VARCHAR","NUMERIC","PRECISION","SMALLINT","TEXT","TIME","TIMESTAMP","TINYBLOB","TINYINT","TINYTEXT","VARBINARY","VARCHAR","VARCHARACTER","VARYING","YEAR"],reservedFunctionNames:["ABS","ACOS","ADDDATE","ADDTIME","AES_DECRYPT","AES_ENCRYPT","ANY_VALUE","ASCII","ASIN","ATAN","ATAN2","AVG","BENCHMARK","BIN","BIN_TO_UUID","BIT_AND","BIT_COUNT","BIT_LENGTH","BIT_OR","BIT_XOR","BITAND","BITNEG","BITOR","BITXOR","CASE","CAST","CEIL","CEILING","CHAR_FUNC","CHAR_LENGTH","CHARACTER_LENGTH","CHARSET","COALESCE","COERCIBILITY","COLLATION","COMPRESS","CONCAT","CONCAT_WS","CONNECTION_ID","CONV","CONVERT","CONVERT_TZ","COS","COT","COUNT","CRC32","CUME_DIST","CURDATE","CURRENT_DATE","CURRENT_RESOURCE_GROUP","CURRENT_ROLE","CURRENT_TIME","CURRENT_TIMESTAMP","CURRENT_USER","CURTIME","DATABASE","DATE","DATE_ADD","DATE_FORMAT","DATE_SUB","DATEDIFF","DAY","DAYNAME","DAYOFMONTH","DAYOFWEEK","DAYOFYEAR","DECODE","DEFAULT_FUNC","DEGREES","DENSE_RANK","DES_DECRYPT","DES_ENCRYPT","DIV","ELT","ENCODE","ENCRYPT","EQ","EXP","EXPORT_SET","EXTRACT","FIELD","FIND_IN_SET","FIRST_VALUE","FLOOR","FORMAT","FORMAT_BYTES","FORMAT_NANO_TIME","FOUND_ROWS","FROM_BASE64","FROM_DAYS","FROM_UNIXTIME","GE","GET_FORMAT","GET_LOCK","GETPARAM","GREATEST","GROUP_CONCAT","GROUPING","GT","HEX","HOUR","IF","IFNULL","ILIKE","INET6_ATON","INET6_NTOA","INET_ATON","INET_NTOA","INSERT_FUNC","INSTR","INTDIV","INTERVAL","IS_FREE_LOCK","IS_IPV4","IS_IPV4_COMPAT","IS_IPV4_MAPPED","IS_IPV6","IS_USED_LOCK","IS_UUID","ISFALSE","ISNULL","ISTRUE","JSON_ARRAY","JSON_ARRAYAGG","JSON_ARRAY_APPEND","JSON_ARRAY_INSERT","JSON_CONTAINS","JSON_CONTAINS_PATH","JSON_DEPTH","JSON_EXTRACT","JSON_INSERT","JSON_KEYS","JSON_LENGTH","JSON_MEMBEROF","JSON_MERGE","JSON_MERGE_PATCH","JSON_MERGE_PRESERVE","JSON_OBJECT","JSON_OBJECTAGG","JSON_OVERLAPS","JSON_PRETTY","JSON_QUOTE","JSON_REMOVE","JSON_REPLACE","JSON_SEARCH","JSON_SET","JSON_STORAGE_FREE","JSON_STORAGE_SIZE","JSON_TYPE","JSON_UNQUOTE","JSON_VALID","LAG","LAST_DAY","LAST_INSERT_ID","LAST_VALUE","LASTVAL","LCASE","LE","LEAD","LEAST","LEFT","LEFTSHIFT","LENGTH","LIKE","LN","LOAD_FILE","LOCALTIME","LOCALTIMESTAMP","LOCATE","LOG","LOG10","LOG2","LOWER","LPAD","LT","LTRIM","MAKE_SET","MAKEDATE","MAKETIME","MASTER_POS_WAIT","MAX","MD5","MICROSECOND","MID","MIN","MINUS","MINUTE","MOD","MONTH","MONTHNAME","MUL","NAME_CONST","NE","NEXTVAL","NOT","NOW","NTH_VALUE","NTILE","NULLEQ","OCT","OCTET_LENGTH","OLD_PASSWORD","ORD","PASSWORD_FUNC","PERCENT_RANK","PERIOD_ADD","PERIOD_DIFF","PI","PLUS","POSITION","POW","POWER","QUARTER","QUOTE","RADIANS","RAND","RANDOM_BYTES","RANK","REGEXP","REGEXP_INSTR","REGEXP_LIKE","REGEXP_REPLACE","REGEXP_SUBSTR","RELEASE_ALL_LOCKS","RELEASE_LOCK","REPEAT","REPLACE","REVERSE","RIGHT","RIGHTSHIFT","ROUND","ROW_COUNT","ROW_NUMBER","RPAD","RTRIM","SCHEMA","SEC_TO_TIME","SECOND","SESSION_USER","SETVAL","SETVAR","SHA","SHA1","SHA2","SIGN","SIN","SLEEP","SM3","SPACE","SQRT","STD","STDDEV","STDDEV_POP","STDDEV_SAMP","STR_TO_DATE","STRCMP","SUBDATE","SUBSTR","SUBSTRING","SUBSTRING_INDEX","SUBTIME","SUM","SYSDATE","SYSTEM_USER","TAN","TIDB_BOUNDED_STALENESS","TIDB_CURRENT_TSO","TIDB_DECODE_BINARY_PLAN","TIDB_DECODE_KEY","TIDB_DECODE_PLAN","TIDB_DECODE_SQL_DIGESTS","TIDB_ENCODE_SQL_DIGEST","TIDB_IS_DDL_OWNER","TIDB_PARSE_TSO","TIDB_PARSE_TSO_LOGICAL","TIDB_ROW_CHECKSUM","TIDB_SHARD","TIDB_VERSION","TIME","TIME_FORMAT","TIME_TO_SEC","TIMEDIFF","TIMESTAMP","TIMESTAMPADD","TIMESTAMPDIFF","TO_BASE64","TO_DAYS","TO_SECONDS","TRANSLATE","TRIM","TRUNCATE","UCASE","UNARYMINUS","UNCOMPRESS","UNCOMPRESSED_LENGTH","UNHEX","UNIX_TIMESTAMP","UPPER","UTC_DATE","UTC_TIME","UTC_TIMESTAMP","UUID","UUID_SHORT","UUID_TO_BIN","VALIDATE_PASSWORD_STRENGTH","VAR_POP","VAR_SAMP","VARIANCE","VERSION","VITESS_HASH","WEEK","WEEKDAY","WEEKOFYEAR","WEIGHT_STRING","YEAR","YEARWEEK"],stringTypes:['""-qq-bs',{quote:"''-qq-bs",prefixes:["N"]},{quote:"''-raw",prefixes:["B","X"],requirePrefix:!0}],identTypes:["``"],identChars:{first:"$",rest:"$",allowFirstCharNumber:!0},variableTypes:[{regex:"@@?[A-Za-z0-9_.$]+"},{quote:'""-qq-bs',prefixes:["@"],requirePrefix:!0},{quote:"''-qq-bs",prefixes:["@"],requirePrefix:!0},{quote:"``",prefixes:["@"],requirePrefix:!0}],paramTypes:{positional:!0},lineCommentTypes:["--","#"],operators:["%",":=","&","|","^","~","<<",">>","<=>","->","->>","&&","||","!","*.*"],postProcess:kx},formatOptions:{onelineClauses:[...kK,...kL],tabularOnelineClauses:kL}},kN=["SELECT [ALL | DISTINCT]"].flatMap(jU),kO=["WITH","FROM","WHERE","GROUP BY","HAVING","WINDOW","PARTITION BY","ORDER BY","LIMIT","OFFSET","INSERT INTO","VALUES","SET","MERGE INTO","WHEN [NOT] MATCHED THEN","UPDATE SET","INSERT","NEST","UNNEST","RETURNING"].flatMap(jU),kP=["UPDATE","DELETE FROM","SET SCHEMA","ADVISE","ALTER INDEX","BEGIN TRANSACTION","BUILD INDEX","COMMIT TRANSACTION","CREATE COLLECTION","CREATE FUNCTION","CREATE INDEX","CREATE PRIMARY INDEX","CREATE SCOPE","DROP COLLECTION","DROP FUNCTION","DROP INDEX","DROP PRIMARY INDEX","DROP SCOPE","EXECUTE","EXECUTE FUNCTION","EXPLAIN","GRANT","INFER","PREPARE","REVOKE","ROLLBACK TRANSACTION","SAVEPOINT","SET TRANSACTION","UPDATE STATISTICS","UPSERT","LET","SET CURRENT SCHEMA","SHOW","USE [PRIMARY] KEYS"].flatMap(jU),kQ={name:"n1ql",tokenizerOptions:{reservedSelect:kN,reservedClauses:[...kO,...kP],reservedSetOperations:["UNION [ALL]","EXCEPT [ALL]","INTERSECT [ALL]"].flatMap(jU),reservedJoins:["JOIN","{LEFT | RIGHT} [OUTER] JOIN","INNER JOIN"].flatMap(jU),reservedKeywordPhrases:["{ROWS | RANGE | GROUPS} BETWEEN"].flatMap(jU),reservedDataTypePhrases:[].flatMap(jU),supportsXor:!0,reservedKeywords:["ADVISE","ALL","ALTER","ANALYZE","AND","ANY","ARRAY","AS","ASC","AT","BEGIN","BETWEEN","BINARY","BOOLEAN","BREAK","BUCKET","BUILD","BY","CALL","CASE","CAST","CLUSTER","COLLATE","COLLECTION","COMMIT","COMMITTED","CONNECT","CONTINUE","CORRELATED","COVER","CREATE","CURRENT","DATABASE","DATASET","DATASTORE","DECLARE","DECREMENT","DELETE","DERIVED","DESC","DESCRIBE","DISTINCT","DO","DROP","EACH","ELEMENT","ELSE","END","EVERY","EXCEPT","EXCLUDE","EXECUTE","EXISTS","EXPLAIN","FALSE","FETCH","FILTER","FIRST","FLATTEN","FLUSH","FOLLOWING","FOR","FORCE","FROM","FTS","FUNCTION","GOLANG","GRANT","GROUP","GROUPS","GSI","HASH","HAVING","IF","IGNORE","ILIKE","IN","INCLUDE","INCREMENT","INDEX","INFER","INLINE","INNER","INSERT","INTERSECT","INTO","IS","ISOLATION","JAVASCRIPT","JOIN","KEY","KEYS","KEYSPACE","KNOWN","LANGUAGE","LAST","LEFT","LET","LETTING","LEVEL","LIKE","LIMIT","LSM","MAP","MAPPING","MATCHED","MATERIALIZED","MERGE","MINUS","MISSING","NAMESPACE","NEST","NL","NO","NOT","NTH_VALUE","NULL","NULLS","NUMBER","OBJECT","OFFSET","ON","OPTION","OPTIONS","OR","ORDER","OTHERS","OUTER","OVER","PARSE","PARTITION","PASSWORD","PATH","POOL","PRECEDING","PREPARE","PRIMARY","PRIVATE","PRIVILEGE","PROBE","PROCEDURE","PUBLIC","RANGE","RAW","REALM","REDUCE","RENAME","RESPECT","RETURN","RETURNING","REVOKE","RIGHT","ROLE","ROLLBACK","ROW","ROWS","SATISFIES","SAVEPOINT","SCHEMA","SCOPE","SELECT","SELF","SEMI","SET","SHOW","SOME","START","STATISTICS","STRING","SYSTEM","THEN","TIES","TO","TRAN","TRANSACTION","TRIGGER","TRUE","TRUNCATE","UNBOUNDED","UNDER","UNION","UNIQUE","UNKNOWN","UNNEST","UNSET","UPDATE","UPSERT","USE","USER","USING","VALIDATE","VALUE","VALUED","VALUES","VIA","VIEW","WHEN","WHERE","WHILE","WINDOW","WITH","WITHIN","WORK","XOR"],reservedDataTypes:[],reservedFunctionNames:["ABORT","ABS","ACOS","ADVISOR","ARRAY_AGG","ARRAY_AGG","ARRAY_APPEND","ARRAY_AVG","ARRAY_BINARY_SEARCH","ARRAY_CONCAT","ARRAY_CONTAINS","ARRAY_COUNT","ARRAY_DISTINCT","ARRAY_EXCEPT","ARRAY_FLATTEN","ARRAY_IFNULL","ARRAY_INSERT","ARRAY_INTERSECT","ARRAY_LENGTH","ARRAY_MAX","ARRAY_MIN","ARRAY_MOVE","ARRAY_POSITION","ARRAY_PREPEND","ARRAY_PUT","ARRAY_RANGE","ARRAY_REMOVE","ARRAY_REPEAT","ARRAY_REPLACE","ARRAY_REVERSE","ARRAY_SORT","ARRAY_STAR","ARRAY_SUM","ARRAY_SYMDIFF","ARRAY_SYMDIFF1","ARRAY_SYMDIFFN","ARRAY_UNION","ASIN","ATAN","ATAN2","AVG","BASE64","BASE64_DECODE","BASE64_ENCODE","BITAND ","BITCLEAR ","BITNOT ","BITOR ","BITSET ","BITSHIFT ","BITTEST ","BITXOR ","CEIL","CLOCK_LOCAL","CLOCK_MILLIS","CLOCK_STR","CLOCK_TZ","CLOCK_UTC","COALESCE","CONCAT","CONCAT2","CONTAINS","CONTAINS_TOKEN","CONTAINS_TOKEN_LIKE","CONTAINS_TOKEN_REGEXP","COS","COUNT","COUNT","COUNTN","CUME_DIST","CURL","DATE_ADD_MILLIS","DATE_ADD_STR","DATE_DIFF_MILLIS","DATE_DIFF_STR","DATE_FORMAT_STR","DATE_PART_MILLIS","DATE_PART_STR","DATE_RANGE_MILLIS","DATE_RANGE_STR","DATE_TRUNC_MILLIS","DATE_TRUNC_STR","DECODE","DECODE_JSON","DEGREES","DENSE_RANK","DURATION_TO_STR","ENCODED_SIZE","ENCODE_JSON","EXP","FIRST_VALUE","FLOOR","GREATEST","HAS_TOKEN","IFINF","IFMISSING","IFMISSINGORNULL","IFNAN","IFNANORINF","IFNULL","INITCAP","ISARRAY","ISATOM","ISBITSET","ISBOOLEAN","ISNUMBER","ISOBJECT","ISSTRING","LAG","LAST_VALUE","LEAD","LEAST","LENGTH","LN","LOG","LOWER","LTRIM","MAX","MEAN","MEDIAN","META","MILLIS","MILLIS_TO_LOCAL","MILLIS_TO_STR","MILLIS_TO_TZ","MILLIS_TO_UTC","MILLIS_TO_ZONE_NAME","MIN","MISSINGIF","NANIF","NEGINFIF","NOW_LOCAL","NOW_MILLIS","NOW_STR","NOW_TZ","NOW_UTC","NTH_VALUE","NTILE","NULLIF","NVL","NVL2","OBJECT_ADD","OBJECT_CONCAT","OBJECT_INNER_PAIRS","OBJECT_INNER_VALUES","OBJECT_LENGTH","OBJECT_NAMES","OBJECT_PAIRS","OBJECT_PUT","OBJECT_REMOVE","OBJECT_RENAME","OBJECT_REPLACE","OBJECT_UNWRAP","OBJECT_VALUES","PAIRS","PERCENT_RANK","PI","POLY_LENGTH","POSINFIF","POSITION","POWER","RADIANS","RANDOM","RANK","RATIO_TO_REPORT","REGEXP_CONTAINS","REGEXP_LIKE","REGEXP_MATCHES","REGEXP_POSITION","REGEXP_REPLACE","REGEXP_SPLIT","REGEX_CONTAINS","REGEX_LIKE","REGEX_MATCHES","REGEX_POSITION","REGEX_REPLACE","REGEX_SPLIT","REPEAT","REPLACE","REVERSE","ROUND","ROW_NUMBER","RTRIM","SEARCH","SEARCH_META","SEARCH_SCORE","SIGN","SIN","SPLIT","SQRT","STDDEV","STDDEV_POP","STDDEV_SAMP","STR_TO_DURATION","STR_TO_MILLIS","STR_TO_TZ","STR_TO_UTC","STR_TO_ZONE_NAME","SUBSTR","SUFFIXES","SUM","TAN","TITLE","TOARRAY","TOATOM","TOBOOLEAN","TOKENS","TOKENS","TONUMBER","TOOBJECT","TOSTRING","TRIM","TRUNC","UPPER","UUID","VARIANCE","VARIANCE_POP","VARIANCE_SAMP","VAR_POP","VAR_SAMP","WEEKDAY_MILLIS","WEEKDAY_STR","CAST"],stringTypes:['""-bs',"''-bs"],identTypes:["``"],extraParens:["[]","{}"],paramTypes:{positional:!0,numbered:["$"],named:["$"]},lineCommentTypes:["#","--"],operators:["%","==",":","||"]},formatOptions:{onelineClauses:kP}},kR=["SELECT [ALL | DISTINCT | UNIQUE]"].flatMap(jU),kS=["WITH","FROM","WHERE","GROUP BY","HAVING","PARTITION BY","ORDER [SIBLINGS] BY","OFFSET","FETCH {FIRST | NEXT}","FOR UPDATE [OF]","INSERT [INTO | ALL INTO]","VALUES","SET","MERGE [INTO]","WHEN [NOT] MATCHED [THEN]","UPDATE SET","RETURNING"].flatMap(jU),kT=["CREATE [GLOBAL TEMPORARY | PRIVATE TEMPORARY | SHARDED | DUPLICATED | IMMUTABLE BLOCKCHAIN | BLOCKCHAIN | IMMUTABLE] TABLE"].flatMap(jU),kU=["CREATE [OR REPLACE] [NO FORCE | FORCE] [EDITIONING | EDITIONABLE | EDITIONABLE EDITIONING | NONEDITIONABLE] VIEW","CREATE MATERIALIZED VIEW","UPDATE [ONLY]","DELETE FROM [ONLY]","DROP TABLE","ALTER TABLE","ADD","DROP {COLUMN | UNUSED COLUMNS | COLUMNS CONTINUE}","MODIFY","RENAME TO","RENAME COLUMN","TRUNCATE TABLE","SET SCHEMA","BEGIN","CONNECT BY","DECLARE","EXCEPT","EXCEPTION","LOOP","START WITH"].flatMap(jU),kV={name:"plsql",tokenizerOptions:{reservedSelect:kR,reservedClauses:[...kS,...kT,...kU],reservedSetOperations:["UNION [ALL]","MINUS","INTERSECT"].flatMap(jU),reservedJoins:["JOIN","{LEFT | RIGHT | FULL} [OUTER] JOIN","{INNER | CROSS} JOIN","NATURAL [INNER] JOIN","NATURAL {LEFT | RIGHT | FULL} [OUTER] JOIN","{CROSS | OUTER} APPLY"].flatMap(jU),reservedKeywordPhrases:["ON {UPDATE | DELETE} [SET NULL]","ON COMMIT","{ROWS | RANGE} BETWEEN"].flatMap(jU),reservedDataTypePhrases:[].flatMap(jU),supportsXor:!0,reservedKeywords:["ADD","AGENT","AGGREGATE","ALL","ALTER","AND","ANY","ARROW","AS","ASC","AT","ATTRIBUTE","AUTHID","AVG","BEGIN","BETWEEN","BLOCK","BODY","BOTH","BOUND","BULK","BY","BYTE","CALL","CALLING","CASCADE","CASE","CHARSET","CHARSETFORM","CHARSETID","CHECK","CLOSE","CLUSTER","CLUSTERS","COLAUTH","COLLECT","COLUMNS","COMMENT","COMMIT","COMMITTED","COMPILED","COMPRESS","CONNECT","CONSTANT","CONSTRUCTOR","CONTEXT","CONVERT","COUNT","CRASH","CREATE","CURRENT","CURSOR","CUSTOMDATUM","DANGLING","DATA","DAY","DECLARE","DEFAULT","DEFINE","DELETE","DESC","DETERMINISTIC","DISTINCT","DROP","DURATION","ELEMENT","ELSE","ELSIF","EMPTY","END","ESCAPE","EXCEPT","EXCEPTION","EXCEPTIONS","EXCLUSIVE","EXECUTE","EXISTS","EXIT","EXTERNAL","FETCH","FINAL","FIXED","FOR","FORALL","FORCE","FORM","FROM","FUNCTION","GENERAL","GOTO","GRANT","GROUP","HASH","HAVING","HEAP","HIDDEN","HOUR","IDENTIFIED","IF","IMMEDIATE","IN","INCLUDING","INDEX","INDEXES","INDICATOR","INDICES","INFINITE","INSERT","INSTANTIABLE","INTERFACE","INTERSECT","INTERVAL","INTO","INVALIDATE","IS","ISOLATION","JAVA","LANGUAGE","LARGE","LEADING","LENGTH","LEVEL","LIBRARY","LIKE","LIKE2","LIKE4","LIKEC","LIMIT","LIMITED","LOCAL","LOCK","LOOP","MAP","MAX","MAXLEN","MEMBER","MERGE","MIN","MINUS","MINUTE","MOD","MODE","MODIFY","MONTH","MULTISET","NAME","NAN","NATIONAL","NATIVE","NEW","NOCOMPRESS","NOCOPY","NOT","NOWAIT","NULL","OBJECT","OCICOLL","OCIDATE","OCIDATETIME","OCIDURATION","OCIINTERVAL","OCILOBLOCATOR","OCINUMBER","OCIRAW","OCIREF","OCIREFCURSOR","OCIROWID","OCISTRING","OCITYPE","OF","ON","ONLY","OPAQUE","OPEN","OPERATOR","OPTION","OR","ORACLE","ORADATA","ORDER","OVERLAPS","ORGANIZATION","ORLANY","ORLVARY","OTHERS","OUT","OVERRIDING","PACKAGE","PARALLEL_ENABLE","PARAMETER","PARAMETERS","PARTITION","PASCAL","PIPE","PIPELINED","PRAGMA","PRIOR","PRIVATE","PROCEDURE","PUBLIC","RAISE","RANGE","READ","RECORD","REF","REFERENCE","REM","REMAINDER","RENAME","RESOURCE","RESULT","RETURN","RETURNING","REVERSE","REVOKE","ROLLBACK","ROW","SAMPLE","SAVE","SAVEPOINT","SB1","SB2","SB4","SECOND","SEGMENT","SELECT","SELF","SEPARATE","SEQUENCE","SERIALIZABLE","SET","SHARE","SHORT","SIZE","SIZE_T","SOME","SPARSE","SQL","SQLCODE","SQLDATA","SQLNAME","SQLSTATE","STANDARD","START","STATIC","STDDEV","STORED","STRING","STRUCT","STYLE","SUBMULTISET","SUBPARTITION","SUBSTITUTABLE","SUBTYPE","SUM","SYNONYM","TABAUTH","TABLE","TDO","THE","THEN","TIME","TIMEZONE_ABBR","TIMEZONE_HOUR","TIMEZONE_MINUTE","TIMEZONE_REGION","TO","TRAILING","TRANSAC","TRANSACTIONAL","TRUSTED","TYPE","UB1","UB2","UB4","UNDER","UNION","UNIQUE","UNSIGNED","UNTRUSTED","UPDATE","USE","USING","VALIST","VALUE","VALUES","VARIABLE","VARIANCE","VARRAY","VIEW","VIEWS","VOID","WHEN","WHERE","WHILE","WITH","WORK","WRAPPED","WRITE","YEAR","ZONE"],reservedDataTypes:["ARRAY","BFILE_BASE","BINARY","BLOB_BASE","CHAR VARYING","CHAR_BASE","CHAR","CHARACTER VARYING","CHARACTER","CLOB_BASE","DATE_BASE","DATE","DECIMAL","DOUBLE","FLOAT","INT","INTERVAL DAY","INTERVAL YEAR","LONG","NATIONAL CHAR VARYING","NATIONAL CHAR","NATIONAL CHARACTER VARYING","NATIONAL CHARACTER","NCHAR VARYING","NCHAR","NCHAR","NUMBER_BASE","NUMBER","NUMBERIC","NVARCHAR","PRECISION","RAW","TIMESTAMP","UROWID","VARCHAR","VARCHAR2"],reservedFunctionNames:["ABS","ACOS","ASIN","ATAN","ATAN2","BITAND","CEIL","COS","COSH","EXP","FLOOR","LN","LOG","MOD","NANVL","POWER","REMAINDER","ROUND","SIGN","SIN","SINH","SQRT","TAN","TANH","TRUNC","WIDTH_BUCKET","CHR","CONCAT","INITCAP","LOWER","LPAD","LTRIM","NLS_INITCAP","NLS_LOWER","NLSSORT","NLS_UPPER","REGEXP_REPLACE","REGEXP_SUBSTR","REPLACE","RPAD","RTRIM","SOUNDEX","SUBSTR","TRANSLATE","TREAT","TRIM","UPPER","NLS_CHARSET_DECL_LEN","NLS_CHARSET_ID","NLS_CHARSET_NAME","ASCII","INSTR","LENGTH","REGEXP_INSTR","ADD_MONTHS","CURRENT_DATE","CURRENT_TIMESTAMP","DBTIMEZONE","EXTRACT","FROM_TZ","LAST_DAY","LOCALTIMESTAMP","MONTHS_BETWEEN","NEW_TIME","NEXT_DAY","NUMTODSINTERVAL","NUMTOYMINTERVAL","ROUND","SESSIONTIMEZONE","SYS_EXTRACT_UTC","SYSDATE","SYSTIMESTAMP","TO_CHAR","TO_TIMESTAMP","TO_TIMESTAMP_TZ","TO_DSINTERVAL","TO_YMINTERVAL","TRUNC","TZ_OFFSET","GREATEST","LEAST","ASCIISTR","BIN_TO_NUM","CAST","CHARTOROWID","COMPOSE","CONVERT","DECOMPOSE","HEXTORAW","NUMTODSINTERVAL","NUMTOYMINTERVAL","RAWTOHEX","RAWTONHEX","ROWIDTOCHAR","ROWIDTONCHAR","SCN_TO_TIMESTAMP","TIMESTAMP_TO_SCN","TO_BINARY_DOUBLE","TO_BINARY_FLOAT","TO_CHAR","TO_CLOB","TO_DATE","TO_DSINTERVAL","TO_LOB","TO_MULTI_BYTE","TO_NCHAR","TO_NCLOB","TO_NUMBER","TO_DSINTERVAL","TO_SINGLE_BYTE","TO_TIMESTAMP","TO_TIMESTAMP_TZ","TO_YMINTERVAL","TO_YMINTERVAL","TRANSLATE","UNISTR","BFILENAME","EMPTY_BLOB,","EMPTY_CLOB","CARDINALITY","COLLECT","POWERMULTISET","POWERMULTISET_BY_CARDINALITY","SET","SYS_CONNECT_BY_PATH","CLUSTER_ID","CLUSTER_PROBABILITY","CLUSTER_SET","FEATURE_ID","FEATURE_SET","FEATURE_VALUE","PREDICTION","PREDICTION_COST","PREDICTION_DETAILS","PREDICTION_PROBABILITY","PREDICTION_SET","APPENDCHILDXML","DELETEXML","DEPTH","EXTRACT","EXISTSNODE","EXTRACTVALUE","INSERTCHILDXML","INSERTXMLBEFORE","PATH","SYS_DBURIGEN","SYS_XMLAGG","SYS_XMLGEN","UPDATEXML","XMLAGG","XMLCDATA","XMLCOLATTVAL","XMLCOMMENT","XMLCONCAT","XMLFOREST","XMLPARSE","XMLPI","XMLQUERY","XMLROOT","XMLSEQUENCE","XMLSERIALIZE","XMLTABLE","XMLTRANSFORM","DECODE","DUMP","ORA_HASH","VSIZE","COALESCE","LNNVL","NULLIF","NVL","NVL2","SYS_CONTEXT","SYS_GUID","SYS_TYPEID","UID","USER","USERENV","AVG","COLLECT","CORR","CORR_S","CORR_K","COUNT","COVAR_POP","COVAR_SAMP","CUME_DIST","DENSE_RANK","FIRST","GROUP_ID","GROUPING","GROUPING_ID","LAST","MAX","MEDIAN","MIN","PERCENTILE_CONT","PERCENTILE_DISC","PERCENT_RANK","RANK","REGR_SLOPE","REGR_INTERCEPT","REGR_COUNT","REGR_R2","REGR_AVGX","REGR_AVGY","REGR_SXX","REGR_SYY","REGR_SXY","STATS_BINOMIAL_TEST","STATS_CROSSTAB","STATS_F_TEST","STATS_KS_TEST","STATS_MODE","STATS_MW_TEST","STATS_ONE_WAY_ANOVA","STATS_T_TEST_ONE","STATS_T_TEST_PAIRED","STATS_T_TEST_INDEP","STATS_T_TEST_INDEPU","STATS_WSR_TEST","STDDEV","STDDEV_POP","STDDEV_SAMP","SUM","VAR_POP","VAR_SAMP","VARIANCE","FIRST_VALUE","LAG","LAST_VALUE","LEAD","NTILE","RATIO_TO_REPORT","ROW_NUMBER","DEREF","MAKE_REF","REF","REFTOHEX","VALUE","CV","ITERATION_NUMBER","PRESENTNNV","PRESENTV","PREVIOUS"],stringTypes:[{quote:"''-qq",prefixes:["N"]},{quote:"q''",prefixes:["N"]}],identTypes:['""-qq'],identChars:{rest:"$#"},variableTypes:[{regex:"&{1,2}[A-Za-z][A-Za-z0-9_$#]*"}],paramTypes:{numbered:[":"],named:[":"]},operators:["**",":=","%","~=","^=",">>","<<","=>","@","||"],postProcess:function(a){let b=j3;return a.map(a=>j5.SET(a)&&j5.BY(b)?Object.assign(Object.assign({},a),{type:s.RESERVED_KEYWORD}):(j6(a.type)&&(b=a),a))}},formatOptions:{alwaysDenseOperators:["@"],onelineClauses:[...kT,...kU],tabularOnelineClauses:kU}},kW=["SELECT [ALL | DISTINCT]"].flatMap(jU),kX=["WITH [RECURSIVE]","FROM","WHERE","GROUP BY [ALL | DISTINCT]","HAVING","WINDOW","PARTITION BY","ORDER BY","LIMIT","OFFSET","FETCH {FIRST | NEXT}","FOR {UPDATE | NO KEY UPDATE | SHARE | KEY SHARE} [OF]","INSERT INTO","VALUES","DEFAULT VALUES","SET","RETURNING"].flatMap(jU),kY=["CREATE [GLOBAL | LOCAL] [TEMPORARY | TEMP | UNLOGGED] TABLE [IF NOT EXISTS]"].flatMap(jU),kZ=["CREATE [OR REPLACE] [TEMP | TEMPORARY] [RECURSIVE] VIEW","CREATE [MATERIALIZED] VIEW [IF NOT EXISTS]","UPDATE [ONLY]","WHERE CURRENT OF","ON CONFLICT","DELETE FROM [ONLY]","DROP TABLE [IF EXISTS]","ALTER TABLE [IF EXISTS] [ONLY]","ALTER TABLE ALL IN TABLESPACE","RENAME [COLUMN]","RENAME TO","ADD [COLUMN] [IF NOT EXISTS]","DROP [COLUMN] [IF EXISTS]","ALTER [COLUMN]","SET DATA TYPE","{SET | DROP} DEFAULT","{SET | DROP} NOT NULL","TRUNCATE [TABLE] [ONLY]","SET SCHEMA","AFTER","ABORT","ALTER AGGREGATE","ALTER COLLATION","ALTER CONVERSION","ALTER DATABASE","ALTER DEFAULT PRIVILEGES","ALTER DOMAIN","ALTER EVENT TRIGGER","ALTER EXTENSION","ALTER FOREIGN DATA WRAPPER","ALTER FOREIGN TABLE","ALTER FUNCTION","ALTER GROUP","ALTER INDEX","ALTER LANGUAGE","ALTER LARGE OBJECT","ALTER MATERIALIZED VIEW","ALTER OPERATOR","ALTER OPERATOR CLASS","ALTER OPERATOR FAMILY","ALTER POLICY","ALTER PROCEDURE","ALTER PUBLICATION","ALTER ROLE","ALTER ROUTINE","ALTER RULE","ALTER SCHEMA","ALTER SEQUENCE","ALTER SERVER","ALTER STATISTICS","ALTER SUBSCRIPTION","ALTER SYSTEM","ALTER TABLESPACE","ALTER TEXT SEARCH CONFIGURATION","ALTER TEXT SEARCH DICTIONARY","ALTER TEXT SEARCH PARSER","ALTER TEXT SEARCH TEMPLATE","ALTER TRIGGER","ALTER TYPE","ALTER USER","ALTER USER MAPPING","ALTER VIEW","ANALYZE","BEGIN","CALL","CHECKPOINT","CLOSE","CLUSTER","COMMIT","COMMIT PREPARED","COPY","CREATE ACCESS METHOD","CREATE [OR REPLACE] AGGREGATE","CREATE CAST","CREATE COLLATION","CREATE [DEFAULT] CONVERSION","CREATE DATABASE","CREATE DOMAIN","CREATE EVENT TRIGGER","CREATE EXTENSION","CREATE FOREIGN DATA WRAPPER","CREATE FOREIGN TABLE","CREATE [OR REPLACE] FUNCTION","CREATE GROUP","CREATE [UNIQUE] INDEX","CREATE [OR REPLACE] [TRUSTED] [PROCEDURAL] LANGUAGE","CREATE OPERATOR","CREATE OPERATOR CLASS","CREATE OPERATOR FAMILY","CREATE POLICY","CREATE [OR REPLACE] PROCEDURE","CREATE PUBLICATION","CREATE ROLE","CREATE [OR REPLACE] RULE","CREATE SCHEMA [AUTHORIZATION]","CREATE [TEMPORARY | TEMP | UNLOGGED] SEQUENCE","CREATE SERVER","CREATE STATISTICS","CREATE SUBSCRIPTION","CREATE TABLESPACE","CREATE TEXT SEARCH CONFIGURATION","CREATE TEXT SEARCH DICTIONARY","CREATE TEXT SEARCH PARSER","CREATE TEXT SEARCH TEMPLATE","CREATE [OR REPLACE] TRANSFORM","CREATE [OR REPLACE] [CONSTRAINT] TRIGGER","CREATE TYPE","CREATE USER","CREATE USER MAPPING","DEALLOCATE","DECLARE","DISCARD","DROP ACCESS METHOD","DROP AGGREGATE","DROP CAST","DROP COLLATION","DROP CONVERSION","DROP DATABASE","DROP DOMAIN","DROP EVENT TRIGGER","DROP EXTENSION","DROP FOREIGN DATA WRAPPER","DROP FOREIGN TABLE","DROP FUNCTION","DROP GROUP","DROP IDENTITY","DROP INDEX","DROP LANGUAGE","DROP MATERIALIZED VIEW [IF EXISTS]","DROP OPERATOR","DROP OPERATOR CLASS","DROP OPERATOR FAMILY","DROP OWNED","DROP POLICY","DROP PROCEDURE","DROP PUBLICATION","DROP ROLE","DROP ROUTINE","DROP RULE","DROP SCHEMA","DROP SEQUENCE","DROP SERVER","DROP STATISTICS","DROP SUBSCRIPTION","DROP TABLESPACE","DROP TEXT SEARCH CONFIGURATION","DROP TEXT SEARCH DICTIONARY","DROP TEXT SEARCH PARSER","DROP TEXT SEARCH TEMPLATE","DROP TRANSFORM","DROP TRIGGER","DROP TYPE","DROP USER","DROP USER MAPPING","DROP VIEW","EXECUTE","EXPLAIN","FETCH","GRANT","IMPORT FOREIGN SCHEMA","LISTEN","LOAD","LOCK","MOVE","NOTIFY","OVERRIDING SYSTEM VALUE","PREPARE","PREPARE TRANSACTION","REASSIGN OWNED","REFRESH MATERIALIZED VIEW","REINDEX","RELEASE SAVEPOINT","RESET [ALL|ROLE|SESSION AUTHORIZATION]","REVOKE","ROLLBACK","ROLLBACK PREPARED","ROLLBACK TO SAVEPOINT","SAVEPOINT","SECURITY LABEL","SELECT INTO","SET CONSTRAINTS","SET ROLE","SET SESSION AUTHORIZATION","SET TRANSACTION","SHOW","START TRANSACTION","UNLISTEN","VACUUM"].flatMap(jU),k$={name:"postgresql",tokenizerOptions:{reservedSelect:kW,reservedClauses:[...kX,...kY,...kZ],reservedSetOperations:["UNION [ALL | DISTINCT]","EXCEPT [ALL | DISTINCT]","INTERSECT [ALL | DISTINCT]"].flatMap(jU),reservedJoins:["JOIN","{LEFT | RIGHT | FULL} [OUTER] JOIN","{INNER | CROSS} JOIN","NATURAL [INNER] JOIN","NATURAL {LEFT | RIGHT | FULL} [OUTER] JOIN"].flatMap(jU),reservedKeywordPhrases:["PRIMARY KEY","GENERATED {ALWAYS | BY DEFAULT} AS IDENTITY","ON {UPDATE | DELETE} [NO ACTION | RESTRICT | CASCADE | SET NULL | SET DEFAULT]","DO {NOTHING | UPDATE}","AS MATERIALIZED","{ROWS | RANGE | GROUPS} BETWEEN","IS [NOT] DISTINCT FROM","NULLS {FIRST | LAST}","WITH ORDINALITY"].flatMap(jU),reservedDataTypePhrases:["[TIMESTAMP | TIME] {WITH | WITHOUT} TIME ZONE"].flatMap(jU),reservedKeywords:["ALL","ANALYSE","ANALYZE","AND","ANY","AS","ASC","ASYMMETRIC","AUTHORIZATION","BETWEEN","BINARY","BOTH","CASE","CAST","CHECK","COLLATE","COLLATION","COLUMN","CONCURRENTLY","CONSTRAINT","CREATE","CROSS","CURRENT_CATALOG","CURRENT_DATE","CURRENT_ROLE","CURRENT_SCHEMA","CURRENT_TIME","CURRENT_TIMESTAMP","CURRENT_USER","DAY","DEFAULT","DEFERRABLE","DESC","DISTINCT","DO","ELSE","END","EXCEPT","EXISTS","FALSE","FETCH","FILTER","FOR","FOREIGN","FREEZE","FROM","FULL","GRANT","GROUP","HAVING","HOUR","ILIKE","IN","INITIALLY","INNER","INOUT","INTERSECT","INTO","IS","ISNULL","JOIN","LATERAL","LEADING","LEFT","LIKE","LIMIT","LOCALTIME","LOCALTIMESTAMP","MINUTE","MONTH","NATURAL","NOT","NOTNULL","NULL","NULLIF","OFFSET","ON","ONLY","OR","ORDER","OUT","OUTER","OVER","OVERLAPS","PLACING","PRIMARY","REFERENCES","RETURNING","RIGHT","ROW","SECOND","SELECT","SESSION_USER","SIMILAR","SOME","SYMMETRIC","TABLE","TABLESAMPLE","THEN","TO","TRAILING","TRUE","UNION","UNIQUE","USER","USING","VALUES","VARIADIC","VERBOSE","WHEN","WHERE","WINDOW","WITH","WITHIN","WITHOUT","YEAR"],reservedDataTypes:["ARRAY","BIGINT","BIT","BIT VARYING","BOOL","BOOLEAN","CHAR","CHARACTER","CHARACTER VARYING","DECIMAL","DEC","DOUBLE","ENUM","FLOAT","INT","INTEGER","INTERVAL","NCHAR","NUMERIC","JSON","JSONB","PRECISION","REAL","SMALLINT","TEXT","TIME","TIMESTAMP","TIMESTAMPTZ","UUID","VARCHAR","XML","ZONE"],reservedFunctionNames:["ABS","ACOS","ACOSD","ACOSH","ASIN","ASIND","ASINH","ATAN","ATAN2","ATAN2D","ATAND","ATANH","CBRT","CEIL","CEILING","COS","COSD","COSH","COT","COTD","DEGREES","DIV","EXP","FACTORIAL","FLOOR","GCD","LCM","LN","LOG","LOG10","MIN_SCALE","MOD","PI","POWER","RADIANS","RANDOM","ROUND","SCALE","SETSEED","SIGN","SIN","SIND","SINH","SQRT","TAN","TAND","TANH","TRIM_SCALE","TRUNC","WIDTH_BUCKET","ABS","ASCII","BIT_LENGTH","BTRIM","CHARACTER_LENGTH","CHAR_LENGTH","CHR","CONCAT","CONCAT_WS","FORMAT","INITCAP","LEFT","LENGTH","LOWER","LPAD","LTRIM","MD5","NORMALIZE","OCTET_LENGTH","OVERLAY","PARSE_IDENT","PG_CLIENT_ENCODING","POSITION","QUOTE_IDENT","QUOTE_LITERAL","QUOTE_NULLABLE","REGEXP_MATCH","REGEXP_MATCHES","REGEXP_REPLACE","REGEXP_SPLIT_TO_ARRAY","REGEXP_SPLIT_TO_TABLE","REPEAT","REPLACE","REVERSE","RIGHT","RPAD","RTRIM","SPLIT_PART","SPRINTF","STARTS_WITH","STRING_AGG","STRING_TO_ARRAY","STRING_TO_TABLE","STRPOS","SUBSTR","SUBSTRING","TO_ASCII","TO_HEX","TRANSLATE","TRIM","UNISTR","UPPER","BIT_COUNT","BIT_LENGTH","BTRIM","CONVERT","CONVERT_FROM","CONVERT_TO","DECODE","ENCODE","GET_BIT","GET_BYTE","LENGTH","LTRIM","MD5","OCTET_LENGTH","OVERLAY","POSITION","RTRIM","SET_BIT","SET_BYTE","SHA224","SHA256","SHA384","SHA512","STRING_AGG","SUBSTR","SUBSTRING","TRIM","BIT_COUNT","BIT_LENGTH","GET_BIT","LENGTH","OCTET_LENGTH","OVERLAY","POSITION","SET_BIT","SUBSTRING","REGEXP_MATCH","REGEXP_MATCHES","REGEXP_REPLACE","REGEXP_SPLIT_TO_ARRAY","REGEXP_SPLIT_TO_TABLE","TO_CHAR","TO_DATE","TO_NUMBER","TO_TIMESTAMP","CLOCK_TIMESTAMP","CURRENT_DATE","CURRENT_TIME","CURRENT_TIMESTAMP","DATE_BIN","DATE_PART","DATE_TRUNC","EXTRACT","ISFINITE","JUSTIFY_DAYS","JUSTIFY_HOURS","JUSTIFY_INTERVAL","LOCALTIME","LOCALTIMESTAMP","MAKE_DATE","MAKE_INTERVAL","MAKE_TIME","MAKE_TIMESTAMP","MAKE_TIMESTAMPTZ","NOW","PG_SLEEP","PG_SLEEP_FOR","PG_SLEEP_UNTIL","STATEMENT_TIMESTAMP","TIMEOFDAY","TO_TIMESTAMP","TRANSACTION_TIMESTAMP","ENUM_FIRST","ENUM_LAST","ENUM_RANGE","AREA","BOUND_BOX","BOX","CENTER","CIRCLE","DIAGONAL","DIAMETER","HEIGHT","ISCLOSED","ISOPEN","LENGTH","LINE","LSEG","NPOINTS","PATH","PCLOSE","POINT","POLYGON","POPEN","RADIUS","SLOPE","WIDTH","ABBREV","BROADCAST","FAMILY","HOST","HOSTMASK","INET_MERGE","INET_SAME_FAMILY","MACADDR8_SET7BIT","MASKLEN","NETMASK","NETWORK","SET_MASKLEN","TRUNC","ARRAY_TO_TSVECTOR","GET_CURRENT_TS_CONFIG","JSONB_TO_TSVECTOR","JSON_TO_TSVECTOR","LENGTH","NUMNODE","PHRASETO_TSQUERY","PLAINTO_TSQUERY","QUERYTREE","SETWEIGHT","STRIP","TO_TSQUERY","TO_TSVECTOR","TSQUERY_PHRASE","TSVECTOR_TO_ARRAY","TS_DEBUG","TS_DELETE","TS_FILTER","TS_HEADLINE","TS_LEXIZE","TS_PARSE","TS_RANK","TS_RANK_CD","TS_REWRITE","TS_STAT","TS_TOKEN_TYPE","WEBSEARCH_TO_TSQUERY","GEN_RANDOM_UUID","CURSOR_TO_XML","CURSOR_TO_XMLSCHEMA","DATABASE_TO_XML","DATABASE_TO_XMLSCHEMA","DATABASE_TO_XML_AND_XMLSCHEMA","NEXTVAL","QUERY_TO_XML","QUERY_TO_XMLSCHEMA","QUERY_TO_XML_AND_XMLSCHEMA","SCHEMA_TO_XML","SCHEMA_TO_XMLSCHEMA","SCHEMA_TO_XML_AND_XMLSCHEMA","STRING","TABLE_TO_XML","TABLE_TO_XMLSCHEMA","TABLE_TO_XML_AND_XMLSCHEMA","XMLAGG","XMLCOMMENT","XMLCONCAT","XMLELEMENT","XMLEXISTS","XMLFOREST","XMLPARSE","XMLPI","XMLROOT","XMLSERIALIZE","XMLTABLE","XML_IS_WELL_FORMED","XML_IS_WELL_FORMED_CONTENT","XML_IS_WELL_FORMED_DOCUMENT","XPATH","XPATH_EXISTS","ARRAY_TO_JSON","JSONB_AGG","JSONB_ARRAY_ELEMENTS","JSONB_ARRAY_ELEMENTS_TEXT","JSONB_ARRAY_LENGTH","JSONB_BUILD_ARRAY","JSONB_BUILD_OBJECT","JSONB_EACH","JSONB_EACH_TEXT","JSONB_EXTRACT_PATH","JSONB_EXTRACT_PATH_TEXT","JSONB_INSERT","JSONB_OBJECT","JSONB_OBJECT_AGG","JSONB_OBJECT_KEYS","JSONB_PATH_EXISTS","JSONB_PATH_EXISTS_TZ","JSONB_PATH_MATCH","JSONB_PATH_MATCH_TZ","JSONB_PATH_QUERY","JSONB_PATH_QUERY_ARRAY","JSONB_PATH_QUERY_ARRAY_TZ","JSONB_PATH_QUERY_FIRST","JSONB_PATH_QUERY_FIRST_TZ","JSONB_PATH_QUERY_TZ","JSONB_POPULATE_RECORD","JSONB_POPULATE_RECORDSET","JSONB_PRETTY","JSONB_SET","JSONB_SET_LAX","JSONB_STRIP_NULLS","JSONB_TO_RECORD","JSONB_TO_RECORDSET","JSONB_TYPEOF","JSON_AGG","JSON_ARRAY_ELEMENTS","JSON_ARRAY_ELEMENTS_TEXT","JSON_ARRAY_LENGTH","JSON_BUILD_ARRAY","JSON_BUILD_OBJECT","JSON_EACH","JSON_EACH_TEXT","JSON_EXTRACT_PATH","JSON_EXTRACT_PATH_TEXT","JSON_OBJECT","JSON_OBJECT_AGG","JSON_OBJECT_KEYS","JSON_POPULATE_RECORD","JSON_POPULATE_RECORDSET","JSON_STRIP_NULLS","JSON_TO_RECORD","JSON_TO_RECORDSET","JSON_TYPEOF","ROW_TO_JSON","TO_JSON","TO_JSONB","TO_TIMESTAMP","CURRVAL","LASTVAL","NEXTVAL","SETVAL","COALESCE","GREATEST","LEAST","NULLIF","ARRAY_AGG","ARRAY_APPEND","ARRAY_CAT","ARRAY_DIMS","ARRAY_FILL","ARRAY_LENGTH","ARRAY_LOWER","ARRAY_NDIMS","ARRAY_POSITION","ARRAY_POSITIONS","ARRAY_PREPEND","ARRAY_REMOVE","ARRAY_REPLACE","ARRAY_TO_STRING","ARRAY_UPPER","CARDINALITY","STRING_TO_ARRAY","TRIM_ARRAY","UNNEST","ISEMPTY","LOWER","LOWER_INC","LOWER_INF","MULTIRANGE","RANGE_MERGE","UPPER","UPPER_INC","UPPER_INF","ARRAY_AGG","AVG","BIT_AND","BIT_OR","BIT_XOR","BOOL_AND","BOOL_OR","COALESCE","CORR","COUNT","COVAR_POP","COVAR_SAMP","CUME_DIST","DENSE_RANK","EVERY","GROUPING","JSONB_AGG","JSONB_OBJECT_AGG","JSON_AGG","JSON_OBJECT_AGG","MAX","MIN","MODE","PERCENTILE_CONT","PERCENTILE_DISC","PERCENT_RANK","RANGE_AGG","RANGE_INTERSECT_AGG","RANK","REGR_AVGX","REGR_AVGY","REGR_COUNT","REGR_INTERCEPT","REGR_R2","REGR_SLOPE","REGR_SXX","REGR_SXY","REGR_SYY","STDDEV","STDDEV_POP","STDDEV_SAMP","STRING_AGG","SUM","TO_JSON","TO_JSONB","VARIANCE","VAR_POP","VAR_SAMP","XMLAGG","CUME_DIST","DENSE_RANK","FIRST_VALUE","LAG","LAST_VALUE","LEAD","NTH_VALUE","NTILE","PERCENT_RANK","RANK","ROW_NUMBER","GENERATE_SERIES","GENERATE_SUBSCRIPTS","ACLDEFAULT","ACLEXPLODE","COL_DESCRIPTION","CURRENT_CATALOG","CURRENT_DATABASE","CURRENT_QUERY","CURRENT_ROLE","CURRENT_SCHEMA","CURRENT_SCHEMAS","CURRENT_USER","FORMAT_TYPE","HAS_ANY_COLUMN_PRIVILEGE","HAS_COLUMN_PRIVILEGE","HAS_DATABASE_PRIVILEGE","HAS_FOREIGN_DATA_WRAPPER_PRIVILEGE","HAS_FUNCTION_PRIVILEGE","HAS_LANGUAGE_PRIVILEGE","HAS_SCHEMA_PRIVILEGE","HAS_SEQUENCE_PRIVILEGE","HAS_SERVER_PRIVILEGE","HAS_TABLESPACE_PRIVILEGE","HAS_TABLE_PRIVILEGE","HAS_TYPE_PRIVILEGE","INET_CLIENT_ADDR","INET_CLIENT_PORT","INET_SERVER_ADDR","INET_SERVER_PORT","MAKEACLITEM","OBJ_DESCRIPTION","PG_BACKEND_PID","PG_BLOCKING_PIDS","PG_COLLATION_IS_VISIBLE","PG_CONF_LOAD_TIME","PG_CONTROL_CHECKPOINT","PG_CONTROL_INIT","PG_CONTROL_SYSTEM","PG_CONVERSION_IS_VISIBLE","PG_CURRENT_LOGFILE","PG_CURRENT_SNAPSHOT","PG_CURRENT_XACT_ID","PG_CURRENT_XACT_ID_IF_ASSIGNED","PG_DESCRIBE_OBJECT","PG_FUNCTION_IS_VISIBLE","PG_GET_CATALOG_FOREIGN_KEYS","PG_GET_CONSTRAINTDEF","PG_GET_EXPR","PG_GET_FUNCTIONDEF","PG_GET_FUNCTION_ARGUMENTS","PG_GET_FUNCTION_IDENTITY_ARGUMENTS","PG_GET_FUNCTION_RESULT","PG_GET_INDEXDEF","PG_GET_KEYWORDS","PG_GET_OBJECT_ADDRESS","PG_GET_OWNED_SEQUENCE","PG_GET_RULEDEF","PG_GET_SERIAL_SEQUENCE","PG_GET_STATISTICSOBJDEF","PG_GET_TRIGGERDEF","PG_GET_USERBYID","PG_GET_VIEWDEF","PG_HAS_ROLE","PG_IDENTIFY_OBJECT","PG_IDENTIFY_OBJECT_AS_ADDRESS","PG_INDEXAM_HAS_PROPERTY","PG_INDEX_COLUMN_HAS_PROPERTY","PG_INDEX_HAS_PROPERTY","PG_IS_OTHER_TEMP_SCHEMA","PG_JIT_AVAILABLE","PG_LAST_COMMITTED_XACT","PG_LISTENING_CHANNELS","PG_MY_TEMP_SCHEMA","PG_NOTIFICATION_QUEUE_USAGE","PG_OPCLASS_IS_VISIBLE","PG_OPERATOR_IS_VISIBLE","PG_OPFAMILY_IS_VISIBLE","PG_OPTIONS_TO_TABLE","PG_POSTMASTER_START_TIME","PG_SAFE_SNAPSHOT_BLOCKING_PIDS","PG_SNAPSHOT_XIP","PG_SNAPSHOT_XMAX","PG_SNAPSHOT_XMIN","PG_STATISTICS_OBJ_IS_VISIBLE","PG_TABLESPACE_DATABASES","PG_TABLESPACE_LOCATION","PG_TABLE_IS_VISIBLE","PG_TRIGGER_DEPTH","PG_TS_CONFIG_IS_VISIBLE","PG_TS_DICT_IS_VISIBLE","PG_TS_PARSER_IS_VISIBLE","PG_TS_TEMPLATE_IS_VISIBLE","PG_TYPEOF","PG_TYPE_IS_VISIBLE","PG_VISIBLE_IN_SNAPSHOT","PG_XACT_COMMIT_TIMESTAMP","PG_XACT_COMMIT_TIMESTAMP_ORIGIN","PG_XACT_STATUS","PQSERVERVERSION","ROW_SECURITY_ACTIVE","SESSION_USER","SHOBJ_DESCRIPTION","TO_REGCLASS","TO_REGCOLLATION","TO_REGNAMESPACE","TO_REGOPER","TO_REGOPERATOR","TO_REGPROC","TO_REGPROCEDURE","TO_REGROLE","TO_REGTYPE","TXID_CURRENT","TXID_CURRENT_IF_ASSIGNED","TXID_CURRENT_SNAPSHOT","TXID_SNAPSHOT_XIP","TXID_SNAPSHOT_XMAX","TXID_SNAPSHOT_XMIN","TXID_STATUS","TXID_VISIBLE_IN_SNAPSHOT","USER","VERSION","BRIN_DESUMMARIZE_RANGE","BRIN_SUMMARIZE_NEW_VALUES","BRIN_SUMMARIZE_RANGE","CONVERT_FROM","CURRENT_SETTING","GIN_CLEAN_PENDING_LIST","PG_ADVISORY_LOCK","PG_ADVISORY_LOCK_SHARED","PG_ADVISORY_UNLOCK","PG_ADVISORY_UNLOCK_ALL","PG_ADVISORY_UNLOCK_SHARED","PG_ADVISORY_XACT_LOCK","PG_ADVISORY_XACT_LOCK_SHARED","PG_BACKUP_START_TIME","PG_CANCEL_BACKEND","PG_COLLATION_ACTUAL_VERSION","PG_COLUMN_COMPRESSION","PG_COLUMN_SIZE","PG_COPY_LOGICAL_REPLICATION_SLOT","PG_COPY_PHYSICAL_REPLICATION_SLOT","PG_CREATE_LOGICAL_REPLICATION_SLOT","PG_CREATE_PHYSICAL_REPLICATION_SLOT","PG_CREATE_RESTORE_POINT","PG_CURRENT_WAL_FLUSH_LSN","PG_CURRENT_WAL_INSERT_LSN","PG_CURRENT_WAL_LSN","PG_DATABASE_SIZE","PG_DROP_REPLICATION_SLOT","PG_EXPORT_SNAPSHOT","PG_FILENODE_RELATION","PG_GET_WAL_REPLAY_PAUSE_STATE","PG_IMPORT_SYSTEM_COLLATIONS","PG_INDEXES_SIZE","PG_IS_IN_BACKUP","PG_IS_IN_RECOVERY","PG_IS_WAL_REPLAY_PAUSED","PG_LAST_WAL_RECEIVE_LSN","PG_LAST_WAL_REPLAY_LSN","PG_LAST_XACT_REPLAY_TIMESTAMP","PG_LOGICAL_EMIT_MESSAGE","PG_LOGICAL_SLOT_GET_BINARY_CHANGES","PG_LOGICAL_SLOT_GET_CHANGES","PG_LOGICAL_SLOT_PEEK_BINARY_CHANGES","PG_LOGICAL_SLOT_PEEK_CHANGES","PG_LOG_BACKEND_MEMORY_CONTEXTS","PG_LS_ARCHIVE_STATUSDIR","PG_LS_DIR","PG_LS_LOGDIR","PG_LS_TMPDIR","PG_LS_WALDIR","PG_PARTITION_ANCESTORS","PG_PARTITION_ROOT","PG_PARTITION_TREE","PG_PROMOTE","PG_READ_BINARY_FILE","PG_READ_FILE","PG_RELATION_FILENODE","PG_RELATION_FILEPATH","PG_RELATION_SIZE","PG_RELOAD_CONF","PG_REPLICATION_ORIGIN_ADVANCE","PG_REPLICATION_ORIGIN_CREATE","PG_REPLICATION_ORIGIN_DROP","PG_REPLICATION_ORIGIN_OID","PG_REPLICATION_ORIGIN_PROGRESS","PG_REPLICATION_ORIGIN_SESSION_IS_SETUP","PG_REPLICATION_ORIGIN_SESSION_PROGRESS","PG_REPLICATION_ORIGIN_SESSION_RESET","PG_REPLICATION_ORIGIN_SESSION_SETUP","PG_REPLICATION_ORIGIN_XACT_RESET","PG_REPLICATION_ORIGIN_XACT_SETUP","PG_REPLICATION_SLOT_ADVANCE","PG_ROTATE_LOGFILE","PG_SIZE_BYTES","PG_SIZE_PRETTY","PG_START_BACKUP","PG_STAT_FILE","PG_STOP_BACKUP","PG_SWITCH_WAL","PG_TABLESPACE_SIZE","PG_TABLE_SIZE","PG_TERMINATE_BACKEND","PG_TOTAL_RELATION_SIZE","PG_TRY_ADVISORY_LOCK","PG_TRY_ADVISORY_LOCK_SHARED","PG_TRY_ADVISORY_XACT_LOCK","PG_TRY_ADVISORY_XACT_LOCK_SHARED","PG_WALFILE_NAME","PG_WALFILE_NAME_OFFSET","PG_WAL_LSN_DIFF","PG_WAL_REPLAY_PAUSE","PG_WAL_REPLAY_RESUME","SET_CONFIG","SUPPRESS_REDUNDANT_UPDATES_TRIGGER","TSVECTOR_UPDATE_TRIGGER","TSVECTOR_UPDATE_TRIGGER_COLUMN","PG_EVENT_TRIGGER_DDL_COMMANDS","PG_EVENT_TRIGGER_DROPPED_OBJECTS","PG_EVENT_TRIGGER_TABLE_REWRITE_OID","PG_EVENT_TRIGGER_TABLE_REWRITE_REASON","PG_GET_OBJECT_ADDRESS","PG_MCV_LIST_ITEMS","CAST"],nestedBlockComments:!0,extraParens:["[]"],underscoresInNumbers:!0,stringTypes:["$$",{quote:"''-qq",prefixes:["U&"]},{quote:"''-qq-bs",prefixes:["E"],requirePrefix:!0},{quote:"''-raw",prefixes:["B","X"],requirePrefix:!0}],identTypes:[{quote:'""-qq',prefixes:["U&"]}],identChars:{rest:"$"},paramTypes:{numbered:["$"]},operators:["%","^","|/","||/","@",":=","&","|","#","~","<<",">>","~>~","~<~","~>=~","~<=~","@-@","@@","##","<->","&&","&<","&>","<<|","&<|","|>>","|&>","<^","^>","?#","?-","?|","?-|","?||","@>","<@","~=","?","@?","?&","->","->>","#>","#>>","#-","=>",">>=","<<=","~~","~~*","!~~","!~~*","~","~*","!~","!~*","-|-","||","@@@","!!","^@","<%","%>","<<%","%>>","<<->","<->>","<<<->","<->>>","::",":","<#>","<=>","<+>","<~>","<%>"],operatorKeyword:!0},formatOptions:{alwaysDenseOperators:["::",":"],onelineClauses:[...kY,...kZ],tabularOnelineClauses:kZ}},k_=["SELECT [ALL | DISTINCT]"].flatMap(jU),k0=["WITH [RECURSIVE]","FROM","WHERE","GROUP BY","HAVING","QUALIFY","PARTITION BY","ORDER BY","LIMIT","OFFSET","INSERT INTO","VALUES","SET"].flatMap(jU),k1=["CREATE [TEMPORARY | TEMP | LOCAL TEMPORARY | LOCAL TEMP] TABLE [IF NOT EXISTS]"].flatMap(jU),k2=["CREATE [OR REPLACE | MATERIALIZED] VIEW","UPDATE","DELETE [FROM]","DROP TABLE [IF EXISTS]","ALTER TABLE","ALTER TABLE APPEND","ADD [COLUMN]","DROP [COLUMN]","RENAME TO","RENAME COLUMN","ALTER COLUMN","TYPE","ENCODE","TRUNCATE [TABLE]","ABORT","ALTER DATABASE","ALTER DATASHARE","ALTER DEFAULT PRIVILEGES","ALTER GROUP","ALTER MATERIALIZED VIEW","ALTER PROCEDURE","ALTER SCHEMA","ALTER USER","ANALYSE","ANALYZE","ANALYSE COMPRESSION","ANALYZE COMPRESSION","BEGIN","CALL","CANCEL","CLOSE","COMMIT","COPY","CREATE DATABASE","CREATE DATASHARE","CREATE EXTERNAL FUNCTION","CREATE EXTERNAL SCHEMA","CREATE EXTERNAL TABLE","CREATE FUNCTION","CREATE GROUP","CREATE LIBRARY","CREATE MODEL","CREATE PROCEDURE","CREATE SCHEMA","CREATE USER","DEALLOCATE","DECLARE","DESC DATASHARE","DROP DATABASE","DROP DATASHARE","DROP FUNCTION","DROP GROUP","DROP LIBRARY","DROP MODEL","DROP MATERIALIZED VIEW","DROP PROCEDURE","DROP SCHEMA","DROP USER","DROP VIEW","DROP","EXECUTE","EXPLAIN","FETCH","GRANT","LOCK","PREPARE","REFRESH MATERIALIZED VIEW","RESET","REVOKE","ROLLBACK","SELECT INTO","SET SESSION AUTHORIZATION","SET SESSION CHARACTERISTICS","SHOW","SHOW EXTERNAL TABLE","SHOW MODEL","SHOW DATASHARES","SHOW PROCEDURE","SHOW TABLE","SHOW VIEW","START TRANSACTION","UNLOAD","VACUUM"].flatMap(jU),k3={name:"redshift",tokenizerOptions:{reservedSelect:k_,reservedClauses:[...k0,...k1,...k2],reservedSetOperations:["UNION [ALL]","EXCEPT","INTERSECT","MINUS"].flatMap(jU),reservedJoins:["JOIN","{LEFT | RIGHT | FULL} [OUTER] JOIN","{INNER | CROSS} JOIN","NATURAL [INNER] JOIN","NATURAL {LEFT | RIGHT | FULL} [OUTER] JOIN"].flatMap(jU),reservedKeywordPhrases:["NULL AS","DATA CATALOG","HIVE METASTORE","{ROWS | RANGE} BETWEEN"].flatMap(jU),reservedDataTypePhrases:[].flatMap(jU),reservedKeywords:["AES128","AES256","ALL","ALLOWOVERWRITE","ANY","AS","ASC","AUTHORIZATION","BACKUP","BETWEEN","BINARY","BOTH","CHECK","COLUMN","CONSTRAINT","CREATE","CROSS","DEFAULT","DEFERRABLE","DEFLATE","DEFRAG","DESC","DISABLE","DISTINCT","DO","ENABLE","ENCODE","ENCRYPT","ENCRYPTION","EXPLICIT","FALSE","FOR","FOREIGN","FREEZE","FROM","FULL","GLOBALDICT256","GLOBALDICT64K","GROUP","IDENTITY","IGNORE","ILIKE","IN","INITIALLY","INNER","INTO","IS","ISNULL","LANGUAGE","LEADING","LIKE","LIMIT","LOCALTIME","LOCALTIMESTAMP","LUN","LUNS","MINUS","NATURAL","NEW","NOT","NOTNULL","NULL","NULLS","OFF","OFFLINE","OFFSET","OID","OLD","ON","ONLY","OPEN","ORDER","OUTER","OVERLAPS","PARALLEL","PARTITION","PERCENT","PERMISSIONS","PLACING","PRIMARY","RECOVER","REFERENCES","REJECTLOG","RESORT","RESPECT","RESTORE","SIMILAR","SNAPSHOT","SOME","SYSTEM","TABLE","TAG","TDES","THEN","TIMESTAMP","TO","TOP","TRAILING","TRUE","UNIQUE","USING","VERBOSE","WALLET","WITHOUT","ACCEPTANYDATE","ACCEPTINVCHARS","BLANKSASNULL","DATEFORMAT","EMPTYASNULL","ENCODING","ESCAPE","EXPLICIT_IDS","FILLRECORD","IGNOREBLANKLINES","IGNOREHEADER","REMOVEQUOTES","ROUNDEC","TIMEFORMAT","TRIMBLANKS","TRUNCATECOLUMNS","COMPROWS","COMPUPDATE","MAXERROR","NOLOAD","STATUPDATE","FORMAT","CSV","DELIMITER","FIXEDWIDTH","SHAPEFILE","AVRO","JSON","PARQUET","ORC","ACCESS_KEY_ID","CREDENTIALS","ENCRYPTED","IAM_ROLE","MASTER_SYMMETRIC_KEY","SECRET_ACCESS_KEY","SESSION_TOKEN","BZIP2","GZIP","LZOP","ZSTD","MANIFEST","READRATIO","REGION","SSH","RAW","AZ64","BYTEDICT","DELTA","DELTA32K","LZO","MOSTLY8","MOSTLY16","MOSTLY32","RUNLENGTH","TEXT255","TEXT32K","CATALOG_ROLE","SECRET_ARN","EXTERNAL","AUTO","EVEN","KEY","PREDICATE","COMPRESSION"],reservedDataTypes:["ARRAY","BIGINT","BPCHAR","CHAR","CHARACTER VARYING","CHARACTER","DECIMAL","INT","INT2","INT4","INT8","INTEGER","NCHAR","NUMERIC","NVARCHAR","SMALLINT","TEXT","VARBYTE","VARCHAR"],reservedFunctionNames:["ANY_VALUE","APPROXIMATE PERCENTILE_DISC","AVG","COUNT","LISTAGG","MAX","MEDIAN","MIN","PERCENTILE_CONT","STDDEV_SAMP","STDDEV_POP","SUM","VAR_SAMP","VAR_POP","array_concat","array_flatten","get_array_length","split_to_array","subarray","BIT_AND","BIT_OR","BOOL_AND","BOOL_OR","COALESCE","DECODE","GREATEST","LEAST","NVL","NVL2","NULLIF","ADD_MONTHS","AT TIME ZONE","CONVERT_TIMEZONE","CURRENT_DATE","CURRENT_TIME","CURRENT_TIMESTAMP","DATE_CMP","DATE_CMP_TIMESTAMP","DATE_CMP_TIMESTAMPTZ","DATE_PART_YEAR","DATEADD","DATEDIFF","DATE_PART","DATE_TRUNC","EXTRACT","GETDATE","INTERVAL_CMP","LAST_DAY","MONTHS_BETWEEN","NEXT_DAY","SYSDATE","TIMEOFDAY","TIMESTAMP_CMP","TIMESTAMP_CMP_DATE","TIMESTAMP_CMP_TIMESTAMPTZ","TIMESTAMPTZ_CMP","TIMESTAMPTZ_CMP_DATE","TIMESTAMPTZ_CMP_TIMESTAMP","TIMEZONE","TO_TIMESTAMP","TRUNC","AddBBox","DropBBox","GeometryType","ST_AddPoint","ST_Angle","ST_Area","ST_AsBinary","ST_AsEWKB","ST_AsEWKT","ST_AsGeoJSON","ST_AsText","ST_Azimuth","ST_Boundary","ST_Collect","ST_Contains","ST_ContainsProperly","ST_ConvexHull","ST_CoveredBy","ST_Covers","ST_Crosses","ST_Dimension","ST_Disjoint","ST_Distance","ST_DistanceSphere","ST_DWithin","ST_EndPoint","ST_Envelope","ST_Equals","ST_ExteriorRing","ST_Force2D","ST_Force3D","ST_Force3DM","ST_Force3DZ","ST_Force4D","ST_GeometryN","ST_GeometryType","ST_GeomFromEWKB","ST_GeomFromEWKT","ST_GeomFromText","ST_GeomFromWKB","ST_InteriorRingN","ST_Intersects","ST_IsPolygonCCW","ST_IsPolygonCW","ST_IsClosed","ST_IsCollection","ST_IsEmpty","ST_IsSimple","ST_IsValid","ST_Length","ST_LengthSphere","ST_Length2D","ST_LineFromMultiPoint","ST_LineInterpolatePoint","ST_M","ST_MakeEnvelope","ST_MakeLine","ST_MakePoint","ST_MakePolygon","ST_MemSize","ST_MMax","ST_MMin","ST_Multi","ST_NDims","ST_NPoints","ST_NRings","ST_NumGeometries","ST_NumInteriorRings","ST_NumPoints","ST_Perimeter","ST_Perimeter2D","ST_Point","ST_PointN","ST_Points","ST_Polygon","ST_RemovePoint","ST_Reverse","ST_SetPoint","ST_SetSRID","ST_Simplify","ST_SRID","ST_StartPoint","ST_Touches","ST_Within","ST_X","ST_XMax","ST_XMin","ST_Y","ST_YMax","ST_YMin","ST_Z","ST_ZMax","ST_ZMin","SupportsBBox","CHECKSUM","FUNC_SHA1","FNV_HASH","MD5","SHA","SHA1","SHA2","HLL","HLL_CREATE_SKETCH","HLL_CARDINALITY","HLL_COMBINE","IS_VALID_JSON","IS_VALID_JSON_ARRAY","JSON_ARRAY_LENGTH","JSON_EXTRACT_ARRAY_ELEMENT_TEXT","JSON_EXTRACT_PATH_TEXT","JSON_PARSE","JSON_SERIALIZE","ABS","ACOS","ASIN","ATAN","ATAN2","CBRT","CEILING","CEIL","COS","COT","DEGREES","DEXP","DLOG1","DLOG10","EXP","FLOOR","LN","LOG","MOD","PI","POWER","RADIANS","RANDOM","ROUND","SIN","SIGN","SQRT","TAN","TO_HEX","TRUNC","EXPLAIN_MODEL","ASCII","BPCHARCMP","BTRIM","BTTEXT_PATTERN_CMP","CHAR_LENGTH","CHARACTER_LENGTH","CHARINDEX","CHR","COLLATE","CONCAT","CRC32","DIFFERENCE","INITCAP","LEFT","RIGHT","LEN","LENGTH","LOWER","LPAD","RPAD","LTRIM","OCTETINDEX","OCTET_LENGTH","POSITION","QUOTE_IDENT","QUOTE_LITERAL","REGEXP_COUNT","REGEXP_INSTR","REGEXP_REPLACE","REGEXP_SUBSTR","REPEAT","REPLACE","REPLICATE","REVERSE","RTRIM","SOUNDEX","SPLIT_PART","STRPOS","STRTOL","SUBSTRING","TEXTLEN","TRANSLATE","TRIM","UPPER","decimal_precision","decimal_scale","is_array","is_bigint","is_boolean","is_char","is_decimal","is_float","is_integer","is_object","is_scalar","is_smallint","is_varchar","json_typeof","AVG","COUNT","CUME_DIST","DENSE_RANK","FIRST_VALUE","LAST_VALUE","LAG","LEAD","LISTAGG","MAX","MEDIAN","MIN","NTH_VALUE","NTILE","PERCENT_RANK","PERCENTILE_CONT","PERCENTILE_DISC","RANK","RATIO_TO_REPORT","ROW_NUMBER","STDDEV_SAMP","STDDEV_POP","SUM","VAR_SAMP","VAR_POP","CAST","CONVERT","TO_CHAR","TO_DATE","TO_NUMBER","TEXT_TO_INT_ALT","TEXT_TO_NUMERIC_ALT","CHANGE_QUERY_PRIORITY","CHANGE_SESSION_PRIORITY","CHANGE_USER_PRIORITY","CURRENT_SETTING","PG_CANCEL_BACKEND","PG_TERMINATE_BACKEND","REBOOT_CLUSTER","SET_CONFIG","CURRENT_AWS_ACCOUNT","CURRENT_DATABASE","CURRENT_NAMESPACE","CURRENT_SCHEMA","CURRENT_SCHEMAS","CURRENT_USER","CURRENT_USER_ID","HAS_ASSUMEROLE_PRIVILEGE","HAS_DATABASE_PRIVILEGE","HAS_SCHEMA_PRIVILEGE","HAS_TABLE_PRIVILEGE","PG_BACKEND_PID","PG_GET_COLS","PG_GET_GRANTEE_BY_IAM_ROLE","PG_GET_IAM_ROLE_BY_USER","PG_GET_LATE_BINDING_VIEW_COLS","PG_LAST_COPY_COUNT","PG_LAST_COPY_ID","PG_LAST_UNLOAD_ID","PG_LAST_QUERY_ID","PG_LAST_UNLOAD_COUNT","SESSION_USER","SLICE_NUM","USER","VERSION"],extraParens:["[]"],stringTypes:["''-qq"],identTypes:['""-qq'],identChars:{first:"#"},paramTypes:{numbered:["$"]},operators:["^","%","@","|/","||/","&","|","~","<<",">>","||","::"]},formatOptions:{alwaysDenseOperators:["::"],onelineClauses:[...k1,...k2],tabularOnelineClauses:k2}},k4=["SELECT [ALL | DISTINCT]"].flatMap(jU),k5=["WITH","FROM","WHERE","GROUP BY","HAVING","WINDOW","PARTITION BY","ORDER BY","SORT BY","CLUSTER BY","DISTRIBUTE BY","LIMIT","INSERT [INTO | OVERWRITE] [TABLE]","VALUES","INSERT OVERWRITE [LOCAL] DIRECTORY","LOAD DATA [LOCAL] INPATH","[OVERWRITE] INTO TABLE"].flatMap(jU),k6=["CREATE [EXTERNAL] TABLE [IF NOT EXISTS]"].flatMap(jU),k7=["CREATE [OR REPLACE] [GLOBAL TEMPORARY | TEMPORARY] VIEW [IF NOT EXISTS]","DROP TABLE [IF EXISTS]","ALTER TABLE","ADD COLUMNS","DROP {COLUMN | COLUMNS}","RENAME TO","RENAME COLUMN","ALTER COLUMN","TRUNCATE TABLE","LATERAL VIEW","ALTER DATABASE","ALTER VIEW","CREATE DATABASE","CREATE FUNCTION","DROP DATABASE","DROP FUNCTION","DROP VIEW","REPAIR TABLE","USE DATABASE","TABLESAMPLE","PIVOT","TRANSFORM","EXPLAIN","ADD FILE","ADD JAR","ANALYZE TABLE","CACHE TABLE","CLEAR CACHE","DESCRIBE DATABASE","DESCRIBE FUNCTION","DESCRIBE QUERY","DESCRIBE TABLE","LIST FILE","LIST JAR","REFRESH","REFRESH TABLE","REFRESH FUNCTION","RESET","SHOW COLUMNS","SHOW CREATE TABLE","SHOW DATABASES","SHOW FUNCTIONS","SHOW PARTITIONS","SHOW TABLE EXTENDED","SHOW TABLES","SHOW TBLPROPERTIES","SHOW VIEWS","UNCACHE TABLE"].flatMap(jU),k8={name:"spark",tokenizerOptions:{reservedSelect:k4,reservedClauses:[...k5,...k6,...k7],reservedSetOperations:["UNION [ALL | DISTINCT]","EXCEPT [ALL | DISTINCT]","INTERSECT [ALL | DISTINCT]"].flatMap(jU),reservedJoins:["JOIN","{LEFT | RIGHT | FULL} [OUTER] JOIN","{INNER | CROSS} JOIN","NATURAL [INNER] JOIN","NATURAL {LEFT | RIGHT | FULL} [OUTER] JOIN","[LEFT] {ANTI | SEMI} JOIN","NATURAL [LEFT] {ANTI | SEMI} JOIN"].flatMap(jU),reservedKeywordPhrases:["ON DELETE","ON UPDATE","CURRENT ROW","{ROWS | RANGE} BETWEEN"].flatMap(jU),reservedDataTypePhrases:[].flatMap(jU),supportsXor:!0,reservedKeywords:["ADD","AFTER","ALL","ALTER","ANALYZE","AND","ANTI","ANY","ARCHIVE","AS","ASC","AT","AUTHORIZATION","BETWEEN","BOTH","BUCKET","BUCKETS","BY","CACHE","CASCADE","CAST","CHANGE","CHECK","CLEAR","CLUSTER","CLUSTERED","CODEGEN","COLLATE","COLLECTION","COLUMN","COLUMNS","COMMENT","COMMIT","COMPACT","COMPACTIONS","COMPUTE","CONCATENATE","CONSTRAINT","COST","CREATE","CROSS","CUBE","CURRENT","CURRENT_DATE","CURRENT_TIME","CURRENT_TIMESTAMP","CURRENT_USER","DATA","DATABASE","DATABASES","DAY","DBPROPERTIES","DEFINED","DELETE","DELIMITED","DESC","DESCRIBE","DFS","DIRECTORIES","DIRECTORY","DISTINCT","DISTRIBUTE","DIV","DROP","ESCAPE","ESCAPED","EXCEPT","EXCHANGE","EXISTS","EXPORT","EXTENDED","EXTERNAL","EXTRACT","FALSE","FETCH","FIELDS","FILTER","FILEFORMAT","FIRST","FIRST_VALUE","FOLLOWING","FOR","FOREIGN","FORMAT","FORMATTED","FULL","FUNCTION","FUNCTIONS","GLOBAL","GRANT","GROUP","GROUPING","HOUR","IF","IGNORE","IMPORT","IN","INDEX","INDEXES","INNER","INPATH","INPUTFORMAT","INTERSECT","INTO","IS","ITEMS","KEYS","LAST","LAST_VALUE","LATERAL","LAZY","LEADING","LEFT","LIKE","LINES","LIST","LOCAL","LOCATION","LOCK","LOCKS","LOGICAL","MACRO","MATCHED","MERGE","MINUTE","MONTH","MSCK","NAMESPACE","NAMESPACES","NATURAL","NO","NOT","NULL","NULLS","OF","ONLY","OPTION","OPTIONS","OR","ORDER","OUT","OUTER","OUTPUTFORMAT","OVER","OVERLAPS","OVERLAY","OVERWRITE","OWNER","PARTITION","PARTITIONED","PARTITIONS","PERCENT","PLACING","POSITION","PRECEDING","PRIMARY","PRINCIPALS","PROPERTIES","PURGE","QUERY","RANGE","RECORDREADER","RECORDWRITER","RECOVER","REDUCE","REFERENCES","RENAME","REPAIR","REPLACE","RESPECT","RESTRICT","REVOKE","RIGHT","RLIKE","ROLE","ROLES","ROLLBACK","ROLLUP","ROW","ROWS","SCHEMA","SECOND","SELECT","SEMI","SEPARATED","SERDE","SERDEPROPERTIES","SESSION_USER","SETS","SHOW","SKEWED","SOME","SORT","SORTED","START","STATISTICS","STORED","STRATIFY","SUBSTR","SUBSTRING","TABLE","TABLES","TBLPROPERTIES","TEMPORARY","TERMINATED","THEN","TO","TOUCH","TRAILING","TRANSACTION","TRANSACTIONS","TRIM","TRUE","TRUNCATE","UNARCHIVE","UNBOUNDED","UNCACHE","UNIQUE","UNKNOWN","UNLOCK","UNSET","USE","USER","USING","VIEW","WINDOW","YEAR","ANALYSE","ARRAY_ZIP","COALESCE","CONTAINS","CONVERT","DAYS","DAY_HOUR","DAY_MINUTE","DAY_SECOND","DECODE","DEFAULT","DISTINCTROW","ENCODE","EXPLODE","EXPLODE_OUTER","FIXED","GREATEST","GROUP_CONCAT","HOURS","HOUR_MINUTE","HOUR_SECOND","IFNULL","LEAST","LEVEL","MINUTE_SECOND","NULLIF","OFFSET","ON","OPTIMIZE","REGEXP","SEPARATOR","SIZE","TYPE","TYPES","UNSIGNED","VARIABLES","YEAR_MONTH"],reservedDataTypes:["ARRAY","BIGINT","BINARY","BOOLEAN","BYTE","CHAR","DATE","DEC","DECIMAL","DOUBLE","FLOAT","INT","INTEGER","INTERVAL","LONG","MAP","NUMERIC","REAL","SHORT","SMALLINT","STRING","STRUCT","TIMESTAMP_LTZ","TIMESTAMP_NTZ","TIMESTAMP","TINYINT","VARCHAR"],reservedFunctionNames:["APPROX_COUNT_DISTINCT","APPROX_PERCENTILE","AVG","BIT_AND","BIT_OR","BIT_XOR","BOOL_AND","BOOL_OR","COLLECT_LIST","COLLECT_SET","CORR","COUNT","COUNT","COUNT","COUNT_IF","COUNT_MIN_SKETCH","COVAR_POP","COVAR_SAMP","EVERY","FIRST","FIRST_VALUE","GROUPING","GROUPING_ID","KURTOSIS","LAST","LAST_VALUE","MAX","MAX_BY","MEAN","MIN","MIN_BY","PERCENTILE","PERCENTILE","PERCENTILE_APPROX","SKEWNESS","STD","STDDEV","STDDEV_POP","STDDEV_SAMP","SUM","VAR_POP","VAR_SAMP","VARIANCE","CUME_DIST","DENSE_RANK","LAG","LEAD","NTH_VALUE","NTILE","PERCENT_RANK","RANK","ROW_NUMBER","ARRAY","ARRAY_CONTAINS","ARRAY_DISTINCT","ARRAY_EXCEPT","ARRAY_INTERSECT","ARRAY_JOIN","ARRAY_MAX","ARRAY_MIN","ARRAY_POSITION","ARRAY_REMOVE","ARRAY_REPEAT","ARRAY_UNION","ARRAYS_OVERLAP","ARRAYS_ZIP","FLATTEN","SEQUENCE","SHUFFLE","SLICE","SORT_ARRAY","ELEMENT_AT","ELEMENT_AT","MAP_CONCAT","MAP_ENTRIES","MAP_FROM_ARRAYS","MAP_FROM_ENTRIES","MAP_KEYS","MAP_VALUES","STR_TO_MAP","ADD_MONTHS","CURRENT_DATE","CURRENT_DATE","CURRENT_TIMESTAMP","CURRENT_TIMESTAMP","CURRENT_TIMEZONE","DATE_ADD","DATE_FORMAT","DATE_FROM_UNIX_DATE","DATE_PART","DATE_SUB","DATE_TRUNC","DATEDIFF","DAY","DAYOFMONTH","DAYOFWEEK","DAYOFYEAR","EXTRACT","FROM_UNIXTIME","FROM_UTC_TIMESTAMP","HOUR","LAST_DAY","MAKE_DATE","MAKE_DT_INTERVAL","MAKE_INTERVAL","MAKE_TIMESTAMP","MAKE_YM_INTERVAL","MINUTE","MONTH","MONTHS_BETWEEN","NEXT_DAY","NOW","QUARTER","SECOND","SESSION_WINDOW","TIMESTAMP_MICROS","TIMESTAMP_MILLIS","TIMESTAMP_SECONDS","TO_DATE","TO_TIMESTAMP","TO_UNIX_TIMESTAMP","TO_UTC_TIMESTAMP","TRUNC","UNIX_DATE","UNIX_MICROS","UNIX_MILLIS","UNIX_SECONDS","UNIX_TIMESTAMP","WEEKDAY","WEEKOFYEAR","WINDOW","YEAR","FROM_JSON","GET_JSON_OBJECT","JSON_ARRAY_LENGTH","JSON_OBJECT_KEYS","JSON_TUPLE","SCHEMA_OF_JSON","TO_JSON","ABS","ACOS","ACOSH","AGGREGATE","ARRAY_SORT","ASCII","ASIN","ASINH","ASSERT_TRUE","ATAN","ATAN2","ATANH","BASE64","BIN","BIT_COUNT","BIT_GET","BIT_LENGTH","BROUND","BTRIM","CARDINALITY","CBRT","CEIL","CEILING","CHAR_LENGTH","CHARACTER_LENGTH","CHR","CONCAT","CONCAT_WS","CONV","COS","COSH","COT","CRC32","CURRENT_CATALOG","CURRENT_DATABASE","CURRENT_USER","DEGREES","ELT","EXP","EXPM1","FACTORIAL","FIND_IN_SET","FLOOR","FORALL","FORMAT_NUMBER","FORMAT_STRING","FROM_CSV","GETBIT","HASH","HEX","HYPOT","INITCAP","INLINE","INLINE_OUTER","INPUT_FILE_BLOCK_LENGTH","INPUT_FILE_BLOCK_START","INPUT_FILE_NAME","INSTR","ISNAN","ISNOTNULL","ISNULL","JAVA_METHOD","LCASE","LEFT","LENGTH","LEVENSHTEIN","LN","LOCATE","LOG","LOG10","LOG1P","LOG2","LOWER","LPAD","LTRIM","MAP_FILTER","MAP_ZIP_WITH","MD5","MOD","MONOTONICALLY_INCREASING_ID","NAMED_STRUCT","NANVL","NEGATIVE","NVL","NVL2","OCTET_LENGTH","OVERLAY","PARSE_URL","PI","PMOD","POSEXPLODE","POSEXPLODE_OUTER","POSITION","POSITIVE","POW","POWER","PRINTF","RADIANS","RAISE_ERROR","RAND","RANDN","RANDOM","REFLECT","REGEXP_EXTRACT","REGEXP_EXTRACT_ALL","REGEXP_LIKE","REGEXP_REPLACE","REPEAT","REPLACE","REVERSE","RIGHT","RINT","ROUND","RPAD","RTRIM","SCHEMA_OF_CSV","SENTENCES","SHA","SHA1","SHA2","SHIFTLEFT","SHIFTRIGHT","SHIFTRIGHTUNSIGNED","SIGN","SIGNUM","SIN","SINH","SOUNDEX","SPACE","SPARK_PARTITION_ID","SPLIT","SQRT","STACK","SUBSTR","SUBSTRING","SUBSTRING_INDEX","TAN","TANH","TO_CSV","TRANSFORM_KEYS","TRANSFORM_VALUES","TRANSLATE","TRIM","TRY_ADD","TRY_DIVIDE","TYPEOF","UCASE","UNBASE64","UNHEX","UPPER","UUID","VERSION","WIDTH_BUCKET","XPATH","XPATH_BOOLEAN","XPATH_DOUBLE","XPATH_FLOAT","XPATH_INT","XPATH_LONG","XPATH_NUMBER","XPATH_SHORT","XPATH_STRING","XXHASH64","ZIP_WITH","CAST","COALESCE","NULLIF"],extraParens:["[]"],stringTypes:["''-bs",'""-bs',{quote:"''-raw",prefixes:["R","X"],requirePrefix:!0},{quote:'""-raw',prefixes:["R","X"],requirePrefix:!0}],identTypes:["``"],identChars:{allowFirstCharNumber:!0},variableTypes:[{quote:"{}",prefixes:["$"],requirePrefix:!0}],operators:["%","~","^","|","&","<=>","==","!","||","->"],postProcess:function(a){return a.map((b,c)=>{let d=a[c-1]||j3,e=a[c+1]||j3;return j5.WINDOW(b)&&e.type===s.OPEN_PAREN?Object.assign(Object.assign({},b),{type:s.RESERVED_FUNCTION_NAME}):"ITEMS"===b.text&&b.type===s.RESERVED_KEYWORD&&("COLLECTION"!==d.text||"TERMINATED"!==e.text)?Object.assign(Object.assign({},b),{type:s.IDENTIFIER,text:b.raw}):b})}},formatOptions:{onelineClauses:[...k6,...k7],tabularOnelineClauses:k7}},k9=["SELECT [ALL | DISTINCT]"].flatMap(jU),la=["WITH [RECURSIVE]","FROM","WHERE","GROUP BY","HAVING","WINDOW","PARTITION BY","ORDER BY","LIMIT","OFFSET","INSERT [OR ABORT | OR FAIL | OR IGNORE | OR REPLACE | OR ROLLBACK] INTO","REPLACE INTO","VALUES","SET","RETURNING"].flatMap(jU),lb=["CREATE [TEMPORARY | TEMP] TABLE [IF NOT EXISTS]"].flatMap(jU),lc=["CREATE [TEMPORARY | TEMP] VIEW [IF NOT EXISTS]","UPDATE [OR ABORT | OR FAIL | OR IGNORE | OR REPLACE | OR ROLLBACK]","ON CONFLICT","DELETE FROM","DROP TABLE [IF EXISTS]","ALTER TABLE","ADD [COLUMN]","DROP [COLUMN]","RENAME [COLUMN]","RENAME TO","SET SCHEMA"].flatMap(jU),ld={name:"sqlite",tokenizerOptions:{reservedSelect:k9,reservedClauses:[...la,...lb,...lc],reservedSetOperations:["UNION [ALL]","EXCEPT","INTERSECT"].flatMap(jU),reservedJoins:["JOIN","{LEFT | RIGHT | FULL} [OUTER] JOIN","{INNER | CROSS} JOIN","NATURAL [INNER] JOIN","NATURAL {LEFT | RIGHT | FULL} [OUTER] JOIN"].flatMap(jU),reservedKeywordPhrases:["ON {UPDATE | DELETE} [SET NULL | SET DEFAULT]","{ROWS | RANGE | GROUPS} BETWEEN","DO UPDATE"].flatMap(jU),reservedDataTypePhrases:[].flatMap(jU),reservedKeywords:["ABORT","ACTION","ADD","AFTER","ALL","ALTER","AND","ARE","ALWAYS","ANALYZE","AS","ASC","ATTACH","AUTOINCREMENT","BEFORE","BEGIN","BETWEEN","BY","CASCADE","CASE","CAST","CHECK","COLLATE","COLUMN","COMMIT","CONFLICT","CONSTRAINT","CREATE","CROSS","CURRENT","CURRENT_DATE","CURRENT_TIME","CURRENT_TIMESTAMP","DATABASE","DEFAULT","DEFERRABLE","DEFERRED","DELETE","DESC","DETACH","DISTINCT","DO","DROP","EACH","ELSE","END","ESCAPE","EXCEPT","EXCLUDE","EXCLUSIVE","EXISTS","EXPLAIN","FAIL","FILTER","FIRST","FOLLOWING","FOR","FOREIGN","FROM","FULL","GENERATED","GLOB","GROUP","HAVING","IF","IGNORE","IMMEDIATE","IN","INDEX","INDEXED","INITIALLY","INNER","INSERT","INSTEAD","INTERSECT","INTO","IS","ISNULL","JOIN","KEY","LAST","LEFT","LIKE","LIMIT","MATCH","MATERIALIZED","NATURAL","NO","NOT","NOTHING","NOTNULL","NULL","NULLS","OF","OFFSET","ON","ONLY","OPEN","OR","ORDER","OTHERS","OUTER","OVER","PARTITION","PLAN","PRAGMA","PRECEDING","PRIMARY","QUERY","RAISE","RANGE","RECURSIVE","REFERENCES","REGEXP","REINDEX","RELEASE","RENAME","REPLACE","RESTRICT","RETURNING","RIGHT","ROLLBACK","ROW","ROWS","SAVEPOINT","SELECT","SET","TABLE","TEMP","TEMPORARY","THEN","TIES","TO","TRANSACTION","TRIGGER","UNBOUNDED","UNION","UNIQUE","UPDATE","USING","VACUUM","VALUES","VIEW","VIRTUAL","WHEN","WHERE","WINDOW","WITH","WITHOUT"],reservedDataTypes:["ANY","ARRAY","BLOB","CHARACTER","DECIMAL","INT","INTEGER","NATIVE CHARACTER","NCHAR","NUMERIC","NVARCHAR","REAL","TEXT","VARCHAR","VARYING CHARACTER"],reservedFunctionNames:["ABS","CHANGES","CHAR","COALESCE","FORMAT","GLOB","HEX","IFNULL","IIF","INSTR","LAST_INSERT_ROWID","LENGTH","LIKE","LIKELIHOOD","LIKELY","LOAD_EXTENSION","LOWER","LTRIM","NULLIF","PRINTF","QUOTE","RANDOM","RANDOMBLOB","REPLACE","ROUND","RTRIM","SIGN","SOUNDEX","SQLITE_COMPILEOPTION_GET","SQLITE_COMPILEOPTION_USED","SQLITE_OFFSET","SQLITE_SOURCE_ID","SQLITE_VERSION","SUBSTR","SUBSTRING","TOTAL_CHANGES","TRIM","TYPEOF","UNICODE","UNLIKELY","UPPER","ZEROBLOB","AVG","COUNT","GROUP_CONCAT","MAX","MIN","SUM","TOTAL","DATE","TIME","DATETIME","JULIANDAY","UNIXEPOCH","STRFTIME","row_number","rank","dense_rank","percent_rank","cume_dist","ntile","lag","lead","first_value","last_value","nth_value","ACOS","ACOSH","ASIN","ASINH","ATAN","ATAN2","ATANH","CEIL","CEILING","COS","COSH","DEGREES","EXP","FLOOR","LN","LOG","LOG","LOG10","LOG2","MOD","PI","POW","POWER","RADIANS","SIN","SINH","SQRT","TAN","TANH","TRUNC","JSON","JSON_ARRAY","JSON_ARRAY_LENGTH","JSON_ARRAY_LENGTH","JSON_EXTRACT","JSON_INSERT","JSON_OBJECT","JSON_PATCH","JSON_REMOVE","JSON_REPLACE","JSON_SET","JSON_TYPE","JSON_TYPE","JSON_VALID","JSON_QUOTE","JSON_GROUP_ARRAY","JSON_GROUP_OBJECT","JSON_EACH","JSON_TREE","CAST"],stringTypes:["''-qq",{quote:"''-raw",prefixes:["X"],requirePrefix:!0}],identTypes:['""-qq',"``","[]"],paramTypes:{positional:!0,numbered:["?"],named:[":","@","$"]},operators:["%","~","&","|","<<",">>","==","->","->>","||"]},formatOptions:{onelineClauses:[...lb,...lc],tabularOnelineClauses:lc}},le=["SELECT [ALL | DISTINCT]"].flatMap(jU),lf=["WITH [RECURSIVE]","FROM","WHERE","GROUP BY [ALL | DISTINCT]","HAVING","WINDOW","PARTITION BY","ORDER BY","LIMIT","OFFSET","FETCH {FIRST | NEXT}","INSERT INTO","VALUES","SET"].flatMap(jU),lg=["CREATE [GLOBAL TEMPORARY | LOCAL TEMPORARY] TABLE"].flatMap(jU),lh=["CREATE [RECURSIVE] VIEW","UPDATE","WHERE CURRENT OF","DELETE FROM","DROP TABLE","ALTER TABLE","ADD COLUMN","DROP [COLUMN]","RENAME COLUMN","RENAME TO","ALTER [COLUMN]","{SET | DROP} DEFAULT","ADD SCOPE","DROP SCOPE {CASCADE | RESTRICT}","RESTART WITH","TRUNCATE TABLE","SET SCHEMA"].flatMap(jU),li={name:"sql",tokenizerOptions:{reservedSelect:le,reservedClauses:[...lf,...lg,...lh],reservedSetOperations:["UNION [ALL | DISTINCT]","EXCEPT [ALL | DISTINCT]","INTERSECT [ALL | DISTINCT]"].flatMap(jU),reservedJoins:["JOIN","{LEFT | RIGHT | FULL} [OUTER] JOIN","{INNER | CROSS} JOIN","NATURAL [INNER] JOIN","NATURAL {LEFT | RIGHT | FULL} [OUTER] JOIN"].flatMap(jU),reservedKeywordPhrases:["ON {UPDATE | DELETE} [SET NULL | SET DEFAULT]","{ROWS | RANGE} BETWEEN"].flatMap(jU),reservedDataTypePhrases:[].flatMap(jU),reservedKeywords:["ALL","ALLOCATE","ALTER","ANY","ARE","AS","ASC","ASENSITIVE","ASYMMETRIC","AT","ATOMIC","AUTHORIZATION","BEGIN","BETWEEN","BOTH","BY","CALL","CALLED","CASCADED","CAST","CHECK","CLOSE","COALESCE","COLLATE","COLUMN","COMMIT","CONDITION","CONNECT","CONSTRAINT","CORRESPONDING","CREATE","CROSS","CUBE","CURRENT","CURRENT_CATALOG","CURRENT_DEFAULT_TRANSFORM_GROUP","CURRENT_PATH","CURRENT_ROLE","CURRENT_SCHEMA","CURRENT_TRANSFORM_GROUP_FOR_TYPE","CURRENT_USER","CURSOR","CYCLE","DEALLOCATE","DAY","DECLARE","DEFAULT","DELETE","DEREF","DESC","DESCRIBE","DETERMINISTIC","DISCONNECT","DISTINCT","DROP","DYNAMIC","EACH","ELEMENT","END-EXEC","ESCAPE","EVERY","EXCEPT","EXEC","EXECUTE","EXISTS","EXTERNAL","FALSE","FETCH","FILTER","FOR","FOREIGN","FREE","FROM","FULL","FUNCTION","GET","GLOBAL","GRANT","GROUP","HAVING","HOLD","HOUR","IDENTITY","IN","INDICATOR","INNER","INOUT","INSENSITIVE","INSERT","INTERSECT","INTO","IS","LANGUAGE","LARGE","LATERAL","LEADING","LEFT","LIKE","LIKE_REGEX","LOCAL","MATCH","MEMBER","MERGE","METHOD","MINUTE","MODIFIES","MODULE","MONTH","NATURAL","NEW","NO","NONE","NOT","NULL","NULLIF","OF","OLD","ON","ONLY","OPEN","ORDER","OUT","OUTER","OVER","OVERLAPS","PARAMETER","PARTITION","PRECISION","PREPARE","PRIMARY","PROCEDURE","RANGE","READS","REAL","RECURSIVE","REF","REFERENCES","REFERENCING","RELEASE","RESULT","RETURN","RETURNS","REVOKE","RIGHT","ROLLBACK","ROLLUP","ROW","ROWS","SAVEPOINT","SCOPE","SCROLL","SEARCH","SECOND","SELECT","SENSITIVE","SESSION_USER","SET","SIMILAR","SOME","SPECIFIC","SQL","SQLEXCEPTION","SQLSTATE","SQLWARNING","START","STATIC","SUBMULTISET","SYMMETRIC","SYSTEM","SYSTEM_USER","TABLE","TABLESAMPLE","THEN","TIMEZONE_HOUR","TIMEZONE_MINUTE","TO","TRAILING","TRANSLATION","TREAT","TRIGGER","TRUE","UESCAPE","UNION","UNIQUE","UNKNOWN","UNNEST","UPDATE","USER","USING","VALUE","VALUES","WHENEVER","WINDOW","WITHIN","WITHOUT","YEAR"],reservedDataTypes:["ARRAY","BIGINT","BINARY LARGE OBJECT","BINARY VARYING","BINARY","BLOB","BOOLEAN","CHAR LARGE OBJECT","CHAR VARYING","CHAR","CHARACTER LARGE OBJECT","CHARACTER VARYING","CHARACTER","CLOB","DATE","DEC","DECIMAL","DOUBLE","FLOAT","INT","INTEGER","INTERVAL","MULTISET","NATIONAL CHAR VARYING","NATIONAL CHAR","NATIONAL CHARACTER LARGE OBJECT","NATIONAL CHARACTER VARYING","NATIONAL CHARACTER","NCHAR LARGE OBJECT","NCHAR VARYING","NCHAR","NCLOB","NUMERIC","SMALLINT","TIME","TIMESTAMP","VARBINARY","VARCHAR"],reservedFunctionNames:["GROUPING","RANK","DENSE_RANK","PERCENT_RANK","CUME_DIST","ROW_NUMBER","POSITION","OCCURRENCES_REGEX","POSITION_REGEX","EXTRACT","CHAR_LENGTH","CHARACTER_LENGTH","OCTET_LENGTH","CARDINALITY","ABS","MOD","LN","EXP","POWER","SQRT","FLOOR","CEIL","CEILING","WIDTH_BUCKET","SUBSTRING","SUBSTRING_REGEX","UPPER","LOWER","CONVERT","TRANSLATE","TRANSLATE_REGEX","TRIM","OVERLAY","NORMALIZE","SPECIFICTYPE","CURRENT_DATE","CURRENT_TIME","LOCALTIME","CURRENT_TIMESTAMP","LOCALTIMESTAMP","COUNT","AVG","MAX","MIN","SUM","STDDEV_POP","STDDEV_SAMP","VAR_SAMP","VAR_POP","COLLECT","FUSION","INTERSECTION","COVAR_POP","COVAR_SAMP","CORR","REGR_SLOPE","REGR_INTERCEPT","REGR_COUNT","REGR_R2","REGR_AVGX","REGR_AVGY","REGR_SXX","REGR_SYY","REGR_SXY","PERCENTILE_CONT","PERCENTILE_DISC","CAST","COALESCE","NULLIF","ROUND","SIN","COS","TAN","ASIN","ACOS","ATAN"],stringTypes:[{quote:"''-qq-bs",prefixes:["N","U&"]},{quote:"''-raw",prefixes:["X"],requirePrefix:!0}],identTypes:['""-qq',"``"],paramTypes:{positional:!0},operators:["||"]},formatOptions:{onelineClauses:[...lg,...lh],tabularOnelineClauses:lh}},lj=["SELECT [ALL | DISTINCT]"].flatMap(jU),lk=["WITH [RECURSIVE]","FROM","WHERE","GROUP BY [ALL | DISTINCT]","HAVING","WINDOW","PARTITION BY","ORDER BY","LIMIT","OFFSET","FETCH {FIRST | NEXT}","INSERT INTO","VALUES","SET","MATCH_RECOGNIZE","MEASURES","ONE ROW PER MATCH","ALL ROWS PER MATCH","AFTER MATCH","PATTERN","SUBSET","DEFINE"].flatMap(jU),ll=["CREATE TABLE [IF NOT EXISTS]"].flatMap(jU),lm=["CREATE [OR REPLACE] [MATERIALIZED] VIEW","UPDATE","DELETE FROM","DROP TABLE [IF EXISTS]","ALTER TABLE [IF EXISTS]","ADD COLUMN [IF NOT EXISTS]","DROP COLUMN [IF EXISTS]","RENAME COLUMN [IF EXISTS]","RENAME TO","SET AUTHORIZATION [USER | ROLE]","SET PROPERTIES","EXECUTE","TRUNCATE TABLE","ALTER SCHEMA","ALTER MATERIALIZED VIEW","ALTER VIEW","CREATE SCHEMA","CREATE ROLE","DROP SCHEMA","DROP MATERIALIZED VIEW","DROP VIEW","DROP ROLE","EXPLAIN","ANALYZE","EXPLAIN ANALYZE","EXPLAIN ANALYZE VERBOSE","USE","DESCRIBE INPUT","DESCRIBE OUTPUT","REFRESH MATERIALIZED VIEW","RESET SESSION","SET SESSION","SET PATH","SET TIME ZONE","SHOW GRANTS","SHOW CREATE TABLE","SHOW CREATE SCHEMA","SHOW CREATE VIEW","SHOW CREATE MATERIALIZED VIEW","SHOW TABLES","SHOW SCHEMAS","SHOW CATALOGS","SHOW COLUMNS","SHOW STATS FOR","SHOW ROLES","SHOW CURRENT ROLES","SHOW ROLE GRANTS","SHOW FUNCTIONS","SHOW SESSION"].flatMap(jU),ln={name:"trino",tokenizerOptions:{reservedSelect:lj,reservedClauses:[...lk,...ll,...lm],reservedSetOperations:["UNION [ALL | DISTINCT]","EXCEPT [ALL | DISTINCT]","INTERSECT [ALL | DISTINCT]"].flatMap(jU),reservedJoins:["JOIN","{LEFT | RIGHT | FULL} [OUTER] JOIN","{INNER | CROSS} JOIN","NATURAL [INNER] JOIN","NATURAL {LEFT | RIGHT | FULL} [OUTER] JOIN"].flatMap(jU),reservedKeywordPhrases:["{ROWS | RANGE | GROUPS} BETWEEN","IS [NOT] DISTINCT FROM"].flatMap(jU),reservedDataTypePhrases:[].flatMap(jU),reservedKeywords:["ABSENT","ADD","ADMIN","AFTER","ALL","ALTER","ANALYZE","AND","ANY","AS","ASC","AT","AUTHORIZATION","BERNOULLI","BETWEEN","BOTH","BY","CALL","CASCADE","CASE","CATALOGS","COLUMN","COLUMNS","COMMENT","COMMIT","COMMITTED","CONDITIONAL","CONSTRAINT","COPARTITION","CREATE","CROSS","CUBE","CURRENT","CURRENT_PATH","CURRENT_ROLE","DATA","DEALLOCATE","DEFAULT","DEFINE","DEFINER","DELETE","DENY","DESC","DESCRIBE","DESCRIPTOR","DISTINCT","DISTRIBUTED","DOUBLE","DROP","ELSE","EMPTY","ENCODING","END","ERROR","ESCAPE","EXCEPT","EXCLUDING","EXECUTE","EXISTS","EXPLAIN","FALSE","FETCH","FINAL","FIRST","FOLLOWING","FOR","FROM","FULL","FUNCTIONS","GRANT","GRANTED","GRANTS","GRAPHVIZ","GROUP","GROUPING","GROUPS","HAVING","IGNORE","IN","INCLUDING","INITIAL","INNER","INPUT","INSERT","INTERSECT","INTERVAL","INTO","INVOKER","IO","IS","ISOLATION","JOIN","JSON","JSON_ARRAY","JSON_OBJECT","KEEP","KEY","KEYS","LAST","LATERAL","LEADING","LEFT","LEVEL","LIKE","LIMIT","LOCAL","LOGICAL","MATCH","MATCHED","MATCHES","MATCH_RECOGNIZE","MATERIALIZED","MEASURES","NATURAL","NEXT","NFC","NFD","NFKC","NFKD","NO","NONE","NOT","NULL","NULLS","OBJECT","OF","OFFSET","OMIT","ON","ONE","ONLY","OPTION","OR","ORDER","ORDINALITY","OUTER","OUTPUT","OVER","OVERFLOW","PARTITION","PARTITIONS","PASSING","PAST","PATH","PATTERN","PER","PERMUTE","PRECEDING","PRECISION","PREPARE","PRIVILEGES","PROPERTIES","PRUNE","QUOTES","RANGE","READ","RECURSIVE","REFRESH","RENAME","REPEATABLE","RESET","RESPECT","RESTRICT","RETURNING","REVOKE","RIGHT","ROLE","ROLES","ROLLBACK","ROLLUP","ROW","ROWS","RUNNING","SCALAR","SCHEMA","SCHEMAS","SECURITY","SEEK","SELECT","SERIALIZABLE","SESSION","SET","SETS","SHOW","SKIP","SOME","START","STATS","STRING","SUBSET","SYSTEM","TABLE","TABLES","TABLESAMPLE","TEXT","THEN","TIES","TIME","TIMESTAMP","TO","TRAILING","TRANSACTION","TRUE","TYPE","UESCAPE","UNBOUNDED","UNCOMMITTED","UNCONDITIONAL","UNION","UNIQUE","UNKNOWN","UNMATCHED","UNNEST","UPDATE","USE","USER","USING","UTF16","UTF32","UTF8","VALIDATE","VALUE","VALUES","VERBOSE","VIEW","WHEN","WHERE","WINDOW","WITH","WITHIN","WITHOUT","WORK","WRAPPER","WRITE","ZONE"],reservedDataTypes:["BIGINT","INT","INTEGER","SMALLINT","TINYINT","BOOLEAN","DATE","DECIMAL","REAL","DOUBLE","HYPERLOGLOG","QDIGEST","TDIGEST","P4HYPERLOGLOG","INTERVAL","TIMESTAMP","TIME","VARBINARY","VARCHAR","CHAR","ROW","ARRAY","MAP","JSON","JSON2016","IPADDRESS","GEOMETRY","UUID","SETDIGEST","JONIREGEXP","RE2JREGEXP","LIKEPATTERN","COLOR","CODEPOINTS","FUNCTION","JSONPATH"],reservedFunctionNames:["ABS","ACOS","ALL_MATCH","ANY_MATCH","APPROX_DISTINCT","APPROX_MOST_FREQUENT","APPROX_PERCENTILE","APPROX_SET","ARBITRARY","ARRAYS_OVERLAP","ARRAY_AGG","ARRAY_DISTINCT","ARRAY_EXCEPT","ARRAY_INTERSECT","ARRAY_JOIN","ARRAY_MAX","ARRAY_MIN","ARRAY_POSITION","ARRAY_REMOVE","ARRAY_SORT","ARRAY_UNION","ASIN","ATAN","ATAN2","AT_TIMEZONE","AVG","BAR","BETA_CDF","BING_TILE","BING_TILES_AROUND","BING_TILE_AT","BING_TILE_COORDINATES","BING_TILE_POLYGON","BING_TILE_QUADKEY","BING_TILE_ZOOM_LEVEL","BITWISE_AND","BITWISE_AND_AGG","BITWISE_LEFT_SHIFT","BITWISE_NOT","BITWISE_OR","BITWISE_OR_AGG","BITWISE_RIGHT_SHIFT","BITWISE_RIGHT_SHIFT_ARITHMETIC","BITWISE_XOR","BIT_COUNT","BOOL_AND","BOOL_OR","CARDINALITY","CAST","CBRT","CEIL","CEILING","CHAR2HEXINT","CHECKSUM","CHR","CLASSIFY","COALESCE","CODEPOINT","COLOR","COMBINATIONS","CONCAT","CONCAT_WS","CONTAINS","CONTAINS_SEQUENCE","CONVEX_HULL_AGG","CORR","COS","COSH","COSINE_SIMILARITY","COUNT","COUNT_IF","COVAR_POP","COVAR_SAMP","CRC32","CUME_DIST","CURRENT_CATALOG","CURRENT_DATE","CURRENT_GROUPS","CURRENT_SCHEMA","CURRENT_TIME","CURRENT_TIMESTAMP","CURRENT_TIMEZONE","CURRENT_USER","DATE","DATE_ADD","DATE_DIFF","DATE_FORMAT","DATE_PARSE","DATE_TRUNC","DAY","DAY_OF_MONTH","DAY_OF_WEEK","DAY_OF_YEAR","DEGREES","DENSE_RANK","DOW","DOY","E","ELEMENT_AT","EMPTY_APPROX_SET","EVALUATE_CLASSIFIER_PREDICTIONS","EVERY","EXP","EXTRACT","FEATURES","FILTER","FIRST_VALUE","FLATTEN","FLOOR","FORMAT","FORMAT_DATETIME","FORMAT_NUMBER","FROM_BASE","FROM_BASE32","FROM_BASE64","FROM_BASE64URL","FROM_BIG_ENDIAN_32","FROM_BIG_ENDIAN_64","FROM_ENCODED_POLYLINE","FROM_GEOJSON_GEOMETRY","FROM_HEX","FROM_IEEE754_32","FROM_IEEE754_64","FROM_ISO8601_DATE","FROM_ISO8601_TIMESTAMP","FROM_ISO8601_TIMESTAMP_NANOS","FROM_UNIXTIME","FROM_UNIXTIME_NANOS","FROM_UTF8","GEOMETRIC_MEAN","GEOMETRY_FROM_HADOOP_SHAPE","GEOMETRY_INVALID_REASON","GEOMETRY_NEAREST_POINTS","GEOMETRY_TO_BING_TILES","GEOMETRY_UNION","GEOMETRY_UNION_AGG","GREATEST","GREAT_CIRCLE_DISTANCE","HAMMING_DISTANCE","HASH_COUNTS","HISTOGRAM","HMAC_MD5","HMAC_SHA1","HMAC_SHA256","HMAC_SHA512","HOUR","HUMAN_READABLE_SECONDS","IF","INDEX","INFINITY","INTERSECTION_CARDINALITY","INVERSE_BETA_CDF","INVERSE_NORMAL_CDF","IS_FINITE","IS_INFINITE","IS_JSON_SCALAR","IS_NAN","JACCARD_INDEX","JSON_ARRAY_CONTAINS","JSON_ARRAY_GET","JSON_ARRAY_LENGTH","JSON_EXISTS","JSON_EXTRACT","JSON_EXTRACT_SCALAR","JSON_FORMAT","JSON_PARSE","JSON_QUERY","JSON_SIZE","JSON_VALUE","KURTOSIS","LAG","LAST_DAY_OF_MONTH","LAST_VALUE","LEAD","LEARN_CLASSIFIER","LEARN_LIBSVM_CLASSIFIER","LEARN_LIBSVM_REGRESSOR","LEARN_REGRESSOR","LEAST","LENGTH","LEVENSHTEIN_DISTANCE","LINE_INTERPOLATE_POINT","LINE_INTERPOLATE_POINTS","LINE_LOCATE_POINT","LISTAGG","LN","LOCALTIME","LOCALTIMESTAMP","LOG","LOG10","LOG2","LOWER","LPAD","LTRIM","LUHN_CHECK","MAKE_SET_DIGEST","MAP","MAP_AGG","MAP_CONCAT","MAP_ENTRIES","MAP_FILTER","MAP_FROM_ENTRIES","MAP_KEYS","MAP_UNION","MAP_VALUES","MAP_ZIP_WITH","MAX","MAX_BY","MD5","MERGE","MERGE_SET_DIGEST","MILLISECOND","MIN","MINUTE","MIN_BY","MOD","MONTH","MULTIMAP_AGG","MULTIMAP_FROM_ENTRIES","MURMUR3","NAN","NGRAMS","NONE_MATCH","NORMALIZE","NORMAL_CDF","NOW","NTH_VALUE","NTILE","NULLIF","NUMERIC_HISTOGRAM","OBJECTID","OBJECTID_TIMESTAMP","PARSE_DATA_SIZE","PARSE_DATETIME","PARSE_DURATION","PERCENT_RANK","PI","POSITION","POW","POWER","QDIGEST_AGG","QUARTER","RADIANS","RAND","RANDOM","RANK","REDUCE","REDUCE_AGG","REGEXP_COUNT","REGEXP_EXTRACT","REGEXP_EXTRACT_ALL","REGEXP_LIKE","REGEXP_POSITION","REGEXP_REPLACE","REGEXP_SPLIT","REGRESS","REGR_INTERCEPT","REGR_SLOPE","RENDER","REPEAT","REPLACE","REVERSE","RGB","ROUND","ROW_NUMBER","RPAD","RTRIM","SECOND","SEQUENCE","SHA1","SHA256","SHA512","SHUFFLE","SIGN","SIMPLIFY_GEOMETRY","SIN","SKEWNESS","SLICE","SOUNDEX","SPATIAL_PARTITIONING","SPATIAL_PARTITIONS","SPLIT","SPLIT_PART","SPLIT_TO_MAP","SPLIT_TO_MULTIMAP","SPOOKY_HASH_V2_32","SPOOKY_HASH_V2_64","SQRT","STARTS_WITH","STDDEV","STDDEV_POP","STDDEV_SAMP","STRPOS","ST_AREA","ST_ASBINARY","ST_ASTEXT","ST_BOUNDARY","ST_BUFFER","ST_CENTROID","ST_CONTAINS","ST_CONVEXHULL","ST_COORDDIM","ST_CROSSES","ST_DIFFERENCE","ST_DIMENSION","ST_DISJOINT","ST_DISTANCE","ST_ENDPOINT","ST_ENVELOPE","ST_ENVELOPEASPTS","ST_EQUALS","ST_EXTERIORRING","ST_GEOMETRIES","ST_GEOMETRYFROMTEXT","ST_GEOMETRYN","ST_GEOMETRYTYPE","ST_GEOMFROMBINARY","ST_INTERIORRINGN","ST_INTERIORRINGS","ST_INTERSECTION","ST_INTERSECTS","ST_ISCLOSED","ST_ISEMPTY","ST_ISRING","ST_ISSIMPLE","ST_ISVALID","ST_LENGTH","ST_LINEFROMTEXT","ST_LINESTRING","ST_MULTIPOINT","ST_NUMGEOMETRIES","ST_NUMINTERIORRING","ST_NUMPOINTS","ST_OVERLAPS","ST_POINT","ST_POINTN","ST_POINTS","ST_POLYGON","ST_RELATE","ST_STARTPOINT","ST_SYMDIFFERENCE","ST_TOUCHES","ST_UNION","ST_WITHIN","ST_X","ST_XMAX","ST_XMIN","ST_Y","ST_YMAX","ST_YMIN","SUBSTR","SUBSTRING","SUM","TAN","TANH","TDIGEST_AGG","TIMESTAMP_OBJECTID","TIMEZONE_HOUR","TIMEZONE_MINUTE","TO_BASE","TO_BASE32","TO_BASE64","TO_BASE64URL","TO_BIG_ENDIAN_32","TO_BIG_ENDIAN_64","TO_CHAR","TO_DATE","TO_ENCODED_POLYLINE","TO_GEOJSON_GEOMETRY","TO_GEOMETRY","TO_HEX","TO_IEEE754_32","TO_IEEE754_64","TO_ISO8601","TO_MILLISECONDS","TO_SPHERICAL_GEOGRAPHY","TO_TIMESTAMP","TO_UNIXTIME","TO_UTF8","TRANSFORM","TRANSFORM_KEYS","TRANSFORM_VALUES","TRANSLATE","TRIM","TRIM_ARRAY","TRUNCATE","TRY","TRY_CAST","TYPEOF","UPPER","URL_DECODE","URL_ENCODE","URL_EXTRACT_FRAGMENT","URL_EXTRACT_HOST","URL_EXTRACT_PARAMETER","URL_EXTRACT_PATH","URL_EXTRACT_PORT","URL_EXTRACT_PROTOCOL","URL_EXTRACT_QUERY","UUID","VALUES_AT_QUANTILES","VALUE_AT_QUANTILE","VARIANCE","VAR_POP","VAR_SAMP","VERSION","WEEK","WEEK_OF_YEAR","WIDTH_BUCKET","WILSON_INTERVAL_LOWER","WILSON_INTERVAL_UPPER","WITH_TIMEZONE","WORD_STEM","XXHASH64","YEAR","YEAR_OF_WEEK","YOW","ZIP","ZIP_WITH","CLASSIFIER","FIRST","LAST","MATCH_NUMBER","NEXT","PERMUTE","PREV"],extraParens:["[]","{}"],stringTypes:[{quote:"''-qq",prefixes:["U&"]},{quote:"''-raw",prefixes:["X"],requirePrefix:!0}],identTypes:['""-qq'],paramTypes:{positional:!0},operators:["%","->","=>",":","||","|","^","$"]},formatOptions:{onelineClauses:[...ll,...lm],tabularOnelineClauses:lm}},lo=["SELECT [ALL | DISTINCT]"].flatMap(jU),lp=["WITH","INTO","FROM","WHERE","GROUP BY","HAVING","WINDOW","PARTITION BY","ORDER BY","OFFSET","FETCH {FIRST | NEXT}","FOR {BROWSE | XML | JSON}","OPTION","INSERT [INTO]","VALUES","SET","MERGE [INTO]","WHEN [NOT] MATCHED [BY TARGET | BY SOURCE] [THEN]","UPDATE SET"].flatMap(jU),lq=["CREATE TABLE"].flatMap(jU),lr=["CREATE [OR ALTER] [MATERIALIZED] VIEW","UPDATE","WHERE CURRENT OF","DELETE [FROM]","DROP TABLE [IF EXISTS]","ALTER TABLE","ADD","DROP COLUMN [IF EXISTS]","ALTER COLUMN","TRUNCATE TABLE","CREATE [UNIQUE] [CLUSTERED] INDEX","CREATE DATABASE","ALTER DATABASE","DROP DATABASE [IF EXISTS]","CREATE [OR ALTER] [PARTITION] {FUNCTION | PROCEDURE | PROC}","ALTER [PARTITION] {FUNCTION | PROCEDURE | PROC}","DROP [PARTITION] {FUNCTION | PROCEDURE | PROC} [IF EXISTS]","GO","USE","ADD SENSITIVITY CLASSIFICATION","ADD SIGNATURE","AGGREGATE","ANSI_DEFAULTS","ANSI_NULLS","ANSI_NULL_DFLT_OFF","ANSI_NULL_DFLT_ON","ANSI_PADDING","ANSI_WARNINGS","APPLICATION ROLE","ARITHABORT","ARITHIGNORE","ASSEMBLY","ASYMMETRIC KEY","AUTHORIZATION","AVAILABILITY GROUP","BACKUP","BACKUP CERTIFICATE","BACKUP MASTER KEY","BACKUP SERVICE MASTER KEY","BEGIN CONVERSATION TIMER","BEGIN DIALOG CONVERSATION","BROKER PRIORITY","BULK INSERT","CERTIFICATE","CLOSE MASTER KEY","CLOSE SYMMETRIC KEY","COLUMN ENCRYPTION KEY","COLUMN MASTER KEY","COLUMNSTORE INDEX","CONCAT_NULL_YIELDS_NULL","CONTEXT_INFO","CONTRACT","CREDENTIAL","CRYPTOGRAPHIC PROVIDER","CURSOR_CLOSE_ON_COMMIT","DATABASE","DATABASE AUDIT SPECIFICATION","DATABASE ENCRYPTION KEY","DATABASE HADR","DATABASE SCOPED CONFIGURATION","DATABASE SCOPED CREDENTIAL","DATABASE SET","DATEFIRST","DATEFORMAT","DEADLOCK_PRIORITY","DENY","DENY XML","DISABLE TRIGGER","ENABLE TRIGGER","END CONVERSATION","ENDPOINT","EVENT NOTIFICATION","EVENT SESSION","EXECUTE AS","EXTERNAL DATA SOURCE","EXTERNAL FILE FORMAT","EXTERNAL LANGUAGE","EXTERNAL LIBRARY","EXTERNAL RESOURCE POOL","EXTERNAL TABLE","FIPS_FLAGGER","FMTONLY","FORCEPLAN","FULLTEXT CATALOG","FULLTEXT INDEX","FULLTEXT STOPLIST","GET CONVERSATION GROUP","GET_TRANSMISSION_STATUS","GRANT","GRANT XML","IDENTITY_INSERT","IMPLICIT_TRANSACTIONS","INDEX","LANGUAGE","LOCK_TIMEOUT","LOGIN","MASTER KEY","MESSAGE TYPE","MOVE CONVERSATION","NOCOUNT","NOEXEC","NUMERIC_ROUNDABORT","OFFSETS","OPEN MASTER KEY","OPEN SYMMETRIC KEY","PARSEONLY","PARTITION SCHEME","QUERY_GOVERNOR_COST_LIMIT","QUEUE","QUOTED_IDENTIFIER","RECEIVE","REMOTE SERVICE BINDING","REMOTE_PROC_TRANSACTIONS","RESOURCE GOVERNOR","RESOURCE POOL","RESTORE","RESTORE FILELISTONLY","RESTORE HEADERONLY","RESTORE LABELONLY","RESTORE MASTER KEY","RESTORE REWINDONLY","RESTORE SERVICE MASTER KEY","RESTORE VERIFYONLY","REVERT","REVOKE","REVOKE XML","ROLE","ROUTE","ROWCOUNT","RULE","SCHEMA","SEARCH PROPERTY LIST","SECURITY POLICY","SELECTIVE XML INDEX","SEND","SENSITIVITY CLASSIFICATION","SEQUENCE","SERVER AUDIT","SERVER AUDIT SPECIFICATION","SERVER CONFIGURATION","SERVER ROLE","SERVICE","SERVICE MASTER KEY","SETUSER","SHOWPLAN_ALL","SHOWPLAN_TEXT","SHOWPLAN_XML","SIGNATURE","SPATIAL INDEX","STATISTICS","STATISTICS IO","STATISTICS PROFILE","STATISTICS TIME","STATISTICS XML","SYMMETRIC KEY","SYNONYM","TABLE","TABLE IDENTITY","TEXTSIZE","TRANSACTION ISOLATION LEVEL","TRIGGER","TYPE","UPDATE STATISTICS","USER","WORKLOAD GROUP","XACT_ABORT","XML INDEX","XML SCHEMA COLLECTION"].flatMap(jU),ls={name:"transactsql",tokenizerOptions:{reservedSelect:lo,reservedClauses:[...lp,...lq,...lr],reservedSetOperations:["UNION [ALL]","EXCEPT","INTERSECT"].flatMap(jU),reservedJoins:["JOIN","{LEFT | RIGHT | FULL} [OUTER] JOIN","{INNER | CROSS} JOIN","{CROSS | OUTER} APPLY"].flatMap(jU),reservedKeywordPhrases:["ON {UPDATE | DELETE} [SET NULL | SET DEFAULT]","{ROWS | RANGE} BETWEEN"].flatMap(jU),reservedDataTypePhrases:[].flatMap(jU),reservedKeywords:["ADD","ALL","ALTER","AND","ANY","AS","ASC","AUTHORIZATION","BACKUP","BEGIN","BETWEEN","BREAK","BROWSE","BULK","BY","CASCADE","CHECK","CHECKPOINT","CLOSE","CLUSTERED","COALESCE","COLLATE","COLUMN","COMMIT","COMPUTE","CONSTRAINT","CONTAINS","CONTAINSTABLE","CONTINUE","CONVERT","CREATE","CROSS","CURRENT","CURRENT_DATE","CURRENT_TIME","CURRENT_TIMESTAMP","CURRENT_USER","CURSOR","DATABASE","DBCC","DEALLOCATE","DECLARE","DEFAULT","DELETE","DENY","DESC","DISK","DISTINCT","DISTRIBUTED","DROP","DUMP","ERRLVL","ESCAPE","EXEC","EXECUTE","EXISTS","EXIT","EXTERNAL","FETCH","FILE","FILLFACTOR","FOR","FOREIGN","FREETEXT","FREETEXTTABLE","FROM","FULL","FUNCTION","GOTO","GRANT","GROUP","HAVING","HOLDLOCK","IDENTITY","IDENTITYCOL","IDENTITY_INSERT","IF","IN","INDEX","INNER","INSERT","INTERSECT","INTO","IS","JOIN","KEY","KILL","LEFT","LIKE","LINENO","LOAD","MERGE","NOCHECK","NONCLUSTERED","NOT","NULL","NULLIF","OF","OFF","OFFSETS","ON","OPEN","OPENDATASOURCE","OPENQUERY","OPENROWSET","OPENXML","OPTION","OR","ORDER","OUTER","OVER","PERCENT","PIVOT","PLAN","PRIMARY","PRINT","PROC","PROCEDURE","PUBLIC","RAISERROR","READ","READTEXT","RECONFIGURE","REFERENCES","REPLICATION","RESTORE","RESTRICT","RETURN","REVERT","REVOKE","RIGHT","ROLLBACK","ROWCOUNT","ROWGUIDCOL","RULE","SAVE","SCHEMA","SECURITYAUDIT","SELECT","SEMANTICKEYPHRASETABLE","SEMANTICSIMILARITYDETAILSTABLE","SEMANTICSIMILARITYTABLE","SESSION_USER","SET","SETUSER","SHUTDOWN","SOME","STATISTICS","SYSTEM_USER","TABLE","TABLESAMPLE","TEXTSIZE","THEN","TO","TOP","TRAN","TRANSACTION","TRIGGER","TRUNCATE","TRY_CONVERT","TSEQUAL","UNION","UNIQUE","UNPIVOT","UPDATE","UPDATETEXT","USE","USER","VALUES","VIEW","WAITFOR","WHERE","WHILE","WITH","WITHIN GROUP","WRITETEXT","$ACTION"],reservedDataTypes:["BINARY","BIT","CHAR","CHAR","CHARACTER","DATE","DATETIME2","DATETIMEOFFSET","DEC","DECIMAL","DOUBLE","FLOAT","INT","INTEGER","NATIONAL","NCHAR","NUMERIC","NVARCHAR","PRECISION","REAL","SMALLINT","TIME","TIMESTAMP","VARBINARY","VARCHAR"],reservedFunctionNames:["APPROX_COUNT_DISTINCT","AVG","CHECKSUM_AGG","COUNT","COUNT_BIG","GROUPING","GROUPING_ID","MAX","MIN","STDEV","STDEVP","SUM","VAR","VARP","CUME_DIST","FIRST_VALUE","LAG","LAST_VALUE","LEAD","PERCENTILE_CONT","PERCENTILE_DISC","PERCENT_RANK","Collation - COLLATIONPROPERTY","Collation - TERTIARY_WEIGHTS","@@DBTS","@@LANGID","@@LANGUAGE","@@LOCK_TIMEOUT","@@MAX_CONNECTIONS","@@MAX_PRECISION","@@NESTLEVEL","@@OPTIONS","@@REMSERVER","@@SERVERNAME","@@SERVICENAME","@@SPID","@@TEXTSIZE","@@VERSION","CAST","CONVERT","PARSE","TRY_CAST","TRY_CONVERT","TRY_PARSE","ASYMKEY_ID","ASYMKEYPROPERTY","CERTPROPERTY","CERT_ID","CRYPT_GEN_RANDOM","DECRYPTBYASYMKEY","DECRYPTBYCERT","DECRYPTBYKEY","DECRYPTBYKEYAUTOASYMKEY","DECRYPTBYKEYAUTOCERT","DECRYPTBYPASSPHRASE","ENCRYPTBYASYMKEY","ENCRYPTBYCERT","ENCRYPTBYKEY","ENCRYPTBYPASSPHRASE","HASHBYTES","IS_OBJECTSIGNED","KEY_GUID","KEY_ID","KEY_NAME","SIGNBYASYMKEY","SIGNBYCERT","SYMKEYPROPERTY","VERIFYSIGNEDBYCERT","VERIFYSIGNEDBYASYMKEY","@@CURSOR_ROWS","@@FETCH_STATUS","CURSOR_STATUS","DATALENGTH","IDENT_CURRENT","IDENT_INCR","IDENT_SEED","IDENTITY","SQL_VARIANT_PROPERTY","@@DATEFIRST","CURRENT_TIMESTAMP","CURRENT_TIMEZONE","CURRENT_TIMEZONE_ID","DATEADD","DATEDIFF","DATEDIFF_BIG","DATEFROMPARTS","DATENAME","DATEPART","DATETIME2FROMPARTS","DATETIMEFROMPARTS","DATETIMEOFFSETFROMPARTS","DAY","EOMONTH","GETDATE","GETUTCDATE","ISDATE","MONTH","SMALLDATETIMEFROMPARTS","SWITCHOFFSET","SYSDATETIME","SYSDATETIMEOFFSET","SYSUTCDATETIME","TIMEFROMPARTS","TODATETIMEOFFSET","YEAR","JSON","ISJSON","JSON_VALUE","JSON_QUERY","JSON_MODIFY","ABS","ACOS","ASIN","ATAN","ATN2","CEILING","COS","COT","DEGREES","EXP","FLOOR","LOG","LOG10","PI","POWER","RADIANS","RAND","ROUND","SIGN","SIN","SQRT","SQUARE","TAN","CHOOSE","GREATEST","IIF","LEAST","@@PROCID","APP_NAME","APPLOCK_MODE","APPLOCK_TEST","ASSEMBLYPROPERTY","COL_LENGTH","COL_NAME","COLUMNPROPERTY","DATABASEPROPERTYEX","DB_ID","DB_NAME","FILE_ID","FILE_IDEX","FILE_NAME","FILEGROUP_ID","FILEGROUP_NAME","FILEGROUPPROPERTY","FILEPROPERTY","FILEPROPERTYEX","FULLTEXTCATALOGPROPERTY","FULLTEXTSERVICEPROPERTY","INDEX_COL","INDEXKEY_PROPERTY","INDEXPROPERTY","NEXT VALUE FOR","OBJECT_DEFINITION","OBJECT_ID","OBJECT_NAME","OBJECT_SCHEMA_NAME","OBJECTPROPERTY","OBJECTPROPERTYEX","ORIGINAL_DB_NAME","PARSENAME","SCHEMA_ID","SCHEMA_NAME","SCOPE_IDENTITY","SERVERPROPERTY","STATS_DATE","TYPE_ID","TYPE_NAME","TYPEPROPERTY","DENSE_RANK","NTILE","RANK","ROW_NUMBER","PUBLISHINGSERVERNAME","CERTENCODED","CERTPRIVATEKEY","CURRENT_USER","DATABASE_PRINCIPAL_ID","HAS_DBACCESS","HAS_PERMS_BY_NAME","IS_MEMBER","IS_ROLEMEMBER","IS_SRVROLEMEMBER","LOGINPROPERTY","ORIGINAL_LOGIN","PERMISSIONS","PWDENCRYPT","PWDCOMPARE","SESSION_USER","SESSIONPROPERTY","SUSER_ID","SUSER_NAME","SUSER_SID","SUSER_SNAME","SYSTEM_USER","USER","USER_ID","USER_NAME","ASCII","CHARINDEX","CONCAT","CONCAT_WS","DIFFERENCE","FORMAT","LEFT","LEN","LOWER","LTRIM","PATINDEX","QUOTENAME","REPLACE","REPLICATE","REVERSE","RIGHT","RTRIM","SOUNDEX","SPACE","STR","STRING_AGG","STRING_ESCAPE","STUFF","SUBSTRING","TRANSLATE","TRIM","UNICODE","UPPER","$PARTITION","@@ERROR","@@IDENTITY","@@PACK_RECEIVED","@@ROWCOUNT","@@TRANCOUNT","BINARY_CHECKSUM","CHECKSUM","COMPRESS","CONNECTIONPROPERTY","CONTEXT_INFO","CURRENT_REQUEST_ID","CURRENT_TRANSACTION_ID","DECOMPRESS","ERROR_LINE","ERROR_MESSAGE","ERROR_NUMBER","ERROR_PROCEDURE","ERROR_SEVERITY","ERROR_STATE","FORMATMESSAGE","GET_FILESTREAM_TRANSACTION_CONTEXT","GETANSINULL","HOST_ID","HOST_NAME","ISNULL","ISNUMERIC","MIN_ACTIVE_ROWVERSION","NEWID","NEWSEQUENTIALID","ROWCOUNT_BIG","SESSION_CONTEXT","XACT_STATE","@@CONNECTIONS","@@CPU_BUSY","@@IDLE","@@IO_BUSY","@@PACK_SENT","@@PACKET_ERRORS","@@TIMETICKS","@@TOTAL_ERRORS","@@TOTAL_READ","@@TOTAL_WRITE","TEXTPTR","TEXTVALID","COLUMNS_UPDATED","EVENTDATA","TRIGGER_NESTLEVEL","UPDATE","COALESCE","NULLIF"],nestedBlockComments:!0,stringTypes:[{quote:"''-qq",prefixes:["N"]},"{}"],identTypes:['""-qq',"[]"],identChars:{first:"#@",rest:"#@$"},paramTypes:{named:["@"],quoted:["@"]},operators:["%","&","|","^","~","!<","!>","+=","-=","*=","/=","%=","|=","&=","^=","::",":"],propertyAccessOperators:[".."]},formatOptions:{alwaysDenseOperators:["::"],onelineClauses:[...lq,...lr],tabularOnelineClauses:lr}},lt=["SELECT [ALL | DISTINCT | DISTINCTROW]"].flatMap(jU),lu=["WITH","FROM","WHERE","GROUP BY","HAVING","PARTITION BY","ORDER BY","LIMIT","OFFSET","INSERT [IGNORE] [INTO]","VALUES","REPLACE [INTO]","ON DUPLICATE KEY UPDATE","SET","CREATE [OR REPLACE] [TEMPORARY] PROCEDURE [IF NOT EXISTS]","CREATE [OR REPLACE] [EXTERNAL] FUNCTION"].flatMap(jU),lv=["CREATE [ROWSTORE] [REFERENCE | TEMPORARY | GLOBAL TEMPORARY] TABLE [IF NOT EXISTS]"].flatMap(jU),lw=["CREATE VIEW","UPDATE","DELETE [FROM]","DROP [TEMPORARY] TABLE [IF EXISTS]","ALTER [ONLINE] TABLE","ADD [COLUMN]","ADD [UNIQUE] {INDEX | KEY}","DROP [COLUMN]","MODIFY [COLUMN]","CHANGE","RENAME [TO | AS]","TRUNCATE [TABLE]","ADD AGGREGATOR","ADD LEAF","AGGREGATOR SET AS MASTER","ALTER DATABASE","ALTER PIPELINE","ALTER RESOURCE POOL","ALTER USER","ALTER VIEW","ANALYZE TABLE","ATTACH DATABASE","ATTACH LEAF","ATTACH LEAF ALL","BACKUP DATABASE","BINLOG","BOOTSTRAP AGGREGATOR","CACHE INDEX","CALL","CHANGE","CHANGE MASTER TO","CHANGE REPLICATION FILTER","CHANGE REPLICATION SOURCE TO","CHECK BLOB CHECKSUM","CHECK TABLE","CHECKSUM TABLE","CLEAR ORPHAN DATABASES","CLONE","COMMIT","CREATE DATABASE","CREATE GROUP","CREATE INDEX","CREATE LINK","CREATE MILESTONE","CREATE PIPELINE","CREATE RESOURCE POOL","CREATE ROLE","CREATE USER","DEALLOCATE PREPARE","DESCRIBE","DETACH DATABASE","DETACH PIPELINE","DROP DATABASE","DROP FUNCTION","DROP INDEX","DROP LINK","DROP PIPELINE","DROP PROCEDURE","DROP RESOURCE POOL","DROP ROLE","DROP USER","DROP VIEW","EXECUTE","EXPLAIN","FLUSH","FORCE","GRANT","HANDLER","HELP","KILL CONNECTION","KILLALL QUERIES","LOAD DATA","LOAD INDEX INTO CACHE","LOAD XML","LOCK INSTANCE FOR BACKUP","LOCK TABLES","MASTER_POS_WAIT","OPTIMIZE TABLE","PREPARE","PURGE BINARY LOGS","REBALANCE PARTITIONS","RELEASE SAVEPOINT","REMOVE AGGREGATOR","REMOVE LEAF","REPAIR TABLE","REPLACE","REPLICATE DATABASE","RESET","RESET MASTER","RESET PERSIST","RESET REPLICA","RESET SLAVE","RESTART","RESTORE DATABASE","RESTORE REDUNDANCY","REVOKE","ROLLBACK","ROLLBACK TO SAVEPOINT","SAVEPOINT","SET CHARACTER SET","SET DEFAULT ROLE","SET NAMES","SET PASSWORD","SET RESOURCE GROUP","SET ROLE","SET TRANSACTION","SHOW","SHOW CHARACTER SET","SHOW COLLATION","SHOW COLUMNS","SHOW CREATE DATABASE","SHOW CREATE FUNCTION","SHOW CREATE PIPELINE","SHOW CREATE PROCEDURE","SHOW CREATE TABLE","SHOW CREATE USER","SHOW CREATE VIEW","SHOW DATABASES","SHOW ENGINE","SHOW ENGINES","SHOW ERRORS","SHOW FUNCTION CODE","SHOW FUNCTION STATUS","SHOW GRANTS","SHOW INDEX","SHOW MASTER STATUS","SHOW OPEN TABLES","SHOW PLUGINS","SHOW PRIVILEGES","SHOW PROCEDURE CODE","SHOW PROCEDURE STATUS","SHOW PROCESSLIST","SHOW PROFILE","SHOW PROFILES","SHOW RELAYLOG EVENTS","SHOW REPLICA STATUS","SHOW REPLICAS","SHOW SLAVE","SHOW SLAVE HOSTS","SHOW STATUS","SHOW TABLE STATUS","SHOW TABLES","SHOW VARIABLES","SHOW WARNINGS","SHUTDOWN","SNAPSHOT DATABASE","SOURCE_POS_WAIT","START GROUP_REPLICATION","START PIPELINE","START REPLICA","START SLAVE","START TRANSACTION","STOP GROUP_REPLICATION","STOP PIPELINE","STOP REPLICA","STOP REPLICATING","STOP SLAVE","TEST PIPELINE","UNLOCK INSTANCE","UNLOCK TABLES","USE","XA","ITERATE","LEAVE","LOOP","REPEAT","RETURN","WHILE"].flatMap(jU),lx={name:"singlestoredb",tokenizerOptions:{reservedSelect:lt,reservedClauses:[...lu,...lv,...lw],reservedSetOperations:["UNION [ALL | DISTINCT]","EXCEPT","INTERSECT","MINUS"].flatMap(jU),reservedJoins:["JOIN","{LEFT | RIGHT | FULL} [OUTER] JOIN","{INNER | CROSS} JOIN","NATURAL {LEFT | RIGHT} [OUTER] JOIN","STRAIGHT_JOIN"].flatMap(jU),reservedKeywordPhrases:["ON DELETE","ON UPDATE","CHARACTER SET","{ROWS | RANGE} BETWEEN","IDENTIFIED BY"].flatMap(jU),reservedDataTypePhrases:[].flatMap(jU),reservedKeywords:["ADD","ALL","ALTER","ANALYZE","AND","AS","ASC","ASENSITIVE","BEFORE","BETWEEN","_BINARY","BOTH","BY","CALL","CASCADE","CASE","CHANGE","CHECK","COLLATE","COLUMN","CONDITION","CONSTRAINT","CONTINUE","CONVERT","CREATE","CROSS","CURRENT_DATE","CURRENT_TIME","CURRENT_TIMESTAMP","CURRENT_USER","CURSOR","DATABASE","DATABASES","DAY_HOUR","DAY_MICROSECOND","DAY_MINUTE","DAY_SECOND","DECLARE","DEFAULT","DELAYED","DELETE","DESC","DESCRIBE","DETERMINISTIC","DISTINCT","DISTINCTROW","DIV","DROP","DUAL","EACH","ELSE","ELSEIF","ENCLOSED","ESCAPED","EXCEPT","EXISTS","EXIT","EXPLAIN","EXTRA_JOIN","FALSE","FETCH","FOR","FORCE","FORCE_COMPILED_MODE","FORCE_INTERPRETER_MODE","FOREIGN","FROM","FULL","FULLTEXT","GRANT","GROUP","HAVING","HEARTBEAT_NO_LOGGING","HIGH_PRIORITY","HOUR_MICROSECOND","HOUR_MINUTE","HOUR_SECOND","IF","IGNORE","IN","INDEX","INFILE","INNER","INOUT","INSENSITIVE","INSERT","IN","_INTERNAL_DYNAMIC_TYPECAST","INTERSECT","INTERVAL","INTO","ITERATE","JOIN","KEY","KEYS","KILL","LEADING","LEAVE","LEFT","LIKE","LIMIT","LINES","LOAD","LOCALTIME","LOCALTIMESTAMP","LOCK","LOOP","LOW_PRIORITY","MATCH","MAXVALUE","MINUS","MINUTE_MICROSECOND","MINUTE_SECOND","MOD","MODIFIES","NATURAL","NO_QUERY_REWRITE","NOT","NO_WRITE_TO_BINLOG","NO_QUERY_REWRITE","NULL","ON","OPTIMIZE","OPTION","OPTIONALLY","OR","ORDER","OUT","OUTER","OUTFILE","OVER","PRIMARY","PROCEDURE","PURGE","RANGE","READ","READS","REFERENCES","REGEXP","RELEASE","RENAME","REPEAT","REPLACE","REQUIRE","RESTRICT","RETURN","REVOKE","RIGHT","RIGHT_ANTI_JOIN","RIGHT_SEMI_JOIN","RIGHT_STRAIGHT_JOIN","RLIKE","SCHEMA","SCHEMAS","SECOND_MICROSECOND","SELECT","SEMI_JOIN","SENSITIVE","SEPARATOR","SET","SHOW","SIGNAL","SPATIAL","SPECIFIC","SQL","SQL_BIG_RESULT","SQL_BUFFER_RESULT","SQL_CACHE","SQL_CALC_FOUND_ROWS","SQLEXCEPTION","SQL_NO_CACHE","SQL_NO_LOGGING","SQL_SMALL_RESULT","SQLSTATE","SQLWARNING","STRAIGHT_JOIN","TABLE","TERMINATED","THEN","TO","TRAILING","TRIGGER","TRUE","UNBOUNDED","UNDO","UNION","UNIQUE","UNLOCK","UPDATE","USAGE","USE","USING","UTC_DATE","UTC_TIME","UTC_TIMESTAMP","_UTF8","VALUES","WHEN","WHERE","WHILE","WINDOW","WITH","WITHIN","WRITE","XOR","YEAR_MONTH","ZEROFILL"],reservedDataTypes:["BIGINT","BINARY","BIT","BLOB","CHAR","CHARACTER","DATETIME","DEC","DECIMAL","DOUBLE PRECISION","DOUBLE","ENUM","FIXED","FLOAT","FLOAT4","FLOAT8","INT","INT1","INT2","INT3","INT4","INT8","INTEGER","LONG","LONGBLOB","LONGTEXT","MEDIUMBLOB","MEDIUMINT","MEDIUMTEXT","MIDDLEINT","NATIONAL CHAR","NATIONAL VARCHAR","NUMERIC","PRECISION","REAL","SMALLINT","TEXT","TIME","TIMESTAMP","TINYBLOB","TINYINT","TINYTEXT","UNSIGNED","VARBINARY","VARCHAR","VARCHARACTER","YEAR"],reservedFunctionNames:["ABS","ACOS","ADDDATE","ADDTIME","AES_DECRYPT","AES_ENCRYPT","ANY_VALUE","APPROX_COUNT_DISTINCT","APPROX_COUNT_DISTINCT_ACCUMULATE","APPROX_COUNT_DISTINCT_COMBINE","APPROX_COUNT_DISTINCT_ESTIMATE","APPROX_GEOGRAPHY_INTERSECTS","APPROX_PERCENTILE","ASCII","ASIN","ATAN","ATAN2","AVG","BIN","BINARY","BIT_AND","BIT_COUNT","BIT_OR","BIT_XOR","CAST","CEIL","CEILING","CHAR","CHARACTER_LENGTH","CHAR_LENGTH","CHARSET","COALESCE","COERCIBILITY","COLLATION","COLLECT","CONCAT","CONCAT_WS","CONNECTION_ID","CONV","CONVERT","CONVERT_TZ","COS","COT","COUNT","CUME_DIST","CURDATE","CURRENT_DATE","CURRENT_ROLE","CURRENT_TIME","CURRENT_TIMESTAMP","CURRENT_USER","CURTIME","DATABASE","DATE","DATE_ADD","DATEDIFF","DATE_FORMAT","DATE_SUB","DATE_TRUNC","DAY","DAYNAME","DAYOFMONTH","DAYOFWEEK","DAYOFYEAR","DECODE","DEFAULT","DEGREES","DENSE_RANK","DIV","DOT_PRODUCT","ELT","EUCLIDEAN_DISTANCE","EXP","EXTRACT","FIELD","FIRST","FIRST_VALUE","FLOOR","FORMAT","FOUND_ROWS","FROM_BASE64","FROM_DAYS","FROM_UNIXTIME","GEOGRAPHY_AREA","GEOGRAPHY_CONTAINS","GEOGRAPHY_DISTANCE","GEOGRAPHY_INTERSECTS","GEOGRAPHY_LATITUDE","GEOGRAPHY_LENGTH","GEOGRAPHY_LONGITUDE","GEOGRAPHY_POINT","GEOGRAPHY_WITHIN_DISTANCE","GEOMETRY_AREA","GEOMETRY_CONTAINS","GEOMETRY_DISTANCE","GEOMETRY_FILTER","GEOMETRY_INTERSECTS","GEOMETRY_LENGTH","GEOMETRY_POINT","GEOMETRY_WITHIN_DISTANCE","GEOMETRY_X","GEOMETRY_Y","GREATEST","GROUPING","GROUP_CONCAT","HEX","HIGHLIGHT","HOUR","ICU_VERSION","IF","IFNULL","INET_ATON","INET_NTOA","INET6_ATON","INET6_NTOA","INITCAP","INSERT","INSTR","INTERVAL","IS","IS NULL","JSON_AGG","JSON_ARRAY_CONTAINS_DOUBLE","JSON_ARRAY_CONTAINS_JSON","JSON_ARRAY_CONTAINS_STRING","JSON_ARRAY_PUSH_DOUBLE","JSON_ARRAY_PUSH_JSON","JSON_ARRAY_PUSH_STRING","JSON_DELETE_KEY","JSON_EXTRACT_DOUBLE","JSON_EXTRACT_JSON","JSON_EXTRACT_STRING","JSON_EXTRACT_BIGINT","JSON_GET_TYPE","JSON_LENGTH","JSON_SET_DOUBLE","JSON_SET_JSON","JSON_SET_STRING","JSON_SPLICE_DOUBLE","JSON_SPLICE_JSON","JSON_SPLICE_STRING","LAG","LAST_DAY","LAST_VALUE","LCASE","LEAD","LEAST","LEFT","LENGTH","LIKE","LN","LOCALTIME","LOCALTIMESTAMP","LOCATE","LOG","LOG10","LOG2","LPAD","LTRIM","MATCH","MAX","MD5","MEDIAN","MICROSECOND","MIN","MINUTE","MOD","MONTH","MONTHNAME","MONTHS_BETWEEN","NOT","NOW","NTH_VALUE","NTILE","NULLIF","OCTET_LENGTH","PERCENT_RANK","PERCENTILE_CONT","PERCENTILE_DISC","PI","PIVOT","POSITION","POW","POWER","QUARTER","QUOTE","RADIANS","RAND","RANK","REGEXP","REPEAT","REPLACE","REVERSE","RIGHT","RLIKE","ROUND","ROW_COUNT","ROW_NUMBER","RPAD","RTRIM","SCALAR","SCHEMA","SEC_TO_TIME","SHA1","SHA2","SIGMOID","SIGN","SIN","SLEEP","SPLIT","SOUNDEX","SOUNDS LIKE","SOURCE_POS_WAIT","SPACE","SQRT","STDDEV","STDDEV_POP","STDDEV_SAMP","STR_TO_DATE","SUBDATE","SUBSTR","SUBSTRING","SUBSTRING_INDEX","SUM","SYS_GUID","TAN","TIME","TIMEDIFF","TIME_BUCKET","TIME_FORMAT","TIMESTAMP","TIMESTAMPADD","TIMESTAMPDIFF","TIME_TO_SEC","TO_BASE64","TO_CHAR","TO_DAYS","TO_JSON","TO_NUMBER","TO_SECONDS","TO_TIMESTAMP","TRIM","TRUNC","TRUNCATE","UCASE","UNHEX","UNIX_TIMESTAMP","UPDATEXML","UPPER","UTC_DATE","UTC_TIME","UTC_TIMESTAMP","UUID","VALUES","VARIANCE","VAR_POP","VAR_SAMP","VECTOR_SUB","VERSION","WEEK","WEEKDAY","WEEKOFYEAR","YEAR"],stringTypes:['""-qq-bs',"''-qq-bs",{quote:"''-raw",prefixes:["B","X"],requirePrefix:!0}],identTypes:["``"],identChars:{first:"$",rest:"$",allowFirstCharNumber:!0},variableTypes:[{regex:"@@?[A-Za-z0-9_$]+"},{quote:"``",prefixes:["@"],requirePrefix:!0}],lineCommentTypes:["--","#"],operators:[":=","&","|","^","~","<<",">>","<=>","&&","||","::","::$","::%",":>","!:>","*.*"],postProcess:kx},formatOptions:{alwaysDenseOperators:["::","::$","::%"],onelineClauses:[...lv,...lw],tabularOnelineClauses:lw}},ly=["SELECT [ALL | DISTINCT]"].flatMap(jU),lz=["WITH [RECURSIVE]","FROM","WHERE","GROUP BY","HAVING","PARTITION BY","ORDER BY","QUALIFY","LIMIT","OFFSET","FETCH [FIRST | NEXT]","INSERT [OVERWRITE] [ALL INTO | INTO | ALL | FIRST]","{THEN | ELSE} INTO","VALUES","SET","CLUSTER BY","[WITH] {MASKING POLICY | TAG | ROW ACCESS POLICY}","COPY GRANTS","USING TEMPLATE","MERGE INTO","WHEN MATCHED [AND]","THEN {UPDATE SET | DELETE}","WHEN NOT MATCHED THEN INSERT"].flatMap(jU),lA=["CREATE [OR REPLACE] [VOLATILE] TABLE [IF NOT EXISTS]","CREATE [OR REPLACE] [LOCAL | GLOBAL] {TEMP|TEMPORARY} TABLE [IF NOT EXISTS]"].flatMap(jU),lB=["CREATE [OR REPLACE] [SECURE] [RECURSIVE] VIEW [IF NOT EXISTS]","UPDATE","DELETE FROM","DROP TABLE [IF EXISTS]","ALTER TABLE [IF EXISTS]","RENAME TO","SWAP WITH","[SUSPEND | RESUME] RECLUSTER","DROP CLUSTERING KEY","ADD [COLUMN]","RENAME COLUMN","{ALTER | MODIFY} [COLUMN]","DROP [COLUMN]","{ADD | ALTER | MODIFY | DROP} [CONSTRAINT]","RENAME CONSTRAINT","{ADD | DROP} SEARCH OPTIMIZATION","{SET | UNSET} TAG","{ADD | DROP} ROW ACCESS POLICY","DROP ALL ROW ACCESS POLICIES","{SET | DROP} DEFAULT","{SET | DROP} NOT NULL","SET DATA TYPE","UNSET COMMENT","{SET | UNSET} MASKING POLICY","TRUNCATE [TABLE] [IF EXISTS]","ALTER ACCOUNT","ALTER API INTEGRATION","ALTER CONNECTION","ALTER DATABASE","ALTER EXTERNAL TABLE","ALTER FAILOVER GROUP","ALTER FILE FORMAT","ALTER FUNCTION","ALTER INTEGRATION","ALTER MASKING POLICY","ALTER MATERIALIZED VIEW","ALTER NETWORK POLICY","ALTER NOTIFICATION INTEGRATION","ALTER PIPE","ALTER PROCEDURE","ALTER REPLICATION GROUP","ALTER RESOURCE MONITOR","ALTER ROLE","ALTER ROW ACCESS POLICY","ALTER SCHEMA","ALTER SECURITY INTEGRATION","ALTER SEQUENCE","ALTER SESSION","ALTER SESSION POLICY","ALTER SHARE","ALTER STAGE","ALTER STORAGE INTEGRATION","ALTER STREAM","ALTER TAG","ALTER TASK","ALTER USER","ALTER VIEW","ALTER WAREHOUSE","BEGIN","CALL","COMMIT","COPY INTO","CREATE ACCOUNT","CREATE API INTEGRATION","CREATE CONNECTION","CREATE DATABASE","CREATE EXTERNAL FUNCTION","CREATE EXTERNAL TABLE","CREATE FAILOVER GROUP","CREATE FILE FORMAT","CREATE FUNCTION","CREATE INTEGRATION","CREATE MANAGED ACCOUNT","CREATE MASKING POLICY","CREATE MATERIALIZED VIEW","CREATE NETWORK POLICY","CREATE NOTIFICATION INTEGRATION","CREATE PIPE","CREATE PROCEDURE","CREATE REPLICATION GROUP","CREATE RESOURCE MONITOR","CREATE ROLE","CREATE ROW ACCESS POLICY","CREATE SCHEMA","CREATE SECURITY INTEGRATION","CREATE SEQUENCE","CREATE SESSION POLICY","CREATE SHARE","CREATE STAGE","CREATE STORAGE INTEGRATION","CREATE STREAM","CREATE TAG","CREATE TASK","CREATE USER","CREATE WAREHOUSE","DELETE","DESCRIBE DATABASE","DESCRIBE EXTERNAL TABLE","DESCRIBE FILE FORMAT","DESCRIBE FUNCTION","DESCRIBE INTEGRATION","DESCRIBE MASKING POLICY","DESCRIBE MATERIALIZED VIEW","DESCRIBE NETWORK POLICY","DESCRIBE PIPE","DESCRIBE PROCEDURE","DESCRIBE RESULT","DESCRIBE ROW ACCESS POLICY","DESCRIBE SCHEMA","DESCRIBE SEQUENCE","DESCRIBE SESSION POLICY","DESCRIBE SHARE","DESCRIBE STAGE","DESCRIBE STREAM","DESCRIBE TABLE","DESCRIBE TASK","DESCRIBE TRANSACTION","DESCRIBE USER","DESCRIBE VIEW","DESCRIBE WAREHOUSE","DROP CONNECTION","DROP DATABASE","DROP EXTERNAL TABLE","DROP FAILOVER GROUP","DROP FILE FORMAT","DROP FUNCTION","DROP INTEGRATION","DROP MANAGED ACCOUNT","DROP MASKING POLICY","DROP MATERIALIZED VIEW","DROP NETWORK POLICY","DROP PIPE","DROP PROCEDURE","DROP REPLICATION GROUP","DROP RESOURCE MONITOR","DROP ROLE","DROP ROW ACCESS POLICY","DROP SCHEMA","DROP SEQUENCE","DROP SESSION POLICY","DROP SHARE","DROP STAGE","DROP STREAM","DROP TAG","DROP TASK","DROP USER","DROP VIEW","DROP WAREHOUSE","EXECUTE IMMEDIATE","EXECUTE TASK","EXPLAIN","GET","GRANT OWNERSHIP","GRANT ROLE","INSERT","LIST","MERGE","PUT","REMOVE","REVOKE ROLE","ROLLBACK","SHOW COLUMNS","SHOW CONNECTIONS","SHOW DATABASES","SHOW DATABASES IN FAILOVER GROUP","SHOW DATABASES IN REPLICATION GROUP","SHOW DELEGATED AUTHORIZATIONS","SHOW EXTERNAL FUNCTIONS","SHOW EXTERNAL TABLES","SHOW FAILOVER GROUPS","SHOW FILE FORMATS","SHOW FUNCTIONS","SHOW GLOBAL ACCOUNTS","SHOW GRANTS","SHOW INTEGRATIONS","SHOW LOCKS","SHOW MANAGED ACCOUNTS","SHOW MASKING POLICIES","SHOW MATERIALIZED VIEWS","SHOW NETWORK POLICIES","SHOW OBJECTS","SHOW ORGANIZATION ACCOUNTS","SHOW PARAMETERS","SHOW PIPES","SHOW PRIMARY KEYS","SHOW PROCEDURES","SHOW REGIONS","SHOW REPLICATION ACCOUNTS","SHOW REPLICATION DATABASES","SHOW REPLICATION GROUPS","SHOW RESOURCE MONITORS","SHOW ROLES","SHOW ROW ACCESS POLICIES","SHOW SCHEMAS","SHOW SEQUENCES","SHOW SESSION POLICIES","SHOW SHARES","SHOW SHARES IN FAILOVER GROUP","SHOW SHARES IN REPLICATION GROUP","SHOW STAGES","SHOW STREAMS","SHOW TABLES","SHOW TAGS","SHOW TASKS","SHOW TRANSACTIONS","SHOW USER FUNCTIONS","SHOW USERS","SHOW VARIABLES","SHOW VIEWS","SHOW WAREHOUSES","TRUNCATE MATERIALIZED VIEW","UNDROP DATABASE","UNDROP SCHEMA","UNDROP TABLE","UNDROP TAG","UNSET","USE DATABASE","USE ROLE","USE SCHEMA","USE SECONDARY ROLES","USE WAREHOUSE"].flatMap(jU),lC={name:"snowflake",tokenizerOptions:{reservedSelect:ly,reservedClauses:[...lz,...lA,...lB],reservedSetOperations:["UNION [ALL]","MINUS","EXCEPT","INTERSECT"].flatMap(jU),reservedJoins:["[INNER] JOIN","[NATURAL] {LEFT | RIGHT | FULL} [OUTER] JOIN","{CROSS | NATURAL} JOIN"].flatMap(jU),reservedKeywordPhrases:["{ROWS | RANGE} BETWEEN","ON {UPDATE | DELETE} [SET NULL | SET DEFAULT]"].flatMap(jU),reservedDataTypePhrases:[].flatMap(jU),reservedKeywords:["ACCOUNT","ALL","ALTER","AND","ANY","AS","BETWEEN","BY","CASE","CAST","CHECK","COLUMN","CONNECT","CONNECTION","CONSTRAINT","CREATE","CROSS","CURRENT","CURRENT_DATE","CURRENT_TIME","CURRENT_TIMESTAMP","CURRENT_USER","DATABASE","DELETE","DISTINCT","DROP","ELSE","EXISTS","FALSE","FOLLOWING","FOR","FROM","FULL","GRANT","GROUP","GSCLUSTER","HAVING","ILIKE","IN","INCREMENT","INNER","INSERT","INTERSECT","INTO","IS","ISSUE","JOIN","LATERAL","LEFT","LIKE","LOCALTIME","LOCALTIMESTAMP","MINUS","NATURAL","NOT","NULL","OF","ON","OR","ORDER","ORGANIZATION","QUALIFY","REGEXP","REVOKE","RIGHT","RLIKE","ROW","ROWS","SAMPLE","SCHEMA","SELECT","SET","SOME","START","TABLE","TABLESAMPLE","THEN","TO","TRIGGER","TRUE","TRY_CAST","UNION","UNIQUE","UPDATE","USING","VALUES","VIEW","WHEN","WHENEVER","WHERE","WITH","COMMENT"],reservedDataTypes:["NUMBER","DECIMAL","NUMERIC","INT","INTEGER","BIGINT","SMALLINT","TINYINT","BYTEINT","FLOAT","FLOAT4","FLOAT8","DOUBLE","DOUBLE PRECISION","REAL","VARCHAR","CHAR","CHARACTER","STRING","TEXT","BINARY","VARBINARY","BOOLEAN","DATE","DATETIME","TIME","TIMESTAMP","TIMESTAMP_LTZ","TIMESTAMP_NTZ","TIMESTAMP","TIMESTAMP_TZ","VARIANT","OBJECT","ARRAY","GEOGRAPHY","GEOMETRY"],reservedFunctionNames:["ABS","ACOS","ACOSH","ADD_MONTHS","ALL_USER_NAMES","ANY_VALUE","APPROX_COUNT_DISTINCT","APPROX_PERCENTILE","APPROX_PERCENTILE_ACCUMULATE","APPROX_PERCENTILE_COMBINE","APPROX_PERCENTILE_ESTIMATE","APPROX_TOP_K","APPROX_TOP_K_ACCUMULATE","APPROX_TOP_K_COMBINE","APPROX_TOP_K_ESTIMATE","APPROXIMATE_JACCARD_INDEX","APPROXIMATE_SIMILARITY","ARRAY_AGG","ARRAY_APPEND","ARRAY_CAT","ARRAY_COMPACT","ARRAY_CONSTRUCT","ARRAY_CONSTRUCT_COMPACT","ARRAY_CONTAINS","ARRAY_INSERT","ARRAY_INTERSECTION","ARRAY_POSITION","ARRAY_PREPEND","ARRAY_SIZE","ARRAY_SLICE","ARRAY_TO_STRING","ARRAY_UNION_AGG","ARRAY_UNIQUE_AGG","ARRAYS_OVERLAP","AS_ARRAY","AS_BINARY","AS_BOOLEAN","AS_CHAR","AS_VARCHAR","AS_DATE","AS_DECIMAL","AS_NUMBER","AS_DOUBLE","AS_REAL","AS_INTEGER","AS_OBJECT","AS_TIME","AS_TIMESTAMP_LTZ","AS_TIMESTAMP_NTZ","AS_TIMESTAMP_TZ","ASCII","ASIN","ASINH","ATAN","ATAN2","ATANH","AUTO_REFRESH_REGISTRATION_HISTORY","AUTOMATIC_CLUSTERING_HISTORY","AVG","BASE64_DECODE_BINARY","BASE64_DECODE_STRING","BASE64_ENCODE","BIT_LENGTH","BITAND","BITAND_AGG","BITMAP_BIT_POSITION","BITMAP_BUCKET_NUMBER","BITMAP_CONSTRUCT_AGG","BITMAP_COUNT","BITMAP_OR_AGG","BITNOT","BITOR","BITOR_AGG","BITSHIFTLEFT","BITSHIFTRIGHT","BITXOR","BITXOR_AGG","BOOLAND","BOOLAND_AGG","BOOLNOT","BOOLOR","BOOLOR_AGG","BOOLXOR","BOOLXOR_AGG","BUILD_SCOPED_FILE_URL","BUILD_STAGE_FILE_URL","CASE","CAST","CBRT","CEIL","CHARINDEX","CHECK_JSON","CHECK_XML","CHR","CHAR","COALESCE","COLLATE","COLLATION","COMPLETE_TASK_GRAPHS","COMPRESS","CONCAT","CONCAT_WS","CONDITIONAL_CHANGE_EVENT","CONDITIONAL_TRUE_EVENT","CONTAINS","CONVERT_TIMEZONE","COPY_HISTORY","CORR","COS","COSH","COT","COUNT","COUNT_IF","COVAR_POP","COVAR_SAMP","CUME_DIST","CURRENT_ACCOUNT","CURRENT_AVAILABLE_ROLES","CURRENT_CLIENT","CURRENT_DATABASE","CURRENT_DATE","CURRENT_IP_ADDRESS","CURRENT_REGION","CURRENT_ROLE","CURRENT_SCHEMA","CURRENT_SCHEMAS","CURRENT_SECONDARY_ROLES","CURRENT_SESSION","CURRENT_STATEMENT","CURRENT_TASK_GRAPHS","CURRENT_TIME","CURRENT_TIMESTAMP","CURRENT_TRANSACTION","CURRENT_USER","CURRENT_VERSION","CURRENT_WAREHOUSE","DATA_TRANSFER_HISTORY","DATABASE_REFRESH_HISTORY","DATABASE_REFRESH_PROGRESS","DATABASE_REFRESH_PROGRESS_BY_JOB","DATABASE_STORAGE_USAGE_HISTORY","DATE_FROM_PARTS","DATE_PART","DATE_TRUNC","DATEADD","DATEDIFF","DAYNAME","DECODE","DECOMPRESS_BINARY","DECOMPRESS_STRING","DECRYPT","DECRYPT_RAW","DEGREES","DENSE_RANK","DIV0","EDITDISTANCE","ENCRYPT","ENCRYPT_RAW","ENDSWITH","EQUAL_NULL","EXP","EXPLAIN_JSON","EXTERNAL_FUNCTIONS_HISTORY","EXTERNAL_TABLE_FILES","EXTERNAL_TABLE_FILE_REGISTRATION_HISTORY","EXTRACT","EXTRACT_SEMANTIC_CATEGORIES","FACTORIAL","FILTER","FIRST_VALUE","FLATTEN","FLOOR","GENERATE_COLUMN_DESCRIPTION","GENERATOR","GET","GET_ABSOLUTE_PATH","GET_DDL","GET_IGNORE_CASE","GET_OBJECT_REFERENCES","GET_PATH","GET_PRESIGNED_URL","GET_RELATIVE_PATH","GET_STAGE_LOCATION","GETBIT","GREATEST","GREATEST_IGNORE_NULLS","GROUPING","GROUPING_ID","HASH","HASH_AGG","HAVERSINE","HEX_DECODE_BINARY","HEX_DECODE_STRING","HEX_ENCODE","HLL","HLL_ACCUMULATE","HLL_COMBINE","HLL_ESTIMATE","HLL_EXPORT","HLL_IMPORT","HOUR","MINUTE","SECOND","IDENTIFIER","IFF","IFNULL","ILIKE","ILIKE ANY","INFER_SCHEMA","INITCAP","INSERT","INVOKER_ROLE","INVOKER_SHARE","IS_ARRAY","IS_BINARY","IS_BOOLEAN","IS_CHAR","IS_VARCHAR","IS_DATE","IS_DATE_VALUE","IS_DECIMAL","IS_DOUBLE","IS_REAL","IS_GRANTED_TO_INVOKER_ROLE","IS_INTEGER","IS_NULL_VALUE","IS_OBJECT","IS_ROLE_IN_SESSION","IS_TIME","IS_TIMESTAMP_LTZ","IS_TIMESTAMP_NTZ","IS_TIMESTAMP_TZ","JAROWINKLER_SIMILARITY","JSON_EXTRACT_PATH_TEXT","KURTOSIS","LAG","LAST_DAY","LAST_QUERY_ID","LAST_TRANSACTION","LAST_VALUE","LEAD","LEAST","LEFT","LENGTH","LEN","LIKE","LIKE ALL","LIKE ANY","LISTAGG","LN","LOCALTIME","LOCALTIMESTAMP","LOG","LOGIN_HISTORY","LOGIN_HISTORY_BY_USER","LOWER","LPAD","LTRIM","MATERIALIZED_VIEW_REFRESH_HISTORY","MD5","MD5_HEX","MD5_BINARY","MD5_NUMBER — Obsoleted","MD5_NUMBER_LOWER64","MD5_NUMBER_UPPER64","MEDIAN","MIN","MAX","MINHASH","MINHASH_COMBINE","MOD","MODE","MONTHNAME","MONTHS_BETWEEN","NEXT_DAY","NORMAL","NTH_VALUE","NTILE","NULLIF","NULLIFZERO","NVL","NVL2","OBJECT_AGG","OBJECT_CONSTRUCT","OBJECT_CONSTRUCT_KEEP_NULL","OBJECT_DELETE","OBJECT_INSERT","OBJECT_KEYS","OBJECT_PICK","OCTET_LENGTH","PARSE_IP","PARSE_JSON","PARSE_URL","PARSE_XML","PERCENT_RANK","PERCENTILE_CONT","PERCENTILE_DISC","PI","PIPE_USAGE_HISTORY","POLICY_CONTEXT","POLICY_REFERENCES","POSITION","POW","POWER","PREVIOUS_DAY","QUERY_ACCELERATION_HISTORY","QUERY_HISTORY","QUERY_HISTORY_BY_SESSION","QUERY_HISTORY_BY_USER","QUERY_HISTORY_BY_WAREHOUSE","RADIANS","RANDOM","RANDSTR","RANK","RATIO_TO_REPORT","REGEXP","REGEXP_COUNT","REGEXP_INSTR","REGEXP_LIKE","REGEXP_REPLACE","REGEXP_SUBSTR","REGEXP_SUBSTR_ALL","REGR_AVGX","REGR_AVGY","REGR_COUNT","REGR_INTERCEPT","REGR_R2","REGR_SLOPE","REGR_SXX","REGR_SXY","REGR_SYY","REGR_VALX","REGR_VALY","REPEAT","REPLACE","REPLICATION_GROUP_REFRESH_HISTORY","REPLICATION_GROUP_REFRESH_PROGRESS","REPLICATION_GROUP_REFRESH_PROGRESS_BY_JOB","REPLICATION_GROUP_USAGE_HISTORY","REPLICATION_USAGE_HISTORY","REST_EVENT_HISTORY","RESULT_SCAN","REVERSE","RIGHT","RLIKE","ROUND","ROW_NUMBER","RPAD","RTRIM","RTRIMMED_LENGTH","SEARCH_OPTIMIZATION_HISTORY","SEQ1","SEQ2","SEQ4","SEQ8","SERVERLESS_TASK_HISTORY","SHA1","SHA1_HEX","SHA1_BINARY","SHA2","SHA2_HEX","SHA2_BINARY","SIGN","SIN","SINH","SKEW","SOUNDEX","SPACE","SPLIT","SPLIT_PART","SPLIT_TO_TABLE","SQRT","SQUARE","ST_AREA","ST_ASEWKB","ST_ASEWKT","ST_ASGEOJSON","ST_ASWKB","ST_ASBINARY","ST_ASWKT","ST_ASTEXT","ST_AZIMUTH","ST_CENTROID","ST_COLLECT","ST_CONTAINS","ST_COVEREDBY","ST_COVERS","ST_DIFFERENCE","ST_DIMENSION","ST_DISJOINT","ST_DISTANCE","ST_DWITHIN","ST_ENDPOINT","ST_ENVELOPE","ST_GEOGFROMGEOHASH","ST_GEOGPOINTFROMGEOHASH","ST_GEOGRAPHYFROMWKB","ST_GEOGRAPHYFROMWKT","ST_GEOHASH","ST_GEOMETRYFROMWKB","ST_GEOMETRYFROMWKT","ST_HAUSDORFFDISTANCE","ST_INTERSECTION","ST_INTERSECTS","ST_LENGTH","ST_MAKEGEOMPOINT","ST_GEOM_POINT","ST_MAKELINE","ST_MAKEPOINT","ST_POINT","ST_MAKEPOLYGON","ST_POLYGON","ST_NPOINTS","ST_NUMPOINTS","ST_PERIMETER","ST_POINTN","ST_SETSRID","ST_SIMPLIFY","ST_SRID","ST_STARTPOINT","ST_SYMDIFFERENCE","ST_UNION","ST_WITHIN","ST_X","ST_XMAX","ST_XMIN","ST_Y","ST_YMAX","ST_YMIN","STAGE_DIRECTORY_FILE_REGISTRATION_HISTORY","STAGE_STORAGE_USAGE_HISTORY","STARTSWITH","STDDEV","STDDEV_POP","STDDEV_SAMP","STRIP_NULL_VALUE","STRTOK","STRTOK_SPLIT_TO_TABLE","STRTOK_TO_ARRAY","SUBSTR","SUBSTRING","SUM","SYSDATE","SYSTEM$ABORT_SESSION","SYSTEM$ABORT_TRANSACTION","SYSTEM$AUTHORIZE_PRIVATELINK","SYSTEM$AUTHORIZE_STAGE_PRIVATELINK_ACCESS","SYSTEM$BEHAVIOR_CHANGE_BUNDLE_STATUS","SYSTEM$CANCEL_ALL_QUERIES","SYSTEM$CANCEL_QUERY","SYSTEM$CLUSTERING_DEPTH","SYSTEM$CLUSTERING_INFORMATION","SYSTEM$CLUSTERING_RATIO ","SYSTEM$CURRENT_USER_TASK_NAME","SYSTEM$DATABASE_REFRESH_HISTORY ","SYSTEM$DATABASE_REFRESH_PROGRESS","SYSTEM$DATABASE_REFRESH_PROGRESS_BY_JOB ","SYSTEM$DISABLE_BEHAVIOR_CHANGE_BUNDLE","SYSTEM$DISABLE_DATABASE_REPLICATION","SYSTEM$ENABLE_BEHAVIOR_CHANGE_BUNDLE","SYSTEM$ESTIMATE_QUERY_ACCELERATION","SYSTEM$ESTIMATE_SEARCH_OPTIMIZATION_COSTS","SYSTEM$EXPLAIN_JSON_TO_TEXT","SYSTEM$EXPLAIN_PLAN_JSON","SYSTEM$EXTERNAL_TABLE_PIPE_STATUS","SYSTEM$GENERATE_SAML_CSR","SYSTEM$GENERATE_SCIM_ACCESS_TOKEN","SYSTEM$GET_AWS_SNS_IAM_POLICY","SYSTEM$GET_PREDECESSOR_RETURN_VALUE","SYSTEM$GET_PRIVATELINK","SYSTEM$GET_PRIVATELINK_AUTHORIZED_ENDPOINTS","SYSTEM$GET_PRIVATELINK_CONFIG","SYSTEM$GET_SNOWFLAKE_PLATFORM_INFO","SYSTEM$GET_TAG","SYSTEM$GET_TAG_ALLOWED_VALUES","SYSTEM$GET_TAG_ON_CURRENT_COLUMN","SYSTEM$GET_TAG_ON_CURRENT_TABLE","SYSTEM$GLOBAL_ACCOUNT_SET_PARAMETER","SYSTEM$LAST_CHANGE_COMMIT_TIME","SYSTEM$LINK_ACCOUNT_OBJECTS_BY_NAME","SYSTEM$MIGRATE_SAML_IDP_REGISTRATION","SYSTEM$PIPE_FORCE_RESUME","SYSTEM$PIPE_STATUS","SYSTEM$REVOKE_PRIVATELINK","SYSTEM$REVOKE_STAGE_PRIVATELINK_ACCESS","SYSTEM$SET_RETURN_VALUE","SYSTEM$SHOW_OAUTH_CLIENT_SECRETS","SYSTEM$STREAM_GET_TABLE_TIMESTAMP","SYSTEM$STREAM_HAS_DATA","SYSTEM$TASK_DEPENDENTS_ENABLE","SYSTEM$TYPEOF","SYSTEM$USER_TASK_CANCEL_ONGOING_EXECUTIONS","SYSTEM$VERIFY_EXTERNAL_OAUTH_TOKEN","SYSTEM$WAIT","SYSTEM$WHITELIST","SYSTEM$WHITELIST_PRIVATELINK","TAG_REFERENCES","TAG_REFERENCES_ALL_COLUMNS","TAG_REFERENCES_WITH_LINEAGE","TAN","TANH","TASK_DEPENDENTS","TASK_HISTORY","TIME_FROM_PARTS","TIME_SLICE","TIMEADD","TIMEDIFF","TIMESTAMP_FROM_PARTS","TIMESTAMPADD","TIMESTAMPDIFF","TO_ARRAY","TO_BINARY","TO_BOOLEAN","TO_CHAR","TO_VARCHAR","TO_DATE","DATE","TO_DECIMAL","TO_NUMBER","TO_NUMERIC","TO_DOUBLE","TO_GEOGRAPHY","TO_GEOMETRY","TO_JSON","TO_OBJECT","TO_TIME","TIME","TO_TIMESTAMP","TO_TIMESTAMP_LTZ","TO_TIMESTAMP_NTZ","TO_TIMESTAMP_TZ","TO_VARIANT","TO_XML","TRANSLATE","TRIM","TRUNCATE","TRUNC","TRUNC","TRY_BASE64_DECODE_BINARY","TRY_BASE64_DECODE_STRING","TRY_CAST","TRY_HEX_DECODE_BINARY","TRY_HEX_DECODE_STRING","TRY_PARSE_JSON","TRY_TO_BINARY","TRY_TO_BOOLEAN","TRY_TO_DATE","TRY_TO_DECIMAL","TRY_TO_NUMBER","TRY_TO_NUMERIC","TRY_TO_DOUBLE","TRY_TO_GEOGRAPHY","TRY_TO_GEOMETRY","TRY_TO_TIME","TRY_TO_TIMESTAMP","TRY_TO_TIMESTAMP_LTZ","TRY_TO_TIMESTAMP_NTZ","TRY_TO_TIMESTAMP_TZ","TYPEOF","UNICODE","UNIFORM","UPPER","UUID_STRING","VALIDATE","VALIDATE_PIPE_LOAD","VAR_POP","VAR_SAMP","VARIANCE","VARIANCE_SAMP","VARIANCE_POP","WAREHOUSE_LOAD_HISTORY","WAREHOUSE_METERING_HISTORY","WIDTH_BUCKET","XMLGET","YEAR","YEAROFWEEK","YEAROFWEEKISO","DAY","DAYOFMONTH","DAYOFWEEK","DAYOFWEEKISO","DAYOFYEAR","WEEK","WEEK","WEEKOFYEAR","WEEKISO","MONTH","QUARTER","ZEROIFNULL","ZIPF"],stringTypes:["$$","''-qq-bs"],identTypes:['""-qq'],variableTypes:[{regex:"[$][1-9]\\d*"},{regex:"[$][_a-zA-Z][_a-zA-Z0-9$]*"}],extraParens:["[]"],identChars:{rest:"$"},lineCommentTypes:["--","//"],operators:["%","::","||","=>",":=","->"],propertyAccessOperators:[":"]},formatOptions:{alwaysDenseOperators:["::"],onelineClauses:[...lA,...lB],tabularOnelineClauses:lB}};a.s(["bigquery",0,kb,"db2",0,kh,"db2i",0,km,"duckdb",0,kr,"hive",0,kw,"mariadb",0,kC,"mysql",0,kH,"n1ql",0,kQ,"plsql",0,kV,"postgresql",0,k$,"redshift",0,k3,"singlestoredb",0,lx,"snowflake",0,lC,"spark",0,k8,"sql",0,li,"sqlite",0,ld,"tidb",0,kM,"transactsql",0,ls,"trino",0,ln],81567);var lD=a.i(81567);let lE=a=>a[a.length-1],lF=a=>a.sort((a,b)=>b.length-a.length||a.localeCompare(b)),lG=a=>a.replace(/[.*+?^${}()|[\]\\]/gu,"\\$&"),lH=/\s+/uy,lI=a=>RegExp(`(?:${a})`,"uy"),lJ=a=>a.split("").map(a=>/ /gu.test(a)?"\\s+":`[${a.toUpperCase()}${a.toLowerCase()}]`).join(""),lK=(a,b=[])=>{let c=+("open"!==a);return lI(["()",...b].map(a=>a[c]).map(lG).join("|"))},lL=a=>lI(`${lF(a).map(lG).join("|")}`),lM=(a,b={})=>{if(0===a.length)return/^\b$/u;let c=(({rest:a,dashes:b})=>a||b?`(?![${a||""}${b?"-":""}])`:"")(b),d=lF(a).map(lG).join("|").replace(/ /gu,"\\s+");return RegExp(`(?:${d})${c}\\b`,"iuy")},lN=(a,b)=>{if(!a.length)return;let c=a.map(lG).join("|");return lI(`(?:${c})(?:${b})`)},lO={"``":"(?:`[^`]*`)+","[]":String.raw`(?:\[[^\]]*\])(?:\][^\]]*\])*`,'""-qq':String.raw`(?:"[^"]*")+`,'""-bs':String.raw`(?:"[^"\\]*(?:\\.[^"\\]*)*")`,'""-qq-bs':String.raw`(?:"[^"\\]*(?:\\.[^"\\]*)*")+`,'""-raw':String.raw`(?:"[^"]*")`,"''-qq":String.raw`(?:'[^']*')+`,"''-bs":String.raw`(?:'[^'\\]*(?:\\.[^'\\]*)*')`,"''-qq-bs":String.raw`(?:'[^'\\]*(?:\\.[^'\\]*)*')+`,"''-raw":String.raw`(?:'[^']*')`,$$:String.raw`(?<tag>\$\w*\$)[\s\S]*?\k<tag>`,"'''..'''":String.raw`'''[^\\]*?(?:\\.[^\\]*?)*?'''`,'""".."""':String.raw`"""[^\\]*?(?:\\.[^\\]*?)*?"""`,"{}":String.raw`(?:\{[^\}]*\})`,"q''":(e=Object.entries(d={"<":">","[":"]","(":")","{":"}"}).map(([a,b])=>"{left}(?:(?!{right}').)*?{right}".replace(/{left}/g,lG(a)).replace(/{right}/g,lG(b))),f=lG(Object.keys(d).join("")),g=String.raw`(?<tag>[^\s${f}])(?:(?!\k<tag>').)*?\k<tag>`,`[Qq]'(?:${g}|${e.join("|")})'`)},lP=a=>"string"==typeof a?lO[a]:"regex"in a?a.regex:(({prefixes:a,requirePrefix:b})=>`(?:${a.map(lJ).join("|")}${b?"":"|"})`)(a)+lO[a.quote],lQ=a=>a.map(lP).join("|"),lR=({first:a,rest:b,dashes:c,allowFirstCharNumber:d}={})=>{let e="\\p{Alphabetic}\\p{Mark}_",f="\\p{Decimal_Number}",g=lG(null!=a?a:""),h=lG(null!=b?b:""),i=d?`[${e}${f}${g}][${e}${f}${h}]*`:`[${e}${g}][${e}${f}${h}]*`;return c?i+"(?:-"+i+")*":i};function lS(a,b){let c=a.slice(0,b).split(/\n/);return{line:c.length,col:c[c.length-1].length+1}}class lT{constructor(a,b){this.rules=a,this.dialectName=b,this.input="",this.index=0}tokenize(a){let b;this.input=a,this.index=0;let c=[];for(;this.index<this.input.length;){let a=this.getWhitespace();if(this.index<this.input.length){if(!(b=this.getNextToken()))throw this.createParseError();c.push(Object.assign(Object.assign({},b),{precedingWhitespace:a}))}}return c}createParseError(){let a=this.input.slice(this.index,this.index+10),{line:b,col:c}=lS(this.input,this.index);return Error(`Parse error: Unexpected "${a}" at line ${b} column ${c}.
${this.dialectInfo()}`)}dialectInfo(){return"sql"===this.dialectName?`This likely happens because you're using the default "sql" dialect.
If possible, please select a more specific dialect (like sqlite, postgresql, etc).`:`SQL dialect used: "${this.dialectName}".`}getWhitespace(){lH.lastIndex=this.index;let a=lH.exec(this.input);if(a)return this.index+=a[0].length,a[0]}getNextToken(){for(let a of this.rules){let b=this.match(a);if(b)return b}}match(a){a.regex.lastIndex=this.index;let b=a.regex.exec(this.input);if(b){let c=b[0],d={type:a.type,raw:c,text:a.text?a.text(c):c,start:this.index};return a.key&&(d.key=a.key(c)),this.index+=c.length,d}}}let lU=/\/\*/uy,lV=/[\s\S]/uy,lW=/\*\//uy;class lX{constructor(){this.lastIndex=0}exec(a){let b,c="",d=0;if(!(b=this.matchSection(lU,a)))return null;for(c+=b,d++;d>0;)if(b=this.matchSection(lU,a))c+=b,d++;else if(b=this.matchSection(lW,a))c+=b,d--;else{if(!(b=this.matchSection(lV,a)))return null;c+=b}return[c]}matchSection(a,b){a.lastIndex=this.lastIndex;let c=a.exec(b);return c&&(this.lastIndex+=c[0].length),c?c[0]:null}}class lY{constructor(a,b){this.cfg=a,this.dialectName=b,this.rulesBeforeParams=this.buildRulesBeforeParams(a),this.rulesAfterParams=this.buildRulesAfterParams(a)}tokenize(a,b){let c=new lT([...this.rulesBeforeParams,...this.buildParamRules(this.cfg,b),...this.rulesAfterParams],this.dialectName).tokenize(a);return this.cfg.postProcess?this.cfg.postProcess(c):c}buildRulesBeforeParams(a){var b,c,d;let e;return this.validRules([{type:s.DISABLE_COMMENT,regex:/(\/\* *sql-formatter-disable *\*\/[\s\S]*?(?:\/\* *sql-formatter-enable *\*\/|$))/uy},{type:s.BLOCK_COMMENT,regex:a.nestedBlockComments?new lX:/(\/\*[^]*?\*\/)/uy},{type:s.LINE_COMMENT,regex:(e=null!=(b=a.lineCommentTypes)?b:["--"],RegExp(`(?:${e.map(lG).join("|")}).*?(?=\r
|\r|
|$)`,"uy"))},{type:s.QUOTED_IDENTIFIER,regex:lI(lQ(a.identTypes))},{type:s.NUMBER,regex:a.underscoresInNumbers?/(?:0x[0-9a-fA-F_]+|0b[01_]+|(?:-\s*)?(?:[0-9_]*\.[0-9_]+|[0-9_]+(?:\.[0-9_]*)?)(?:[eE][-+]?[0-9_]+(?:\.[0-9_]+)?)?)(?![\w\p{Alphabetic}])/uy:/(?:0x[0-9a-fA-F]+|0b[01]+|(?:-\s*)?(?:[0-9]*\.[0-9]+|[0-9]+(?:\.[0-9]*)?)(?:[eE][-+]?[0-9]+(?:\.[0-9]+)?)?)(?![\w\p{Alphabetic}])/uy},{type:s.RESERVED_KEYWORD_PHRASE,regex:lM(null!=(c=a.reservedKeywordPhrases)?c:[],a.identChars),text:lZ},{type:s.RESERVED_DATA_TYPE_PHRASE,regex:lM(null!=(d=a.reservedDataTypePhrases)?d:[],a.identChars),text:lZ},{type:s.CASE,regex:/CASE\b/iuy,text:lZ},{type:s.END,regex:/END\b/iuy,text:lZ},{type:s.BETWEEN,regex:/BETWEEN\b/iuy,text:lZ},{type:s.LIMIT,regex:a.reservedClauses.includes("LIMIT")?/LIMIT\b/iuy:void 0,text:lZ},{type:s.RESERVED_CLAUSE,regex:lM(a.reservedClauses,a.identChars),text:lZ},{type:s.RESERVED_SELECT,regex:lM(a.reservedSelect,a.identChars),text:lZ},{type:s.RESERVED_SET_OPERATION,regex:lM(a.reservedSetOperations,a.identChars),text:lZ},{type:s.WHEN,regex:/WHEN\b/iuy,text:lZ},{type:s.ELSE,regex:/ELSE\b/iuy,text:lZ},{type:s.THEN,regex:/THEN\b/iuy,text:lZ},{type:s.RESERVED_JOIN,regex:lM(a.reservedJoins,a.identChars),text:lZ},{type:s.AND,regex:/AND\b/iuy,text:lZ},{type:s.OR,regex:/OR\b/iuy,text:lZ},{type:s.XOR,regex:a.supportsXor?/XOR\b/iuy:void 0,text:lZ},...a.operatorKeyword?[{type:s.OPERATOR,regex:/OPERATOR *\([^)]+\)/iuy}]:[],{type:s.RESERVED_FUNCTION_NAME,regex:lM(a.reservedFunctionNames,a.identChars),text:lZ},{type:s.RESERVED_DATA_TYPE,regex:lM(a.reservedDataTypes,a.identChars),text:lZ},{type:s.RESERVED_KEYWORD,regex:lM(a.reservedKeywords,a.identChars),text:lZ}])}buildRulesAfterParams(a){var b,c;return this.validRules([{type:s.VARIABLE,regex:a.variableTypes?lI(a.variableTypes.map(a=>"regex"in a?a.regex:lP(a)).join("|")):void 0},{type:s.STRING,regex:lI(lQ(a.stringTypes))},{type:s.IDENTIFIER,regex:((a={})=>lI(lR(a)))(a.identChars)},{type:s.DELIMITER,regex:/[;]/uy},{type:s.COMMA,regex:/[,]/y},{type:s.OPEN_PAREN,regex:lK("open",a.extraParens)},{type:s.CLOSE_PAREN,regex:lK("close",a.extraParens)},{type:s.OPERATOR,regex:lL(["+","-","/",">","<","=","<>","<=",">=","!=",...null!=(b=a.operators)?b:[]])},{type:s.ASTERISK,regex:/[*]/uy},{type:s.PROPERTY_ACCESS_OPERATOR,regex:lL([".",...null!=(c=a.propertyAccessOperators)?c:[]])}])}buildParamRules(a,b){var c,d,e,f,g;let h={named:(null==b?void 0:b.named)||(null==(c=a.paramTypes)?void 0:c.named)||[],quoted:(null==b?void 0:b.quoted)||(null==(d=a.paramTypes)?void 0:d.quoted)||[],numbered:(null==b?void 0:b.numbered)||(null==(e=a.paramTypes)?void 0:e.numbered)||[],positional:"boolean"==typeof(null==b?void 0:b.positional)?b.positional:null==(f=a.paramTypes)?void 0:f.positional,custom:(null==b?void 0:b.custom)||(null==(g=a.paramTypes)?void 0:g.custom)||[]};return this.validRules([{type:s.NAMED_PARAMETER,regex:lN(h.named,lR(a.paramChars||a.identChars)),key:a=>a.slice(1)},{type:s.QUOTED_PARAMETER,regex:lN(h.quoted,lQ(a.identTypes)),key:a=>(({tokenKey:a,quoteChar:b})=>a.replace(RegExp(lG("\\"+b),"gu"),b))({tokenKey:a.slice(2,-1),quoteChar:a.slice(-1)})},{type:s.NUMBERED_PARAMETER,regex:lN(h.numbered,"[0-9]+"),key:a=>a.slice(1)},{type:s.POSITIONAL_PARAMETER,regex:h.positional?/[?]/y:void 0},...h.custom.map(a=>{var b;return{type:s.CUSTOM_PARAMETER,regex:lI(a.regex),key:null!=(b=a.key)?b:a=>a}})])}validRules(a){return a.filter(a=>!!a.regex)}}let lZ=a=>a.toUpperCase().replace(/\s+/gu," "),l$=new Map,l_=a=>{var b;return{alwaysDenseOperators:a.alwaysDenseOperators||[],onelineClauses:Object.fromEntries(a.onelineClauses.map(a=>[a,!0])),tabularOnelineClauses:Object.fromEntries((null!=(b=a.tabularOnelineClauses)?b:a.onelineClauses).map(a=>[a,!0]))}};function l0(a){return"tabularLeft"===a.indentStyle||"tabularRight"===a.indentStyle}class l1{constructor(a){this.params=a,this.index=0}get({key:a,text:b}){return this.params?a?this.params[a]:this.params[this.index++]:b}getPositionalParameterIndex(){return this.index}setPositionalParameterIndex(a){this.index=a}}var l2=a.i(16717);let l3=(a,b,c)=>{if(j6(a.type)){let d=l8(c,b);if(d&&d.type===s.PROPERTY_ACCESS_OPERATOR)return Object.assign(Object.assign({},a),{type:s.IDENTIFIER,text:a.raw});let e=l9(c,b);if(e&&e.type===s.PROPERTY_ACCESS_OPERATOR)return Object.assign(Object.assign({},a),{type:s.IDENTIFIER,text:a.raw})}return a},l4=(a,b,c)=>{if(a.type===s.RESERVED_FUNCTION_NAME){let d=l9(c,b);if(!d||!ma(d))return Object.assign(Object.assign({},a),{type:s.IDENTIFIER,text:a.raw})}return a},l5=(a,b,c)=>{if(a.type===s.RESERVED_DATA_TYPE){let d=l9(c,b);if(d&&ma(d))return Object.assign(Object.assign({},a),{type:s.RESERVED_PARAMETERIZED_DATA_TYPE})}return a},l6=(a,b,c)=>{if(a.type===s.IDENTIFIER){let d=l9(c,b);if(d&&mb(d))return Object.assign(Object.assign({},a),{type:s.ARRAY_IDENTIFIER})}return a},l7=(a,b,c)=>{if(a.type===s.RESERVED_DATA_TYPE){let d=l9(c,b);if(d&&mb(d))return Object.assign(Object.assign({},a),{type:s.ARRAY_KEYWORD})}return a},l8=(a,b)=>l9(a,b,-1),l9=(a,b,c=1)=>{let d=1;for(;a[b+d*c]&&mc(a[b+d*c]);)d++;return a[b+d*c]},ma=a=>a.type===s.OPEN_PAREN&&"("===a.text,mb=a=>a.type===s.OPEN_PAREN&&"["===a.text,mc=a=>a.type===s.BLOCK_COMMENT||a.type===s.LINE_COMMENT;class md{constructor(a){this.tokenize=a,this.index=0,this.tokens=[],this.input=""}reset(a,b){this.input=a,this.index=0,this.tokens=this.tokenize(a)}next(){return this.tokens[this.index++]}save(){}formatError(a){let{line:b,col:c}=lS(this.input,a.start);return`Parse error at token: ${a.text} at line ${b} column ${c}`}has(a){return a in s}}function me(a){return a[0]}(o=t=t||(t={})).statement="statement",o.clause="clause",o.set_operation="set_operation",o.function_call="function_call",o.parameterized_data_type="parameterized_data_type",o.array_subscript="array_subscript",o.property_access="property_access",o.parenthesis="parenthesis",o.between_predicate="between_predicate",o.case_expression="case_expression",o.case_when="case_when",o.case_else="case_else",o.limit_clause="limit_clause",o.all_columns_asterisk="all_columns_asterisk",o.literal="literal",o.identifier="identifier",o.keyword="keyword",o.data_type="data_type",o.parameter="parameter",o.operator="operator",o.comma="comma",o.line_comment="line_comment",o.block_comment="block_comment",o.disable_comment="disable_comment";let mf=new md(a=>[]),mg=([[a]])=>a,mh=a=>({type:t.keyword,tokenType:a.type,text:a.text,raw:a.raw}),mi=a=>({type:t.data_type,text:a.text,raw:a.raw}),mj=(a,{leading:b,trailing:c})=>((null==b?void 0:b.length)&&(a=Object.assign(Object.assign({},a),{leadingComments:b})),(null==c?void 0:c.length)&&(a=Object.assign(Object.assign({},a),{trailingComments:c})),a),mk={Lexer:mf,ParserRules:[{name:"main$ebnf$1",symbols:[]},{name:"main$ebnf$1",symbols:["main$ebnf$1","statement"],postprocess:a=>a[0].concat([a[1]])},{name:"main",symbols:["main$ebnf$1"],postprocess:([a])=>{let b=a[a.length-1];return b&&!b.hasSemicolon?b.children.length>0?a:a.slice(0,-1):a}},{name:"statement$subexpression$1",symbols:[mf.has("DELIMITER")?{type:"DELIMITER"}:DELIMITER]},{name:"statement$subexpression$1",symbols:[mf.has("EOF")?{type:"EOF"}:EOF]},{name:"statement",symbols:["expressions_or_clauses","statement$subexpression$1"],postprocess:([a,[b]])=>({type:t.statement,children:a,hasSemicolon:b.type===s.DELIMITER})},{name:"expressions_or_clauses$ebnf$1",symbols:[]},{name:"expressions_or_clauses$ebnf$1",symbols:["expressions_or_clauses$ebnf$1","free_form_sql"],postprocess:a=>a[0].concat([a[1]])},{name:"expressions_or_clauses$ebnf$2",symbols:[]},{name:"expressions_or_clauses$ebnf$2",symbols:["expressions_or_clauses$ebnf$2","clause"],postprocess:a=>a[0].concat([a[1]])},{name:"expressions_or_clauses",symbols:["expressions_or_clauses$ebnf$1","expressions_or_clauses$ebnf$2"],postprocess:([a,b])=>[...a,...b]},{name:"clause$subexpression$1",symbols:["limit_clause"]},{name:"clause$subexpression$1",symbols:["select_clause"]},{name:"clause$subexpression$1",symbols:["other_clause"]},{name:"clause$subexpression$1",symbols:["set_operation"]},{name:"clause",symbols:["clause$subexpression$1"],postprocess:mg},{name:"limit_clause$ebnf$1$subexpression$1$ebnf$1",symbols:["free_form_sql"]},{name:"limit_clause$ebnf$1$subexpression$1$ebnf$1",symbols:["limit_clause$ebnf$1$subexpression$1$ebnf$1","free_form_sql"],postprocess:a=>a[0].concat([a[1]])},{name:"limit_clause$ebnf$1$subexpression$1",symbols:[mf.has("COMMA")?{type:"COMMA"}:COMMA,"limit_clause$ebnf$1$subexpression$1$ebnf$1"]},{name:"limit_clause$ebnf$1",symbols:["limit_clause$ebnf$1$subexpression$1"],postprocess:me},{name:"limit_clause$ebnf$1",symbols:[],postprocess:()=>null},{name:"limit_clause",symbols:[mf.has("LIMIT")?{type:"LIMIT"}:LIMIT,"_","expression_chain_","limit_clause$ebnf$1"],postprocess:([a,b,c,d])=>{if(!d)return{type:t.limit_clause,limitKw:mj(mh(a),{trailing:b}),count:c};{let[e,f]=d;return{type:t.limit_clause,limitKw:mj(mh(a),{trailing:b}),offset:c,count:f}}}},{name:"select_clause$subexpression$1$ebnf$1",symbols:[]},{name:"select_clause$subexpression$1$ebnf$1",symbols:["select_clause$subexpression$1$ebnf$1","free_form_sql"],postprocess:a=>a[0].concat([a[1]])},{name:"select_clause$subexpression$1",symbols:["all_columns_asterisk","select_clause$subexpression$1$ebnf$1"]},{name:"select_clause$subexpression$1$ebnf$2",symbols:[]},{name:"select_clause$subexpression$1$ebnf$2",symbols:["select_clause$subexpression$1$ebnf$2","free_form_sql"],postprocess:a=>a[0].concat([a[1]])},{name:"select_clause$subexpression$1",symbols:["asteriskless_free_form_sql","select_clause$subexpression$1$ebnf$2"]},{name:"select_clause",symbols:[mf.has("RESERVED_SELECT")?{type:"RESERVED_SELECT"}:RESERVED_SELECT,"select_clause$subexpression$1"],postprocess:([a,[b,c]])=>({type:t.clause,nameKw:mh(a),children:[b,...c]})},{name:"select_clause",symbols:[mf.has("RESERVED_SELECT")?{type:"RESERVED_SELECT"}:RESERVED_SELECT],postprocess:([a])=>({type:t.clause,nameKw:mh(a),children:[]})},{name:"all_columns_asterisk",symbols:[mf.has("ASTERISK")?{type:"ASTERISK"}:ASTERISK],postprocess:()=>({type:t.all_columns_asterisk})},{name:"other_clause$ebnf$1",symbols:[]},{name:"other_clause$ebnf$1",symbols:["other_clause$ebnf$1","free_form_sql"],postprocess:a=>a[0].concat([a[1]])},{name:"other_clause",symbols:[mf.has("RESERVED_CLAUSE")?{type:"RESERVED_CLAUSE"}:RESERVED_CLAUSE,"other_clause$ebnf$1"],postprocess:([a,b])=>({type:t.clause,nameKw:mh(a),children:b})},{name:"set_operation$ebnf$1",symbols:[]},{name:"set_operation$ebnf$1",symbols:["set_operation$ebnf$1","free_form_sql"],postprocess:a=>a[0].concat([a[1]])},{name:"set_operation",symbols:[mf.has("RESERVED_SET_OPERATION")?{type:"RESERVED_SET_OPERATION"}:RESERVED_SET_OPERATION,"set_operation$ebnf$1"],postprocess:([a,b])=>({type:t.set_operation,nameKw:mh(a),children:b})},{name:"expression_chain_$ebnf$1",symbols:["expression_with_comments_"]},{name:"expression_chain_$ebnf$1",symbols:["expression_chain_$ebnf$1","expression_with_comments_"],postprocess:a=>a[0].concat([a[1]])},{name:"expression_chain_",symbols:["expression_chain_$ebnf$1"],postprocess:me},{name:"expression_chain$ebnf$1",symbols:[]},{name:"expression_chain$ebnf$1",symbols:["expression_chain$ebnf$1","_expression_with_comments"],postprocess:a=>a[0].concat([a[1]])},{name:"expression_chain",symbols:["expression","expression_chain$ebnf$1"],postprocess:([a,b])=>[a,...b]},{name:"andless_expression_chain$ebnf$1",symbols:[]},{name:"andless_expression_chain$ebnf$1",symbols:["andless_expression_chain$ebnf$1","_andless_expression_with_comments"],postprocess:a=>a[0].concat([a[1]])},{name:"andless_expression_chain",symbols:["andless_expression","andless_expression_chain$ebnf$1"],postprocess:([a,b])=>[a,...b]},{name:"expression_with_comments_",symbols:["expression","_"],postprocess:([a,b])=>mj(a,{trailing:b})},{name:"_expression_with_comments",symbols:["_","expression"],postprocess:([a,b])=>mj(b,{leading:a})},{name:"_andless_expression_with_comments",symbols:["_","andless_expression"],postprocess:([a,b])=>mj(b,{leading:a})},{name:"free_form_sql$subexpression$1",symbols:["asteriskless_free_form_sql"]},{name:"free_form_sql$subexpression$1",symbols:["asterisk"]},{name:"free_form_sql",symbols:["free_form_sql$subexpression$1"],postprocess:mg},{name:"asteriskless_free_form_sql$subexpression$1",symbols:["asteriskless_andless_expression"]},{name:"asteriskless_free_form_sql$subexpression$1",symbols:["logic_operator"]},{name:"asteriskless_free_form_sql$subexpression$1",symbols:["comma"]},{name:"asteriskless_free_form_sql$subexpression$1",symbols:["comment"]},{name:"asteriskless_free_form_sql$subexpression$1",symbols:["other_keyword"]},{name:"asteriskless_free_form_sql",symbols:["asteriskless_free_form_sql$subexpression$1"],postprocess:mg},{name:"expression$subexpression$1",symbols:["andless_expression"]},{name:"expression$subexpression$1",symbols:["logic_operator"]},{name:"expression",symbols:["expression$subexpression$1"],postprocess:mg},{name:"andless_expression$subexpression$1",symbols:["asteriskless_andless_expression"]},{name:"andless_expression$subexpression$1",symbols:["asterisk"]},{name:"andless_expression",symbols:["andless_expression$subexpression$1"],postprocess:mg},{name:"asteriskless_andless_expression$subexpression$1",symbols:["atomic_expression"]},{name:"asteriskless_andless_expression$subexpression$1",symbols:["between_predicate"]},{name:"asteriskless_andless_expression$subexpression$1",symbols:["case_expression"]},{name:"asteriskless_andless_expression",symbols:["asteriskless_andless_expression$subexpression$1"],postprocess:mg},{name:"atomic_expression$subexpression$1",symbols:["array_subscript"]},{name:"atomic_expression$subexpression$1",symbols:["function_call"]},{name:"atomic_expression$subexpression$1",symbols:["property_access"]},{name:"atomic_expression$subexpression$1",symbols:["parenthesis"]},{name:"atomic_expression$subexpression$1",symbols:["curly_braces"]},{name:"atomic_expression$subexpression$1",symbols:["square_brackets"]},{name:"atomic_expression$subexpression$1",symbols:["operator"]},{name:"atomic_expression$subexpression$1",symbols:["identifier"]},{name:"atomic_expression$subexpression$1",symbols:["parameter"]},{name:"atomic_expression$subexpression$1",symbols:["literal"]},{name:"atomic_expression$subexpression$1",symbols:["data_type"]},{name:"atomic_expression$subexpression$1",symbols:["keyword"]},{name:"atomic_expression",symbols:["atomic_expression$subexpression$1"],postprocess:mg},{name:"array_subscript",symbols:[mf.has("ARRAY_IDENTIFIER")?{type:"ARRAY_IDENTIFIER"}:ARRAY_IDENTIFIER,"_","square_brackets"],postprocess:([a,b,c])=>({type:t.array_subscript,array:mj({type:t.identifier,quoted:!1,text:a.text},{trailing:b}),parenthesis:c})},{name:"array_subscript",symbols:[mf.has("ARRAY_KEYWORD")?{type:"ARRAY_KEYWORD"}:ARRAY_KEYWORD,"_","square_brackets"],postprocess:([a,b,c])=>({type:t.array_subscript,array:mj(mh(a),{trailing:b}),parenthesis:c})},{name:"function_call",symbols:[mf.has("RESERVED_FUNCTION_NAME")?{type:"RESERVED_FUNCTION_NAME"}:RESERVED_FUNCTION_NAME,"_","parenthesis"],postprocess:([a,b,c])=>({type:t.function_call,nameKw:mj(mh(a),{trailing:b}),parenthesis:c})},{name:"parenthesis",symbols:[{literal:"("},"expressions_or_clauses",{literal:")"}],postprocess:([a,b,c])=>({type:t.parenthesis,children:b,openParen:"(",closeParen:")"})},{name:"curly_braces$ebnf$1",symbols:[]},{name:"curly_braces$ebnf$1",symbols:["curly_braces$ebnf$1","free_form_sql"],postprocess:a=>a[0].concat([a[1]])},{name:"curly_braces",symbols:[{literal:"{"},"curly_braces$ebnf$1",{literal:"}"}],postprocess:([a,b,c])=>({type:t.parenthesis,children:b,openParen:"{",closeParen:"}"})},{name:"square_brackets$ebnf$1",symbols:[]},{name:"square_brackets$ebnf$1",symbols:["square_brackets$ebnf$1","free_form_sql"],postprocess:a=>a[0].concat([a[1]])},{name:"square_brackets",symbols:[{literal:"["},"square_brackets$ebnf$1",{literal:"]"}],postprocess:([a,b,c])=>({type:t.parenthesis,children:b,openParen:"[",closeParen:"]"})},{name:"property_access$subexpression$1",symbols:["identifier"]},{name:"property_access$subexpression$1",symbols:["array_subscript"]},{name:"property_access$subexpression$1",symbols:["all_columns_asterisk"]},{name:"property_access$subexpression$1",symbols:["parameter"]},{name:"property_access",symbols:["atomic_expression","_",mf.has("PROPERTY_ACCESS_OPERATOR")?{type:"PROPERTY_ACCESS_OPERATOR"}:PROPERTY_ACCESS_OPERATOR,"_","property_access$subexpression$1"],postprocess:([a,b,c,d,[e]])=>({type:t.property_access,object:mj(a,{trailing:b}),operator:c.text,property:mj(e,{leading:d})})},{name:"between_predicate",symbols:[mf.has("BETWEEN")?{type:"BETWEEN"}:BETWEEN,"_","andless_expression_chain","_",mf.has("AND")?{type:"AND"}:AND,"_","andless_expression"],postprocess:([a,b,c,d,e,f,g])=>({type:t.between_predicate,betweenKw:mh(a),expr1:((a,{leading:b,trailing:c})=>{if(null==b?void 0:b.length){let[c,...d]=a;a=[mj(c,{leading:b}),...d]}return(null==c?void 0:c.length)&&(a=[...a.slice(0,-1),mj(a[a.length-1],{trailing:c})]),a})(c,{leading:b,trailing:d}),andKw:mh(e),expr2:[mj(g,{leading:f})]})},{name:"case_expression$ebnf$1",symbols:["expression_chain_"],postprocess:me},{name:"case_expression$ebnf$1",symbols:[],postprocess:()=>null},{name:"case_expression$ebnf$2",symbols:[]},{name:"case_expression$ebnf$2",symbols:["case_expression$ebnf$2","case_clause"],postprocess:a=>a[0].concat([a[1]])},{name:"case_expression",symbols:[mf.has("CASE")?{type:"CASE"}:CASE,"_","case_expression$ebnf$1","case_expression$ebnf$2",mf.has("END")?{type:"END"}:END],postprocess:([a,b,c,d,e])=>({type:t.case_expression,caseKw:mj(mh(a),{trailing:b}),endKw:mh(e),expr:c||[],clauses:d})},{name:"case_clause",symbols:[mf.has("WHEN")?{type:"WHEN"}:WHEN,"_","expression_chain_",mf.has("THEN")?{type:"THEN"}:THEN,"_","expression_chain_"],postprocess:([a,b,c,d,e,f])=>({type:t.case_when,whenKw:mj(mh(a),{trailing:b}),thenKw:mj(mh(d),{trailing:e}),condition:c,result:f})},{name:"case_clause",symbols:[mf.has("ELSE")?{type:"ELSE"}:ELSE,"_","expression_chain_"],postprocess:([a,b,c])=>({type:t.case_else,elseKw:mj(mh(a),{trailing:b}),result:c})},{name:"comma$subexpression$1",symbols:[mf.has("COMMA")?{type:"COMMA"}:COMMA]},{name:"comma",symbols:["comma$subexpression$1"],postprocess:([[a]])=>({type:t.comma})},{name:"asterisk$subexpression$1",symbols:[mf.has("ASTERISK")?{type:"ASTERISK"}:ASTERISK]},{name:"asterisk",symbols:["asterisk$subexpression$1"],postprocess:([[a]])=>({type:t.operator,text:a.text})},{name:"operator$subexpression$1",symbols:[mf.has("OPERATOR")?{type:"OPERATOR"}:OPERATOR]},{name:"operator",symbols:["operator$subexpression$1"],postprocess:([[a]])=>({type:t.operator,text:a.text})},{name:"identifier$subexpression$1",symbols:[mf.has("IDENTIFIER")?{type:"IDENTIFIER"}:IDENTIFIER]},{name:"identifier$subexpression$1",symbols:[mf.has("QUOTED_IDENTIFIER")?{type:"QUOTED_IDENTIFIER"}:QUOTED_IDENTIFIER]},{name:"identifier$subexpression$1",symbols:[mf.has("VARIABLE")?{type:"VARIABLE"}:VARIABLE]},{name:"identifier",symbols:["identifier$subexpression$1"],postprocess:([[a]])=>({type:t.identifier,quoted:"IDENTIFIER"!==a.type,text:a.text})},{name:"parameter$subexpression$1",symbols:[mf.has("NAMED_PARAMETER")?{type:"NAMED_PARAMETER"}:NAMED_PARAMETER]},{name:"parameter$subexpression$1",symbols:[mf.has("QUOTED_PARAMETER")?{type:"QUOTED_PARAMETER"}:QUOTED_PARAMETER]},{name:"parameter$subexpression$1",symbols:[mf.has("NUMBERED_PARAMETER")?{type:"NUMBERED_PARAMETER"}:NUMBERED_PARAMETER]},{name:"parameter$subexpression$1",symbols:[mf.has("POSITIONAL_PARAMETER")?{type:"POSITIONAL_PARAMETER"}:POSITIONAL_PARAMETER]},{name:"parameter$subexpression$1",symbols:[mf.has("CUSTOM_PARAMETER")?{type:"CUSTOM_PARAMETER"}:CUSTOM_PARAMETER]},{name:"parameter",symbols:["parameter$subexpression$1"],postprocess:([[a]])=>({type:t.parameter,key:a.key,text:a.text})},{name:"literal$subexpression$1",symbols:[mf.has("NUMBER")?{type:"NUMBER"}:NUMBER]},{name:"literal$subexpression$1",symbols:[mf.has("STRING")?{type:"STRING"}:STRING]},{name:"literal",symbols:["literal$subexpression$1"],postprocess:([[a]])=>({type:t.literal,text:a.text})},{name:"keyword$subexpression$1",symbols:[mf.has("RESERVED_KEYWORD")?{type:"RESERVED_KEYWORD"}:RESERVED_KEYWORD]},{name:"keyword$subexpression$1",symbols:[mf.has("RESERVED_KEYWORD_PHRASE")?{type:"RESERVED_KEYWORD_PHRASE"}:RESERVED_KEYWORD_PHRASE]},{name:"keyword$subexpression$1",symbols:[mf.has("RESERVED_JOIN")?{type:"RESERVED_JOIN"}:RESERVED_JOIN]},{name:"keyword",symbols:["keyword$subexpression$1"],postprocess:([[a]])=>mh(a)},{name:"data_type$subexpression$1",symbols:[mf.has("RESERVED_DATA_TYPE")?{type:"RESERVED_DATA_TYPE"}:RESERVED_DATA_TYPE]},{name:"data_type$subexpression$1",symbols:[mf.has("RESERVED_DATA_TYPE_PHRASE")?{type:"RESERVED_DATA_TYPE_PHRASE"}:RESERVED_DATA_TYPE_PHRASE]},{name:"data_type",symbols:["data_type$subexpression$1"],postprocess:([[a]])=>mi(a)},{name:"data_type",symbols:[mf.has("RESERVED_PARAMETERIZED_DATA_TYPE")?{type:"RESERVED_PARAMETERIZED_DATA_TYPE"}:RESERVED_PARAMETERIZED_DATA_TYPE,"_","parenthesis"],postprocess:([a,b,c])=>({type:t.parameterized_data_type,dataType:mj(mi(a),{trailing:b}),parenthesis:c})},{name:"logic_operator$subexpression$1",symbols:[mf.has("AND")?{type:"AND"}:AND]},{name:"logic_operator$subexpression$1",symbols:[mf.has("OR")?{type:"OR"}:OR]},{name:"logic_operator$subexpression$1",symbols:[mf.has("XOR")?{type:"XOR"}:XOR]},{name:"logic_operator",symbols:["logic_operator$subexpression$1"],postprocess:([[a]])=>mh(a)},{name:"other_keyword$subexpression$1",symbols:[mf.has("WHEN")?{type:"WHEN"}:WHEN]},{name:"other_keyword$subexpression$1",symbols:[mf.has("THEN")?{type:"THEN"}:THEN]},{name:"other_keyword$subexpression$1",symbols:[mf.has("ELSE")?{type:"ELSE"}:ELSE]},{name:"other_keyword$subexpression$1",symbols:[mf.has("END")?{type:"END"}:END]},{name:"other_keyword",symbols:["other_keyword$subexpression$1"],postprocess:([[a]])=>mh(a)},{name:"_$ebnf$1",symbols:[]},{name:"_$ebnf$1",symbols:["_$ebnf$1","comment"],postprocess:a=>a[0].concat([a[1]])},{name:"_",symbols:["_$ebnf$1"],postprocess:([a])=>a},{name:"comment",symbols:[mf.has("LINE_COMMENT")?{type:"LINE_COMMENT"}:LINE_COMMENT],postprocess:([a])=>({type:t.line_comment,text:a.text,precedingWhitespace:a.precedingWhitespace})},{name:"comment",symbols:[mf.has("BLOCK_COMMENT")?{type:"BLOCK_COMMENT"}:BLOCK_COMMENT],postprocess:([a])=>({type:t.block_comment,text:a.text,precedingWhitespace:a.precedingWhitespace})},{name:"comment",symbols:[mf.has("DISABLE_COMMENT")?{type:"DISABLE_COMMENT"}:DISABLE_COMMENT],postprocess:([a])=>({type:t.disable_comment,text:a.text,precedingWhitespace:a.precedingWhitespace})}],ParserStart:"main"},{Parser:ml,Grammar:mm}=l2.default;(p=u=u||(u={}))[p.SPACE=0]="SPACE",p[p.NO_SPACE=1]="NO_SPACE",p[p.NO_NEWLINE=2]="NO_NEWLINE",p[p.NEWLINE=3]="NEWLINE",p[p.MANDATORY_NEWLINE=4]="MANDATORY_NEWLINE",p[p.INDENT=5]="INDENT",p[p.SINGLE_INDENT=6]="SINGLE_INDENT";class mn{constructor(a){this.indentation=a,this.items=[]}add(...a){for(let b of a)switch(b){case u.SPACE:this.items.push(u.SPACE);break;case u.NO_SPACE:this.trimHorizontalWhitespace();break;case u.NO_NEWLINE:this.trimWhitespace();break;case u.NEWLINE:this.trimHorizontalWhitespace(),this.addNewline(u.NEWLINE);break;case u.MANDATORY_NEWLINE:this.trimHorizontalWhitespace(),this.addNewline(u.MANDATORY_NEWLINE);break;case u.INDENT:this.addIndentation();break;case u.SINGLE_INDENT:this.items.push(u.SINGLE_INDENT);break;default:this.items.push(b)}}trimHorizontalWhitespace(){for(;mo(lE(this.items));)this.items.pop()}trimWhitespace(){for(;mp(lE(this.items));)this.items.pop()}addNewline(a){if(this.items.length>0)switch(lE(this.items)){case u.NEWLINE:this.items.pop(),this.items.push(a);break;case u.MANDATORY_NEWLINE:break;default:this.items.push(a)}}addIndentation(){for(let a=0;a<this.indentation.getLevel();a++)this.items.push(u.SINGLE_INDENT)}toString(){return this.items.map(a=>this.itemToString(a)).join("")}getLayoutItems(){return this.items}itemToString(a){switch(a){case u.SPACE:return" ";case u.NEWLINE:case u.MANDATORY_NEWLINE:return"\n";case u.SINGLE_INDENT:return this.indentation.getSingleIndent();default:return a}}}let mo=a=>a===u.SPACE||a===u.SINGLE_INDENT,mp=a=>a===u.SPACE||a===u.SINGLE_INDENT||a===u.NEWLINE;function mq(a,b){if("standard"===b)return a;let c=[];return a.length>=10&&a.includes(" ")&&([a,...c]=a.split(" ")),(a="tabularLeft"===b?a.padEnd(9," "):a.padStart(9," "))+["",...c].join(" ")}function mr(a){return a===s.AND||a===s.OR||a===s.XOR||a===s.RESERVED_CLAUSE||a===s.RESERVED_SELECT||a===s.RESERVED_SET_OPERATION||a===s.RESERVED_JOIN||a===s.LIMIT}let ms="top-level";class mt{constructor(a){this.indent=a,this.indentTypes=[]}getSingleIndent(){return this.indent}getLevel(){return this.indentTypes.length}increaseTopLevel(){this.indentTypes.push(ms)}increaseBlockLevel(){this.indentTypes.push("block-level")}decreaseTopLevel(){this.indentTypes.length>0&&lE(this.indentTypes)===ms&&this.indentTypes.pop()}decreaseBlockLevel(){for(;this.indentTypes.length>0&&this.indentTypes.pop()===ms;);}}class mu extends mn{constructor(a){super(new mt("")),this.expressionWidth=a,this.length=0,this.trailingSpace=!1}add(...a){if(a.forEach(a=>this.addToLength(a)),this.length>this.expressionWidth)throw new mv;super.add(...a)}addToLength(a){if("string"==typeof a)this.length+=a.length,this.trailingSpace=!1;else if(a===u.MANDATORY_NEWLINE||a===u.NEWLINE)throw new mv;else a===u.INDENT||a===u.SINGLE_INDENT||a===u.SPACE?this.trailingSpace||(this.length++,this.trailingSpace=!0):(a===u.NO_NEWLINE||a===u.NO_SPACE)&&this.trailingSpace&&(this.trailingSpace=!1,this.length--)}}class mv extends Error{}class mw{constructor({cfg:a,dialectCfg:b,params:c,layout:d,inline:e=!1}){this.inline=!1,this.nodes=[],this.index=-1,this.cfg=a,this.dialectCfg=b,this.inline=e,this.params=c,this.layout=d}format(a){for(this.nodes=a,this.index=0;this.index<this.nodes.length;this.index++)this.formatNode(this.nodes[this.index]);return this.layout}formatNode(a){this.formatComments(a.leadingComments),this.formatNodeWithoutComments(a),this.formatComments(a.trailingComments)}formatNodeWithoutComments(a){switch(a.type){case t.function_call:return this.formatFunctionCall(a);case t.parameterized_data_type:return this.formatParameterizedDataType(a);case t.array_subscript:return this.formatArraySubscript(a);case t.property_access:return this.formatPropertyAccess(a);case t.parenthesis:return this.formatParenthesis(a);case t.between_predicate:return this.formatBetweenPredicate(a);case t.case_expression:return this.formatCaseExpression(a);case t.case_when:return this.formatCaseWhen(a);case t.case_else:return this.formatCaseElse(a);case t.clause:return this.formatClause(a);case t.set_operation:return this.formatSetOperation(a);case t.limit_clause:return this.formatLimitClause(a);case t.all_columns_asterisk:return this.formatAllColumnsAsterisk(a);case t.literal:return this.formatLiteral(a);case t.identifier:return this.formatIdentifier(a);case t.parameter:return this.formatParameter(a);case t.operator:return this.formatOperator(a);case t.comma:return this.formatComma(a);case t.line_comment:return this.formatLineComment(a);case t.block_comment:case t.disable_comment:return this.formatBlockComment(a);case t.data_type:return this.formatDataType(a);case t.keyword:return this.formatKeywordNode(a)}}formatFunctionCall(a){this.withComments(a.nameKw,()=>{this.layout.add(this.showFunctionKw(a.nameKw))}),this.formatNode(a.parenthesis)}formatParameterizedDataType(a){this.withComments(a.dataType,()=>{this.layout.add(this.showDataType(a.dataType))}),this.formatNode(a.parenthesis)}formatArraySubscript(a){let b;switch(a.array.type){case t.data_type:b=this.showDataType(a.array);break;case t.keyword:b=this.showKw(a.array);break;default:b=this.showIdentifier(a.array)}this.withComments(a.array,()=>{this.layout.add(b)}),this.formatNode(a.parenthesis)}formatPropertyAccess(a){this.formatNode(a.object),this.layout.add(u.NO_SPACE,a.operator),this.formatNode(a.property)}formatParenthesis(a){let b=this.formatInlineExpression(a.children);b?(this.layout.add(a.openParen),this.layout.add(...b.getLayoutItems()),this.layout.add(u.NO_SPACE,a.closeParen,u.SPACE)):(this.layout.add(a.openParen,u.NEWLINE),l0(this.cfg)?(this.layout.add(u.INDENT),this.layout=this.formatSubExpression(a.children)):(this.layout.indentation.increaseBlockLevel(),this.layout.add(u.INDENT),this.layout=this.formatSubExpression(a.children),this.layout.indentation.decreaseBlockLevel()),this.layout.add(u.NEWLINE,u.INDENT,a.closeParen,u.SPACE))}formatBetweenPredicate(a){this.layout.add(this.showKw(a.betweenKw),u.SPACE),this.layout=this.formatSubExpression(a.expr1),this.layout.add(u.NO_SPACE,u.SPACE,this.showNonTabularKw(a.andKw),u.SPACE),this.layout=this.formatSubExpression(a.expr2),this.layout.add(u.SPACE)}formatCaseExpression(a){this.formatNode(a.caseKw),this.layout.indentation.increaseBlockLevel(),this.layout=this.formatSubExpression(a.expr),this.layout=this.formatSubExpression(a.clauses),this.layout.indentation.decreaseBlockLevel(),this.layout.add(u.NEWLINE,u.INDENT),this.formatNode(a.endKw)}formatCaseWhen(a){this.layout.add(u.NEWLINE,u.INDENT),this.formatNode(a.whenKw),this.layout=this.formatSubExpression(a.condition),this.formatNode(a.thenKw),this.layout=this.formatSubExpression(a.result)}formatCaseElse(a){this.layout.add(u.NEWLINE,u.INDENT),this.formatNode(a.elseKw),this.layout=this.formatSubExpression(a.result)}formatClause(a){this.isOnelineClause(a)?this.formatClauseInOnelineStyle(a):l0(this.cfg)?this.formatClauseInTabularStyle(a):this.formatClauseInIndentedStyle(a)}isOnelineClause(a){return l0(this.cfg)?this.dialectCfg.tabularOnelineClauses[a.nameKw.text]:this.dialectCfg.onelineClauses[a.nameKw.text]}formatClauseInIndentedStyle(a){this.layout.add(u.NEWLINE,u.INDENT,this.showKw(a.nameKw),u.NEWLINE),this.layout.indentation.increaseTopLevel(),this.layout.add(u.INDENT),this.layout=this.formatSubExpression(a.children),this.layout.indentation.decreaseTopLevel()}formatClauseInOnelineStyle(a){this.layout.add(u.NEWLINE,u.INDENT,this.showKw(a.nameKw),u.SPACE),this.layout=this.formatSubExpression(a.children)}formatClauseInTabularStyle(a){this.layout.add(u.NEWLINE,u.INDENT,this.showKw(a.nameKw),u.SPACE),this.layout.indentation.increaseTopLevel(),this.layout=this.formatSubExpression(a.children),this.layout.indentation.decreaseTopLevel()}formatSetOperation(a){this.layout.add(u.NEWLINE,u.INDENT,this.showKw(a.nameKw),u.NEWLINE),this.layout.add(u.INDENT),this.layout=this.formatSubExpression(a.children)}formatLimitClause(a){this.withComments(a.limitKw,()=>{this.layout.add(u.NEWLINE,u.INDENT,this.showKw(a.limitKw))}),this.layout.indentation.increaseTopLevel(),l0(this.cfg)?this.layout.add(u.SPACE):this.layout.add(u.NEWLINE,u.INDENT),a.offset&&(this.layout=this.formatSubExpression(a.offset),this.layout.add(u.NO_SPACE,",",u.SPACE)),this.layout=this.formatSubExpression(a.count),this.layout.indentation.decreaseTopLevel()}formatAllColumnsAsterisk(a){this.layout.add("*",u.SPACE)}formatLiteral(a){this.layout.add(a.text,u.SPACE)}formatIdentifier(a){this.layout.add(this.showIdentifier(a),u.SPACE)}formatParameter(a){this.layout.add(this.params.get(a),u.SPACE)}formatOperator({text:a}){this.cfg.denseOperators||this.dialectCfg.alwaysDenseOperators.includes(a)?this.layout.add(u.NO_SPACE,a):":"===a?this.layout.add(u.NO_SPACE,a,u.SPACE):this.layout.add(a,u.SPACE)}formatComma(a){this.inline?this.layout.add(u.NO_SPACE,",",u.SPACE):this.layout.add(u.NO_SPACE,",",u.NEWLINE,u.INDENT)}withComments(a,b){this.formatComments(a.leadingComments),b(),this.formatComments(a.trailingComments)}formatComments(a){a&&a.forEach(a=>{a.type===t.line_comment?this.formatLineComment(a):this.formatBlockComment(a)})}formatLineComment(a){let b;(b=a.precedingWhitespace||"",/\n/.test(b))?this.layout.add(u.NEWLINE,u.INDENT,a.text,u.MANDATORY_NEWLINE,u.INDENT):this.layout.getLayoutItems().length>0?this.layout.add(u.NO_NEWLINE,u.SPACE,a.text,u.MANDATORY_NEWLINE,u.INDENT):this.layout.add(a.text,u.MANDATORY_NEWLINE,u.INDENT)}formatBlockComment(a){a.type===t.block_comment&&this.isMultilineBlockComment(a)?(this.splitBlockComment(a.text).forEach(a=>{this.layout.add(u.NEWLINE,u.INDENT,a)}),this.layout.add(u.NEWLINE,u.INDENT)):this.layout.add(a.text,u.SPACE)}isMultilineBlockComment(a){let b,c;return b=a.text,/\n/.test(b)||(c=a.precedingWhitespace||"",/\n/.test(c))}isDocComment(a){let b=a.split(/\n/);return/^\/\*\*?$/.test(b[0])&&b.slice(1,b.length-1).every(a=>/^\s*\*/.test(a))&&/^\s*\*\/$/.test(lE(b))}splitBlockComment(a){return this.isDocComment(a)?a.split(/\n/).map(a=>/^\s*\*/.test(a)?" "+a.replace(/^\s*/,""):a):a.split(/\n/).map(a=>a.replace(/^\s*/,""))}formatSubExpression(a){return new mw({cfg:this.cfg,dialectCfg:this.dialectCfg,params:this.params,layout:this.layout,inline:this.inline}).format(a)}formatInlineExpression(a){let b=this.params.getPositionalParameterIndex();try{return new mw({cfg:this.cfg,dialectCfg:this.dialectCfg,params:this.params,layout:new mu(this.cfg.expressionWidth),inline:!0}).format(a)}catch(a){if(a instanceof mv)return void this.params.setPositionalParameterIndex(b);throw a}}formatKeywordNode(a){switch(a.tokenType){case s.RESERVED_JOIN:return this.formatJoin(a);case s.AND:case s.OR:case s.XOR:return this.formatLogicalOperator(a);default:return this.formatKeyword(a)}}formatJoin(a){l0(this.cfg)?(this.layout.indentation.decreaseTopLevel(),this.layout.add(u.NEWLINE,u.INDENT,this.showKw(a),u.SPACE),this.layout.indentation.increaseTopLevel()):this.layout.add(u.NEWLINE,u.INDENT,this.showKw(a),u.SPACE)}formatKeyword(a){this.layout.add(this.showKw(a),u.SPACE)}formatLogicalOperator(a){"before"===this.cfg.logicalOperatorNewline?l0(this.cfg)?(this.layout.indentation.decreaseTopLevel(),this.layout.add(u.NEWLINE,u.INDENT,this.showKw(a),u.SPACE),this.layout.indentation.increaseTopLevel()):this.layout.add(u.NEWLINE,u.INDENT,this.showKw(a),u.SPACE):this.layout.add(this.showKw(a),u.NEWLINE,u.INDENT)}formatDataType(a){this.layout.add(this.showDataType(a),u.SPACE)}showKw(a){return mr(a.tokenType)?mq(this.showNonTabularKw(a),this.cfg.indentStyle):this.showNonTabularKw(a)}showNonTabularKw(a){switch(this.cfg.keywordCase){case"preserve":return a.raw.replace(/\s+/gu," ");case"upper":return a.text;case"lower":return a.text.toLowerCase()}}showFunctionKw(a){return mr(a.tokenType)?mq(this.showNonTabularFunctionKw(a),this.cfg.indentStyle):this.showNonTabularFunctionKw(a)}showNonTabularFunctionKw(a){switch(this.cfg.functionCase){case"preserve":return a.raw.replace(/\s+/gu," ");case"upper":return a.text;case"lower":return a.text.toLowerCase()}}showIdentifier(a){if(a.quoted)return a.text;switch(this.cfg.identifierCase){case"preserve":return a.text;case"upper":return a.text.toUpperCase();case"lower":return a.text.toLowerCase()}}showDataType(a){switch(this.cfg.dataTypeCase){case"preserve":return a.raw.replace(/\s+/gu," ");case"upper":return a.text;case"lower":return a.text.toLowerCase()}}}class mx{constructor(a,b){this.dialect=a,this.cfg=b,this.params=new l1(this.cfg.params)}format(a){let b=this.parse(a);return this.formatAst(b).trimEnd()}parse(a){var b;let c,d,e;return(b=this.dialect.tokenizer,c={},d=new md(a=>[...b.tokenize(a,c).map(l3).map(l4).map(l5).map(l6).map(l7),j2(a.length)]),e=new ml(mm.fromCompiled(mk),{lexer:d}),{parse:(a,b)=>{c=b;let{results:d}=e.feed(a);if(1===d.length)return d[0];if(0===d.length)throw Error("Parse error: Invalid SQL");throw Error(`Parse error: Ambiguous grammar
${JSON.stringify(d,void 0,2)}`)}}).parse(a,this.cfg.paramTypes||{})}formatAst(a){return a.map(a=>this.formatStatement(a)).join("\n".repeat(this.cfg.linesBetweenQueries+1))}formatStatement(a){var b;let c=new mw({cfg:this.cfg,dialectCfg:this.dialect.formatOptions,params:this.params,layout:new mn(new mt("tabularLeft"===(b=this.cfg).indentStyle||"tabularRight"===b.indentStyle?" ".repeat(10):b.useTabs?"	":" ".repeat(b.tabWidth)))}).format(a.children);return a.hasSemicolon&&(this.cfg.newlineBeforeSemicolon?c.add(u.NEWLINE,";"):c.add(u.NO_NEWLINE,";")),c.toString()}}class my extends Error{}var mz=function(a,b){var c={};for(var d in a)Object.prototype.hasOwnProperty.call(a,d)&&0>b.indexOf(d)&&(c[d]=a[d]);if(null!=a&&"function"==typeof Object.getOwnPropertySymbols)for(var e=0,d=Object.getOwnPropertySymbols(a);e<d.length;e++)0>b.indexOf(d[e])&&Object.prototype.propertyIsEnumerable.call(a,d[e])&&(c[d[e]]=a[d[e]]);return c};let mA={bigquery:"bigquery",db2:"db2",db2i:"db2i",duckdb:"duckdb",hive:"hive",mariadb:"mariadb",mysql:"mysql",n1ql:"n1ql",plsql:"plsql",postgresql:"postgresql",redshift:"redshift",spark:"spark",sqlite:"sqlite",sql:"sql",tidb:"tidb",trino:"trino",transactsql:"transactsql",tsql:"transactsql",singlestoredb:"singlestoredb",snowflake:"snowflake"},mB=Object.keys(mA),mC={tabWidth:2,useTabs:!1,keywordCase:"preserve",identifierCase:"preserve",dataTypeCase:"preserve",functionCase:"preserve",indentStyle:"standard",logicalOperatorNewline:"before",expressionWidth:50,linesBetweenQueries:1,denseOperators:!1,newlineBeforeSemicolon:!1};function mD(){let{db:a,setDb:b}=(0,x.useDatabaseStore)(),[c,d]=(0,w.useState)(""),[e,f]=(0,w.useState)(null),[g,h]=(0,w.useState)(null),[i,j]=(0,w.useState)(null),[k,l]=(0,w.useState)([]),[m,n]=(0,w.useState)(!1),[o,p]=(0,w.useState)(null),q=a||o;console.log("[QUERY RENDER] db=",!!a,"windowTestDb=",!!o,"activeDb=",!!q);let[r,s]=(0,w.useState)(!1),[t,u]=(0,w.useState)({includeHeaders:!0,delimiter:"comma",quoteAllFields:!1,lineEnding:"LF",nullHandling:"empty",selectedColumns:[]}),[A,B]=(0,w.useState)(!1),[C,D]=(0,w.useState)({prettyPrint:!0,format:"array",selectedColumns:[]}),[E,F]=(0,w.useState)(!1),[G,H]=(0,w.useState)({dropTableIfExists:!1,includeTransactions:!0,batchSize:100,selectedColumns:[]}),[I,J]=(0,w.useState)([]),[K,L]=(0,w.useState)(!1),[M,N]=(0,w.useState)(!1),[O,P]=(0,w.useState)(""),[Q,R]=(0,w.useState)(""),[S,T]=(0,w.useState)(""),[U,V]=(0,w.useState)(""),[W,X]=(0,w.useState)(null),[Y,Z]=(0,w.useState)(!1),[$,_]=(0,w.useState)(!1),[aa,ab]=(0,w.useState)(null),[ac,ad]=(0,w.useState)(""),[ae,af]=(0,w.useState)(null),[ag,ah]=(0,w.useState)([]),[ai,aj]=(0,w.useState)(!1),[ak,al]=(0,w.useState)(!1),[am,an]=(0,w.useState)(!1),[ao,ap]=(0,w.useState)(null),[aq,ar]=(0,w.useState)(!1),[as,at]=(0,w.useState)(null);(0,w.useEffect)(()=>{},[a]),(0,w.useEffect)(()=>{},[o]);let au=async()=>{if(q&&c.trim()){h(null),f(null),ar(!1);try{let a=performance.now(),b=await q.execute(c),d=performance.now()-a;f(b),j(d);let e={sql:c,timestamp:Date.now(),executionTime:d};l(a=>[e,...a].slice(0,10));try{await jS.recordExecution(c,d),await aF()}catch(a){console.error("Error recording performance:",a)}}catch(a){h(a.message||"Query execution failed"),j(null)}}},av=async()=>{if(a&&c.trim()){at(null),ap(null),f(null);try{let b=`EXPLAIN QUERY PLAN ${c}`;console.log("[ExplainPlan] Executing:",b);let d=await a.execute(b);console.log("[ExplainPlan] Raw result:",d),ap(d),ar(!0)}catch(a){console.error("[ExplainPlan] Error:",a),at(a.message||"Failed to generate query plan"),ar(!0)}}},aw=async b=>{if(!a)return null;try{return await a.execute(b)}catch(a){return console.error("Schema query failed:",a),null}};(0,w.useEffect)(()=>{ax(),aF()},[]);let ax=async()=>{try{let a=await jQ.getAllBookmarks();J(a)}catch(a){console.error("Error loading bookmarks:",a)}},ay=async()=>{if(V(""),!O.trim())return void V("Query name is required");if(!c.trim())return void V("Query SQL is required");try{let a=S.split(",").map(a=>a.trim()).filter(Boolean);await jQ.saveBookmark({name:O,description:Q,sql:c,tags:a}),P(""),R(""),T(""),L(!1),await ax()}catch(a){V(a.message||"Failed to save bookmark")}},az=async()=>{if(V(""),W){if(!O.trim())return void V("Query name is required");try{let a=S.split(",").map(a=>a.trim()).filter(Boolean);await jQ.updateBookmark(W.id,{name:O,description:Q,sql:W.sql,tags:a}),P(""),R(""),T(""),X(null),Z(!1),await ax()}catch(a){V(a.message||"Failed to update bookmark")}}},aA=async()=>{if(aa)try{await jQ.deleteBookmark(aa.id),ab(null),_(!1),await ax()}catch(a){console.error("Error deleting bookmark:",a)}},aB=async()=>{try{let a=await jQ.exportAll(),b=new Blob([a],{type:"application/json"}),c=URL.createObjectURL(b),d=document.createElement("a");d.href=c,d.download=`query-bookmarks-${Date.now()}.json`,document.body.appendChild(d),d.click(),document.body.removeChild(d),URL.revokeObjectURL(c)}catch(a){console.error("Error exporting bookmarks:",a)}},aC=async a=>{let b=a.target.files?.[0];if(b)try{let c=await b.text();await jQ.importBookmarks(c),await ax(),a.target.value=""}catch(a){console.error("Error importing bookmarks:",a),alert("Failed to import bookmarks: "+a.message)}},aD=I.filter(a=>{let b=!ac||a.name.toLowerCase().includes(ac.toLowerCase())||a.description?.toLowerCase().includes(ac.toLowerCase())||a.sql.toLowerCase().includes(ac.toLowerCase()),c=!ae||a.tags.includes(ae);return b&&c}),aE=Array.from(new Set(I.flatMap(a=>a.tags))),aF=async()=>{try{let a=await jS.getAllRecords();ah(a)}catch(a){console.error("Error loading performance records:",a)}},aG=async()=>{try{await jS.clearAll(),await aF(),an(!1)}catch(a){console.error("Error clearing performance stats:",a)}},aH=async()=>{try{let a=await jS.exportAll(),b=new Blob([a],{type:"application/json"}),c=URL.createObjectURL(b),d=document.createElement("a");d.href=c,d.download=`performance-stats-${Date.now()}.json`,document.body.appendChild(d),d.click(),document.body.removeChild(d),URL.revokeObjectURL(c)}catch(a){console.error("Error exporting performance stats:",a)}},aI=a=>{if(!e)return;let b=a.selectedColumns.length>0?a.selectedColumns:e.columns;if(0===b.length)return;let c=[],d={comma:",",semicolon:";",tab:"	",pipe:"|"}[a.delimiter],f=b.map(a=>e.columns.indexOf(a)).filter(a=>-1!==a),g="CRLF"===a.lineEnding?"\r\n":"\n";if(a.includeHeaders){let e=b.map(b=>a.quoteAllFields?`"${b}"`:b).join(d);c.push(e)}e.rows.forEach(b=>{let e=f.map(c=>(b=>{if("Null"===b.type)return"null"===a.nullHandling?"NULL":"";let c=String(b.value);return a.quoteAllFields||c.includes(d)||c.includes('"')||c.includes("\n")?`"${c.replace(/"/g,'""')}"`:c})(b.values[c])).join(d);c.push(e)});let h=new Blob([c.join(g)],{type:"text/csv"}),i=URL.createObjectURL(h),j=document.createElement("a");j.href=i,j.download=`query-results-${Date.now()}.csv`,document.body.appendChild(j),j.click(),document.body.removeChild(j),URL.revokeObjectURL(i),s(!1)},aJ=a=>{let b;if(!e)return;let c=a.selectedColumns.length>0?a.selectedColumns:e.columns;if(0===c.length)return;c.map(a=>e.columns.indexOf(a)).filter(a=>-1!==a),"array"===a.format?b=e.rows.map(a=>{let b={};return c.forEach(c=>{let d=e.columns.indexOf(c);if(-1!==d){let e=a.values[d];b[c]="Null"===e.type?null:e.value}}),b}):(b={},e.rows.forEach(a=>{let d,f={},g=a.values[0];d="Null"===g.type?"null":Array.isArray(g.value)?JSON.stringify(g.value):String(g.value),c.forEach(b=>{let c=e.columns.indexOf(b);if(-1!==c){let d=a.values[c];f[b]="Null"===d.type?null:d.value}}),b[d]=f}));let d=new Blob([a.prettyPrint?JSON.stringify(b,null,2):JSON.stringify(b)],{type:"application/json"}),f=URL.createObjectURL(d),g=document.createElement("a");g.href=f,g.download=`query-results-${Date.now()}.json`,document.body.appendChild(g),g.click(),document.body.removeChild(g),URL.revokeObjectURL(f),B(!1)},aK=a=>{if(!e)return;let b=a.selectedColumns.length>0?a.selectedColumns:e.columns;if(0===b.length)return;let c=[],d=b.map(a=>e.columns.indexOf(a)).filter(a=>-1!==a),f="query_results";a.includeTransactions&&(c.push("BEGIN TRANSACTION;"),c.push("")),a.dropTableIfExists&&(c.push(`DROP TABLE IF EXISTS ${f};`),c.push(""));let g=b.map(a=>{let b=e.columns.indexOf(a);if(-1!==b&&e.rows.length>0){let c=e.rows[0].values[b],d="TEXT";switch(c.type){case"Integer":d="INTEGER";break;case"Real":d="REAL";break;case"Blob":d="BLOB";break;default:d="TEXT"}return`  ${a} ${d}`}return`  ${a} TEXT`}).join(",\n");if(c.push(`CREATE TABLE ${f} (`),c.push(g),c.push(");"),c.push(""),e.rows.length>0){let g=a.batchSize;for(let a=0;a<e.rows.length;a+=g){let h=e.rows.slice(a,Math.min(a+g,e.rows.length)).map(a=>{let b=d.map(b=>{let c=a.values[b];if("Null"===c.type)return"NULL";if("Integer"===c.type||"Real"===c.type)return String(c.value);if("Blob"===c.type){let a=c.value.map(a=>a.toString(16).padStart(2,"0")).join("");return`X'${a}'`}{let a=String(c.value).replace(/'/g,"''");return`'${a}'`}}).join(", ");return`  (${b})`}).join(",\n");c.push(`INSERT INTO ${f} (${b.join(", ")}) VALUES`),c.push(h+";"),c.push("")}}a.includeTransactions&&c.push("COMMIT;");let h=new Blob([c.join("\n")],{type:"application/sql"}),i=URL.createObjectURL(h),j=document.createElement("a");j.href=i,j.download=`${f}-${Date.now()}.sql`,document.body.appendChild(j),j.click(),document.body.removeChild(j),URL.revokeObjectURL(i),F(!1)};return(0,v.jsxs)("div",{id:"queryInterface",className:"container mx-auto p-6 max-w-6xl",children:[(0,v.jsx)("h1",{className:"text-3xl font-bold mb-6",children:"SQL Query Interface"}),!a&&(0,v.jsx)("p",{children:"No database selected. Please create or open a database first."}),(0,v.jsxs)("div",{className:"grid gap-4",children:[(0,v.jsxs)(z.Card,{children:[(0,v.jsxs)(z.CardHeader,{children:[(0,v.jsx)(z.CardTitle,{children:"SQL Editor"}),(0,v.jsx)(z.CardDescription,{children:"Enter your SQL query below"})]}),(0,v.jsxs)(z.CardContent,{className:"space-y-4",children:[(0,v.jsx)("div",{id:"sqlEditor",children:(0,v.jsx)("div",{id:"queryEditor",children:(0,v.jsx)(jI,{value:c,onChange:d,placeholder:"SELECT * FROM table_name",onExecute:aw})})}),(0,v.jsxs)("div",{className:"flex gap-2",children:[(0,v.jsx)(y.Button,{id:"executeButton",onClick:au,disabled:!q||!c.trim(),children:"Execute Query"}),(0,v.jsx)(y.Button,{id:"formatButton",onClick:()=>{if(c.trim())try{let a=((a,b={})=>{if("string"==typeof b.language&&!mB.includes(b.language))throw new my(`Unsupported SQL dialect: ${b.language}`);let c=mA[b.language||"sql"];return((a,b)=>{let c,d;var{dialect:e}=b,f=mz(b,["dialect"]);if("string"!=typeof a)throw Error("Invalid query argument. Expected string, instead got "+typeof a);let g=function(a){var b,c;for(let b of["multilineLists","newlineBeforeOpenParen","newlineBeforeCloseParen","aliasAs","commaPosition","tabulateAlias"])if(b in a)throw new my(`${b} config is no more supported.`);if(a.expressionWidth<=0)throw new my(`expressionWidth config must be positive number. Received ${a.expressionWidth} instead.`);if(a.params&&!((b=a.params)instanceof Array?b:Object.values(b)).every(a=>"string"==typeof a)&&console.warn('WARNING: All "params" option values should be strings.'),a.paramTypes&&!(!((c=a.paramTypes).custom&&Array.isArray(c.custom))||c.custom.every(a=>""!==a.regex)))throw new my("Empty regex given in custom paramTypes. That would result in matching infinite amount of parameters.");return a}(Object.assign(Object.assign({},mC),f));return new mx((!(c=l$.get(e))&&(c={tokenizer:new lY((d=e).tokenizerOptions,d.name),formatOptions:l_(d.formatOptions)},l$.set(e,c)),c),g).format(a)})(a,Object.assign(Object.assign({},b),{dialect:lD[c]}))})(c,{language:"sqlite",keywordCase:"upper",indentStyle:"standard",logicalOperatorNewline:"before"});d(a)}catch(a){console.error("[FormatQuery] Error:",a)}},variant:"outline",disabled:!c.trim(),children:"Format Query"}),(0,v.jsx)(y.Button,{onClick:av,variant:"outline",disabled:!a||!c.trim(),children:"Explain Plan"}),(0,v.jsx)(y.Button,{onClick:()=>L(!0),variant:"outline",disabled:!c.trim(),children:"Save Query"}),(0,v.jsxs)(y.Button,{onClick:()=>N(!M),variant:"outline",children:["Saved Queries",I.length>0&&` (${I.length})`]}),(0,v.jsxs)(y.Button,{id:"historyButton",onClick:()=>n(!m),variant:"outline",disabled:0===k.length,children:[m?"Hide":"Show"," History (",k.length,")"]}),(0,v.jsxs)(y.Button,{onClick:()=>aj(!ai),variant:"outline",children:["Performance Stats",ag.length>0&&` (${ag.length})`]}),(0,v.jsx)(y.Button,{onClick:()=>al(!ak),variant:"outline",children:"Slow Queries"})]})]})]}),m&&k.length>0&&(0,v.jsxs)(z.Card,{children:[(0,v.jsx)(z.CardHeader,{children:(0,v.jsx)(z.CardTitle,{children:"Query History"})}),(0,v.jsx)(z.CardContent,{children:(0,v.jsx)("div",{id:"queryHistory",className:"space-y-2",children:k.map((a,b)=>(0,v.jsxs)("div",{className:"history-item p-3 border rounded cursor-pointer hover:bg-gray-50",onClick:()=>{d(a.sql),n(!1)},children:[(0,v.jsx)("div",{className:"font-mono text-sm",children:a.sql}),(0,v.jsxs)("div",{className:"text-xs text-gray-500 mt-1",children:[new Date(a.timestamp).toLocaleTimeString(),a.executionTime&&` • ${a.executionTime.toFixed(2)}ms`]})]},b))})})]}),g&&(0,v.jsxs)(z.Card,{role:"alert","aria-live":"assertive",children:[(0,v.jsx)(z.CardHeader,{children:(0,v.jsx)(z.CardTitle,{className:"text-red-500",children:"Error"})}),(0,v.jsx)(z.CardContent,{children:(0,v.jsx)("p",{id:"errorDisplay",className:"text-red-500",children:g})})]}),aq&&(0,v.jsxs)(z.Card,{id:"explainPlanPanel",children:[(0,v.jsx)(z.CardHeader,{children:(0,v.jsxs)("div",{className:"flex justify-between items-center",children:[(0,v.jsx)(z.CardTitle,{children:"Query Execution Plan"}),(0,v.jsx)(y.Button,{onClick:()=>ar(!1),variant:"ghost",size:"sm",className:"close-button",children:"Close"})]})}),(0,v.jsx)(z.CardContent,{children:as?(0,v.jsxs)("div",{className:"text-red-500",children:[(0,v.jsx)("p",{className:"font-semibold",children:"Error"}),(0,v.jsxs)("p",{children:["no such table: ",as.includes("no such table")&&as]}),(0,v.jsx)("p",{children:as})]}):ao&&ao.rows?(0,v.jsxs)("div",{children:[(0,v.jsx)("div",{id:"planTree",className:"space-y-2 mb-6",children:ao.rows.map((a,b)=>{let c=a.values[3]?.value||a.values[2]?.value||"",d=c.toUpperCase().includes("SCAN"),e=c.toLowerCase().includes("idx_")||c.toLowerCase().includes("index");return(0,v.jsx)("div",{className:`plan-node p-3 border rounded ${d&&!e?"border-orange-500 bg-orange-50 plan-warning text-orange-500":"border-gray-200"}`,style:{marginLeft:`${20*(a.values[0]?.value||0)}px`},children:(0,v.jsx)("div",{className:"font-mono text-sm",children:c})},b)})}),ao.rows.some(a=>{let b=(a.values[3]?.value||a.values[2]?.value||"").toUpperCase();return b.includes("SCAN")&&!b.includes("INDEX")})&&(0,v.jsxs)("div",{id:"optimizationHints",className:"mt-4 p-4 bg-yellow-50 border border-yellow-200 rounded",children:[(0,v.jsx)("h4",{className:"font-semibold text-yellow-800 mb-2",children:"Optimization Hints"}),(0,v.jsxs)("ul",{className:"text-sm text-yellow-700 space-y-1",children:[(0,v.jsx)("li",{children:"• Consider adding an index to improve query performance"}),(0,v.jsx)("li",{children:"• Table scans can be slow on large datasets"})]})]}),(0,v.jsxs)("details",{className:"mt-4",children:[(0,v.jsx)("summary",{className:"cursor-pointer text-sm text-gray-600 hover:text-gray-900",children:"Show raw plan data"}),(0,v.jsx)("div",{className:"mt-2 p-3 bg-gray-50 rounded overflow-x-auto",children:(0,v.jsxs)(jJ.Table,{children:[(0,v.jsx)(jJ.TableHeader,{children:(0,v.jsx)(jJ.TableRow,{children:ao.columns.map((a,b)=>(0,v.jsx)(jJ.TableHead,{children:a},b))})}),(0,v.jsx)(jJ.TableBody,{children:ao.rows.map((a,b)=>(0,v.jsx)(jJ.TableRow,{children:a.values.map((a,b)=>(0,v.jsx)(jJ.TableCell,{children:null!==a.value?String(a.value):"NULL"},b))},b))})]})})]})]}):(0,v.jsx)("p",{className:"text-gray-500",children:"No plan data available"})})]}),e&&(0,v.jsxs)(z.Card,{children:[(0,v.jsx)(z.CardHeader,{children:(0,v.jsxs)("div",{className:"flex justify-between items-start",children:[(0,v.jsxs)("div",{children:[(0,v.jsx)(z.CardTitle,{children:"Results"}),(0,v.jsxs)(z.CardDescription,{children:[e.rows.length," row",1!==e.rows.length?"s":""," returned",i&&(0,v.jsxs)("span",{id:"executionTime",className:"ml-2",children:["• Execution time: ",i.toFixed(2),"ms"]})]})]}),e&&(0,v.jsxs)("div",{className:"flex gap-2",children:[(0,v.jsx)(y.Button,{id:"exportCSV",onClick:()=>{aI(t)},variant:"outline",size:"sm",children:"Export CSV"}),(0,v.jsxs)(jK.Dialog,{open:r,onOpenChange:s,children:[(0,v.jsx)(jK.DialogTrigger,{asChild:!0,children:(0,v.jsx)(y.Button,{id:"exportCSVOptions",variant:"outline",size:"sm",onClick:()=>{e&&0===t.selectedColumns.length&&u({...t,selectedColumns:[...e.columns]})},children:"CSV Options"})}),(0,v.jsxs)(jK.DialogContent,{className:"sm:max-w-[500px]",children:[(0,v.jsxs)(jK.DialogHeader,{children:[(0,v.jsx)(jK.DialogTitle,{children:"CSV Export Options"}),(0,v.jsx)(jK.DialogDescription,{children:"Configure your CSV export settings"})]}),(0,v.jsxs)("div",{className:"grid gap-4 py-4",children:[(0,v.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,v.jsx)(jM.Checkbox,{id:"includeHeaders",checked:t.includeHeaders,onCheckedChange:a=>u({...t,includeHeaders:!!a})}),(0,v.jsx)(jN.Label,{htmlFor:"includeHeaders",className:"text-sm font-medium",children:"Include column headers"})]}),(0,v.jsxs)("div",{className:"grid gap-2",children:[(0,v.jsx)(jN.Label,{htmlFor:"csvDelimiter",className:"text-sm font-medium",children:"Delimiter"}),(0,v.jsxs)(jL.Select,{value:t.delimiter,onValueChange:a=>u({...t,delimiter:a}),children:[(0,v.jsx)(jL.SelectTrigger,{id:"csvDelimiter",children:(0,v.jsx)(jL.SelectValue,{})}),(0,v.jsxs)(jL.SelectContent,{children:[(0,v.jsx)(jL.SelectItem,{value:"comma",children:"Comma (,)"}),(0,v.jsx)(jL.SelectItem,{value:"semicolon",children:"Semicolon (;)"}),(0,v.jsx)(jL.SelectItem,{value:"tab",children:"Tab"}),(0,v.jsx)(jL.SelectItem,{value:"pipe",children:"Pipe (|)"})]})]})]}),(0,v.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,v.jsx)(jM.Checkbox,{id:"quoteAllFields",checked:t.quoteAllFields,onCheckedChange:a=>u({...t,quoteAllFields:!!a})}),(0,v.jsx)(jN.Label,{htmlFor:"quoteAllFields",className:"text-sm font-medium",children:"Quote all fields"})]}),(0,v.jsxs)("div",{className:"grid gap-2",children:[(0,v.jsx)(jN.Label,{htmlFor:"lineEnding",className:"text-sm font-medium",children:"Line Ending"}),(0,v.jsxs)(jL.Select,{value:t.lineEnding,onValueChange:a=>u({...t,lineEnding:a}),children:[(0,v.jsx)(jL.SelectTrigger,{id:"lineEnding",children:(0,v.jsx)(jL.SelectValue,{})}),(0,v.jsxs)(jL.SelectContent,{children:[(0,v.jsx)(jL.SelectItem,{value:"LF",children:"LF (Unix/Linux)"}),(0,v.jsx)(jL.SelectItem,{value:"CRLF",children:"CRLF (Windows)"})]})]})]}),(0,v.jsxs)("div",{className:"grid gap-2",children:[(0,v.jsx)(jN.Label,{htmlFor:"nullHandling",className:"text-sm font-medium",children:"NULL Handling"}),(0,v.jsxs)(jL.Select,{value:t.nullHandling,onValueChange:a=>u({...t,nullHandling:a}),children:[(0,v.jsx)(jL.SelectTrigger,{id:"nullHandling",children:(0,v.jsx)(jL.SelectValue,{})}),(0,v.jsxs)(jL.SelectContent,{children:[(0,v.jsx)(jL.SelectItem,{value:"empty",children:"Empty string"}),(0,v.jsx)(jL.SelectItem,{value:"null",children:"NULL"})]})]})]}),e&&e.columns.length>0&&(0,v.jsxs)("div",{className:"grid gap-2",children:[(0,v.jsx)(jN.Label,{className:"text-sm font-medium",children:"Select Columns to Export"}),(0,v.jsxs)("div",{className:"flex gap-2 mb-2",children:[(0,v.jsx)(y.Button,{id:"selectAllColumns",type:"button",variant:"outline",size:"sm",onClick:()=>u({...t,selectedColumns:[...e.columns]}),children:"Select All"}),(0,v.jsx)(y.Button,{id:"deselectAllColumns",type:"button",variant:"outline",size:"sm",onClick:()=>u({...t,selectedColumns:[]}),children:"Deselect All"})]}),(0,v.jsx)("div",{className:"grid grid-cols-2 gap-2 max-h-48 overflow-y-auto",children:e.columns.map(a=>(0,v.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,v.jsx)(jM.Checkbox,{id:`column-${a}`,checked:t.selectedColumns.includes(a),onCheckedChange:b=>{b?u({...t,selectedColumns:[...t.selectedColumns,a]}):u({...t,selectedColumns:t.selectedColumns.filter(b=>b!==a)})}}),(0,v.jsx)(jN.Label,{htmlFor:`column-${a}`,className:"text-sm cursor-pointer",children:a})]},a))}),0===t.selectedColumns.length&&(0,v.jsx)("p",{className:"text-sm text-red-500",children:"Please select at least one column"})]})]}),(0,v.jsx)(jK.DialogFooter,{children:(0,v.jsx)(y.Button,{id:"confirmExport",onClick:()=>aI(t),children:"Export"})})]})]}),(0,v.jsx)(y.Button,{id:"exportJSON",onClick:()=>{aJ(C)},variant:"outline",size:"sm",children:"Export JSON"}),(0,v.jsxs)(jK.Dialog,{open:A,onOpenChange:B,children:[(0,v.jsx)(jK.DialogTrigger,{asChild:!0,children:(0,v.jsx)(y.Button,{id:"exportJSONOptions",variant:"outline",size:"sm",onClick:()=>{e&&0===C.selectedColumns.length&&D({...C,selectedColumns:[...e.columns]})},children:"JSON Options"})}),(0,v.jsxs)(jK.DialogContent,{className:"sm:max-w-[500px]",children:[(0,v.jsxs)(jK.DialogHeader,{children:[(0,v.jsx)(jK.DialogTitle,{children:"JSON Export Options"}),(0,v.jsx)(jK.DialogDescription,{children:"Configure your JSON export settings"})]}),(0,v.jsxs)("div",{className:"grid gap-4 py-4",children:[(0,v.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,v.jsx)(jM.Checkbox,{id:"prettyPrint",checked:C.prettyPrint,onCheckedChange:a=>D({...C,prettyPrint:!!a})}),(0,v.jsx)(jN.Label,{htmlFor:"prettyPrint",className:"text-sm font-medium",children:"Pretty print (formatted with indentation)"})]}),(0,v.jsxs)("div",{className:"grid gap-2",children:[(0,v.jsx)(jN.Label,{htmlFor:"jsonFormat",className:"text-sm font-medium",children:"Format"}),(0,v.jsxs)(jL.Select,{value:C.format,onValueChange:a=>D({...C,format:a}),children:[(0,v.jsx)(jL.SelectTrigger,{id:"jsonFormat",children:(0,v.jsx)(jL.SelectValue,{})}),(0,v.jsxs)(jL.SelectContent,{children:[(0,v.jsx)(jL.SelectItem,{value:"array",children:"Array of objects"}),(0,v.jsx)(jL.SelectItem,{value:"object",children:"Object (keyed by id)"})]})]})]}),e&&e.columns.length>0&&(0,v.jsxs)("div",{className:"grid gap-2",children:[(0,v.jsx)(jN.Label,{className:"text-sm font-medium",children:"Select Columns to Export"}),(0,v.jsxs)("div",{className:"flex gap-2 mb-2",children:[(0,v.jsx)(y.Button,{id:"selectAllColumns",type:"button",variant:"outline",size:"sm",onClick:()=>D({...C,selectedColumns:[...e.columns]}),children:"Select All"}),(0,v.jsx)(y.Button,{id:"deselectAllColumns",type:"button",variant:"outline",size:"sm",onClick:()=>D({...C,selectedColumns:[]}),children:"Deselect All"})]}),(0,v.jsx)("div",{className:"grid grid-cols-2 gap-2 max-h-48 overflow-y-auto",children:e.columns.map(a=>(0,v.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,v.jsx)(jM.Checkbox,{id:`column-${a}`,checked:C.selectedColumns.includes(a),onCheckedChange:b=>{b?D({...C,selectedColumns:[...C.selectedColumns,a]}):D({...C,selectedColumns:C.selectedColumns.filter(b=>b!==a)})}}),(0,v.jsx)(jN.Label,{htmlFor:`column-${a}`,className:"text-sm cursor-pointer",children:a})]},a))}),0===C.selectedColumns.length&&(0,v.jsx)("p",{className:"text-sm text-red-500",children:"Please select at least one column"})]})]}),(0,v.jsx)(jK.DialogFooter,{children:(0,v.jsx)(y.Button,{id:"confirmJSONExport",onClick:()=>aJ(C),children:"Export"})})]})]}),(0,v.jsx)(y.Button,{id:"exportSQL",onClick:()=>{aK(G)},variant:"outline",size:"sm",children:"Export SQL"}),(0,v.jsxs)(jK.Dialog,{open:E,onOpenChange:F,children:[(0,v.jsx)(jK.DialogTrigger,{asChild:!0,children:(0,v.jsx)(y.Button,{id:"exportSQLOptions",variant:"outline",size:"sm",onClick:()=>{e&&0===G.selectedColumns.length&&H({...G,selectedColumns:[...e.columns]})},children:"SQL Options"})}),(0,v.jsxs)(jK.DialogContent,{className:"sm:max-w-[500px]",children:[(0,v.jsxs)(jK.DialogHeader,{children:[(0,v.jsx)(jK.DialogTitle,{children:"SQL Dump Export Options"}),(0,v.jsx)(jK.DialogDescription,{children:"Configure your SQL dump export settings"})]}),(0,v.jsxs)("div",{className:"grid gap-4 py-4",children:[(0,v.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,v.jsx)(jM.Checkbox,{id:"dropTableIfExists",checked:G.dropTableIfExists,onCheckedChange:a=>H({...G,dropTableIfExists:!!a})}),(0,v.jsx)(jN.Label,{htmlFor:"dropTableIfExists",className:"text-sm font-medium",children:"Include DROP TABLE IF EXISTS"})]}),(0,v.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,v.jsx)(jM.Checkbox,{id:"includeTransactions",checked:G.includeTransactions,onCheckedChange:a=>H({...G,includeTransactions:!!a})}),(0,v.jsx)(jN.Label,{htmlFor:"includeTransactions",className:"text-sm font-medium",children:"Wrap in transaction (BEGIN/COMMIT)"})]}),(0,v.jsxs)("div",{className:"grid gap-2",children:[(0,v.jsx)(jN.Label,{htmlFor:"batchSize",className:"text-sm font-medium",children:"Batch size (rows per INSERT)"}),(0,v.jsx)(jO.Input,{id:"batchSize",type:"number",min:"1",max:"1000",value:G.batchSize,onChange:a=>H({...G,batchSize:parseInt(a.target.value)||100})})]}),e&&e.columns.length>0&&(0,v.jsxs)("div",{className:"grid gap-2",children:[(0,v.jsx)(jN.Label,{className:"text-sm font-medium",children:"Select Columns to Export"}),(0,v.jsxs)("div",{className:"flex gap-2 mb-2",children:[(0,v.jsx)(y.Button,{id:"selectAllColumns",type:"button",variant:"outline",size:"sm",onClick:()=>H({...G,selectedColumns:[...e.columns]}),children:"Select All"}),(0,v.jsx)(y.Button,{id:"deselectAllColumns",type:"button",variant:"outline",size:"sm",onClick:()=>H({...G,selectedColumns:[]}),children:"Deselect All"})]}),(0,v.jsx)("div",{className:"grid grid-cols-2 gap-2 max-h-48 overflow-y-auto",children:e.columns.map(a=>(0,v.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,v.jsx)(jM.Checkbox,{id:`column-${a}`,checked:G.selectedColumns.includes(a),onCheckedChange:b=>{b?H({...G,selectedColumns:[...G.selectedColumns,a]}):H({...G,selectedColumns:G.selectedColumns.filter(b=>b!==a)})}}),(0,v.jsx)(jN.Label,{htmlFor:`column-${a}`,className:"text-sm cursor-pointer",children:a})]},a))}),0===G.selectedColumns.length&&(0,v.jsx)("p",{className:"text-sm text-red-500",children:"Please select at least one column"})]})]}),(0,v.jsx)(jK.DialogFooter,{children:(0,v.jsx)(y.Button,{id:"confirmSQLExport",onClick:()=>aK(G),children:"Export"})})]})]})]})]})}),(0,v.jsx)(z.CardContent,{children:e.rows.length>0?(0,v.jsx)("div",{className:"overflow-x-auto",children:(0,v.jsxs)(jJ.Table,{id:"resultsTable",children:[(0,v.jsx)(jJ.TableHeader,{children:(0,v.jsx)(jJ.TableRow,{children:e.columns.map((a,b)=>(0,v.jsx)(jJ.TableHead,{children:a},b))})}),(0,v.jsx)(jJ.TableBody,{children:e.rows.map((a,b)=>(0,v.jsx)(jJ.TableRow,{children:a.values.map((a,b)=>(0,v.jsx)(jJ.TableCell,{children:"Null"===a.type?(0,v.jsx)("span",{className:"text-gray-400 italic",children:"NULL"}):String(a.value)},b))},b))})]})}):(0,v.jsx)("p",{className:"text-gray-500",children:"Query executed successfully (no rows returned)"})})]}),(0,v.jsx)(jK.Dialog,{open:K,onOpenChange:L,children:(0,v.jsxs)(jK.DialogContent,{children:[(0,v.jsxs)(jK.DialogHeader,{children:[(0,v.jsx)(jK.DialogTitle,{children:"Save Query as Bookmark"}),(0,v.jsx)(jK.DialogDescription,{children:"Save this query for later use"})]}),(0,v.jsxs)("div",{className:"space-y-4",children:[(0,v.jsxs)("div",{children:[(0,v.jsx)(jN.Label,{htmlFor:"bookmarkName",children:"Name *"}),(0,v.jsx)(jO.Input,{id:"bookmarkName",placeholder:"Enter query name",value:O,onChange:a=>P(a.target.value)})]}),(0,v.jsxs)("div",{children:[(0,v.jsx)(jN.Label,{htmlFor:"bookmarkDescription",children:"Description"}),(0,v.jsx)(jT.Textarea,{id:"bookmarkDescription",placeholder:"Enter description (optional)",value:Q,onChange:a=>R(a.target.value)})]}),(0,v.jsxs)("div",{children:[(0,v.jsx)(jN.Label,{htmlFor:"bookmarkTags",children:"Tags"}),(0,v.jsx)(jO.Input,{id:"bookmarkTags",placeholder:"Comma-separated tags (e.g., analytics, report)",value:S,onChange:a=>T(a.target.value)})]}),U&&(0,v.jsx)("p",{className:"text-sm text-red-500",children:U})]}),(0,v.jsxs)(jK.DialogFooter,{children:[(0,v.jsx)(y.Button,{variant:"outline",onClick:()=>L(!1),children:"Cancel"}),(0,v.jsx)(y.Button,{onClick:ay,children:"Save Bookmark"})]})]})}),(0,v.jsx)(jK.Dialog,{open:Y,onOpenChange:Z,children:(0,v.jsxs)(jK.DialogContent,{children:[(0,v.jsxs)(jK.DialogHeader,{children:[(0,v.jsx)(jK.DialogTitle,{children:"Edit Bookmark"}),(0,v.jsx)(jK.DialogDescription,{children:"Update bookmark details"})]}),(0,v.jsxs)("div",{className:"space-y-4",children:[(0,v.jsxs)("div",{children:[(0,v.jsx)(jN.Label,{htmlFor:"editBookmarkName",children:"Name *"}),(0,v.jsx)(jO.Input,{id:"editBookmarkName",placeholder:"Enter query name",value:O,onChange:a=>P(a.target.value)})]}),(0,v.jsxs)("div",{children:[(0,v.jsx)(jN.Label,{htmlFor:"editBookmarkDescription",children:"Description"}),(0,v.jsx)(jT.Textarea,{id:"editBookmarkDescription",placeholder:"Enter description (optional)",value:Q,onChange:a=>R(a.target.value)})]}),(0,v.jsxs)("div",{children:[(0,v.jsx)(jN.Label,{htmlFor:"editBookmarkTags",children:"Tags"}),(0,v.jsx)(jO.Input,{id:"editBookmarkTags",placeholder:"Comma-separated tags",value:S,onChange:a=>T(a.target.value)})]}),U&&(0,v.jsx)("p",{className:"text-sm text-red-500",children:U})]}),(0,v.jsxs)(jK.DialogFooter,{children:[(0,v.jsx)(y.Button,{variant:"outline",onClick:()=>Z(!1),children:"Cancel"}),(0,v.jsx)(y.Button,{onClick:az,children:"Save Changes"})]})]})}),(0,v.jsx)(jK.Dialog,{open:$,onOpenChange:_,children:(0,v.jsxs)(jK.DialogContent,{children:[(0,v.jsxs)(jK.DialogHeader,{children:[(0,v.jsx)(jK.DialogTitle,{children:"Delete Bookmark"}),(0,v.jsxs)(jK.DialogDescription,{children:['Are you sure you want to delete "',aa?.name,'"? This action cannot be undone.']})]}),(0,v.jsxs)(jK.DialogFooter,{children:[(0,v.jsx)(y.Button,{variant:"outline",onClick:()=>_(!1),children:"Cancel"}),(0,v.jsx)(y.Button,{variant:"destructive",onClick:aA,children:"Delete Bookmark"})]})]})}),M&&(0,v.jsxs)(z.Card,{children:[(0,v.jsx)(z.CardHeader,{children:(0,v.jsxs)("div",{className:"flex justify-between items-center",children:[(0,v.jsx)(z.CardTitle,{children:"Saved Queries"}),(0,v.jsxs)("div",{className:"flex gap-2",children:[(0,v.jsx)(y.Button,{size:"sm",variant:"outline",onClick:aB,children:"Export Library"}),(0,v.jsx)(jN.Label,{htmlFor:"importBookmarks",className:"cursor-pointer",children:(0,v.jsx)(y.Button,{size:"sm",variant:"outline",asChild:!0,children:(0,v.jsx)("span",{children:"Import Library"})})}),(0,v.jsx)("input",{id:"importBookmarks",type:"file",accept:".json",className:"hidden",onChange:aC})]})]})}),(0,v.jsx)(z.CardContent,{children:(0,v.jsxs)("div",{className:"space-y-4",children:[(0,v.jsx)(jO.Input,{placeholder:"Search queries...",value:ac,onChange:a=>ad(a.target.value)}),aE.length>0&&(0,v.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,v.jsx)(y.Button,{size:"sm",variant:null===ae?"default":"outline",onClick:()=>af(null),children:"All"}),aE.map(a=>(0,v.jsx)(y.Button,{size:"sm",variant:ae===a?"default":"outline",onClick:()=>af(a),"data-tag-filter":a,children:a},a))]}),(0,v.jsx)("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:0===aD.length?(0,v.jsx)("p",{className:"text-sm text-gray-500 text-center py-4",children:ac||ae?"No matching queries found":"No saved queries yet"}):aD.map(a=>(0,v.jsxs)("div",{"data-query-name":a.name,className:"border rounded p-3 space-y-2",children:[(0,v.jsxs)("div",{className:"cursor-pointer hover:bg-gray-50 -m-3 p-3",onClick:()=>{d(a.sql),N(!1)},children:[(0,v.jsx)("div",{className:"font-semibold",children:a.name}),a.description&&(0,v.jsx)("div",{className:"text-sm text-gray-600",children:a.description}),(0,v.jsxs)("div",{className:"font-mono text-xs text-gray-500 mt-1 truncate",children:[a.sql.substring(0,100),a.sql.length>100&&"..."]}),(0,v.jsxs)("div",{className:"flex gap-2 items-center mt-2",children:[a.tags.map(a=>(0,v.jsx)("span",{className:"text-xs bg-blue-100 text-blue-800 px-2 py-0.5 rounded",children:a},a)),(0,v.jsxs)("span",{className:"text-xs text-gray-500",children:["Created ",new Date(a.created_at).toLocaleDateString()]})]})]}),(0,v.jsxs)("div",{className:"flex gap-2 pt-2 border-t",children:[(0,v.jsx)(y.Button,{size:"sm",variant:"outline",onClick:b=>{b.stopPropagation(),X(a),P(a.name),R(a.description||""),T(a.tags.join(", ")),Z(!0)},children:"Edit"}),(0,v.jsx)(y.Button,{size:"sm",variant:"outline",onClick:b=>{b.stopPropagation(),ab(a),_(!0)},children:"Delete"})]})]},a.id))})]})})]}),ai&&(0,v.jsxs)(z.Card,{children:[(0,v.jsx)(z.CardHeader,{children:(0,v.jsxs)("div",{className:"flex justify-between items-center",children:[(0,v.jsx)(z.CardTitle,{children:"Performance Statistics"}),(0,v.jsxs)("div",{className:"flex gap-2",children:[(0,v.jsx)(y.Button,{size:"sm",variant:"outline",onClick:aH,children:"Export Stats"}),(0,v.jsx)(y.Button,{size:"sm",variant:"destructive",onClick:()=>an(!0),children:"Clear Stats"})]})]})}),(0,v.jsx)(z.CardContent,{children:0===ag.length?(0,v.jsx)("p",{className:"text-sm text-gray-500 text-center py-4",children:"No performance data yet"}):(0,v.jsxs)("div",{className:"space-y-4",children:[(0,v.jsxs)("div",{className:"grid grid-cols-4 gap-4 mb-4",children:[(0,v.jsxs)("div",{className:"text-center",children:[(0,v.jsx)("div",{className:"text-2xl font-bold",children:ag.length}),(0,v.jsx)("div",{className:"text-sm text-gray-600",children:"Total queries"})]}),(0,v.jsxs)("div",{className:"text-center",children:[(0,v.jsx)("div",{className:"text-2xl font-bold",children:ag.reduce((a,b)=>a+b.executionCount,0)}),(0,v.jsx)("div",{className:"text-sm text-gray-600",children:"Total executions"})]}),(0,v.jsxs)("div",{className:"text-center",children:[(0,v.jsx)("div",{className:"text-2xl font-bold text-orange-600",children:ag.filter(a=>a.avgTime>1e3).length}),(0,v.jsx)("div",{className:"text-sm text-gray-600",children:"Slow queries"})]}),(0,v.jsxs)("div",{className:"text-center",children:[(0,v.jsxs)("div",{className:"text-2xl font-bold",children:[(ag.reduce((a,b)=>a+b.totalTime,0)/ag.reduce((a,b)=>a+b.executionCount,0)).toFixed(2),"ms"]}),(0,v.jsx)("div",{className:"text-sm text-gray-600",children:"Avg execution time"})]})]}),(0,v.jsx)("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:ag.map(a=>(0,v.jsxs)("div",{"data-query-stats":a.sql,className:`border rounded p-3 ${a.avgTime>1e3?"border-orange-300 bg-orange-50":""}`,children:[(0,v.jsx)("div",{className:"font-mono text-sm mb-2",children:a.sql}),(0,v.jsxs)("div",{className:"grid grid-cols-4 gap-2 text-xs",children:[(0,v.jsxs)("div",{children:[(0,v.jsx)("span",{className:"text-gray-600",children:"Executions:"})," ",(0,v.jsx)("span",{className:"font-semibold",children:a.executionCount})]}),(0,v.jsxs)("div",{children:[(0,v.jsx)("span",{className:"text-gray-600",children:"Avg:"})," ",(0,v.jsxs)("span",{className:"font-semibold",children:[a.avgTime.toFixed(2),"ms"]})]}),(0,v.jsxs)("div",{children:[(0,v.jsx)("span",{className:"text-gray-600",children:"Min:"})," ",(0,v.jsxs)("span",{className:"font-semibold",children:[a.minTime.toFixed(2),"ms"]})]}),(0,v.jsxs)("div",{children:[(0,v.jsx)("span",{className:"text-gray-600",children:"Max:"})," ",(0,v.jsxs)("span",{className:"font-semibold",children:[a.maxTime.toFixed(2),"ms"]})]})]}),(0,v.jsxs)("div",{className:"text-xs text-gray-500 mt-2",children:["Last executed: ",new Date(a.lastExecuted).toLocaleString()]})]},a.id))})]})})]}),ak&&(0,v.jsxs)(z.Card,{children:[(0,v.jsx)(z.CardHeader,{children:(0,v.jsx)(z.CardTitle,{children:"Slow Queries (> 1000ms)"})}),(0,v.jsx)(z.CardContent,{children:(0,v.jsx)("div",{id:"slowQueriesList",className:"space-y-2",children:0===ag.filter(a=>a.avgTime>1e3||a.maxTime>1e3).length?(0,v.jsx)("p",{className:"text-sm text-gray-500 text-center py-4",children:"No slow queries detected"}):ag.filter(a=>a.avgTime>1e3||a.maxTime>1e3).sort((a,b)=>b.avgTime-a.avgTime).map(a=>(0,v.jsxs)("div",{className:"border border-orange-300 bg-orange-50 rounded p-3",children:[(0,v.jsx)("div",{className:"font-mono text-sm mb-2",children:a.sql}),(0,v.jsxs)("div",{className:"grid grid-cols-4 gap-2 text-xs",children:[(0,v.jsxs)("div",{children:[(0,v.jsx)("span",{className:"text-gray-600",children:"Avg:"})," ",(0,v.jsxs)("span",{className:"font-semibold text-orange-700",children:[a.avgTime.toFixed(2),"ms"]})]}),(0,v.jsxs)("div",{children:[(0,v.jsx)("span",{className:"text-gray-600",children:"Max:"})," ",(0,v.jsxs)("span",{className:"font-semibold text-red-700",children:[a.maxTime.toFixed(2),"ms"]})]}),(0,v.jsxs)("div",{children:[(0,v.jsx)("span",{className:"text-gray-600",children:"Executions:"})," ",(0,v.jsx)("span",{className:"font-semibold",children:a.executionCount})]}),(0,v.jsxs)("div",{children:[(0,v.jsx)("span",{className:"text-gray-600",children:"Last run:"})," ",(0,v.jsx)("span",{className:"font-semibold",children:new Date(a.lastExecuted).toLocaleTimeString()})]})]})]},a.id))})})]}),(0,v.jsx)(jK.Dialog,{open:am,onOpenChange:an,children:(0,v.jsxs)(jK.DialogContent,{children:[(0,v.jsxs)(jK.DialogHeader,{children:[(0,v.jsx)(jK.DialogTitle,{children:"Clear Performance Statistics?"}),(0,v.jsx)(jK.DialogDescription,{children:"This will permanently delete all performance tracking data. This action cannot be undone."})]}),(0,v.jsxs)(jK.DialogFooter,{children:[(0,v.jsx)(y.Button,{variant:"outline",onClick:()=>an(!1),children:"Cancel"}),(0,v.jsx)(y.Button,{variant:"destructive",onClick:aG,children:"Confirm"})]})]})})]})]})}function mE(){let{currentDbName:a}=(0,x.useDatabaseStore)();return(0,v.jsx)(mD,{})}a.s(["default",()=>mE],50735)}];

//# sourceMappingURL=pwa_865a90e4._.js.map